(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function du(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function mg(i){if(i.__esModule)return i;var n=i.default;if(typeof n=="function"){var r=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var l=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:function(){return i[a]}})}),r}var $l={exports:{}},zs={},Fl={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf;function gg(){if(xf)return we;xf=1;var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function x(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function P(T,z,he){this.props=T,this.context=z,this.refs=N,this.updater=he||b}P.prototype.isReactComponent={},P.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},P.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function D(){}D.prototype=P.prototype;function $(T,z,he){this.props=T,this.context=z,this.refs=N,this.updater=he||b}var A=$.prototype=new D;A.constructor=$,k(A,P.prototype),A.isPureReactComponent=!0;var U=Array.isArray,V=Object.prototype.hasOwnProperty,oe={current:null},ye={key:!0,ref:!0,__self:!0,__source:!0};function ve(T,z,he){var me,be={},_e=null,Te=null;if(z!=null)for(me in z.ref!==void 0&&(Te=z.ref),z.key!==void 0&&(_e=""+z.key),z)V.call(z,me)&&!ye.hasOwnProperty(me)&&(be[me]=z[me]);var je=arguments.length-2;if(je===1)be.children=he;else if(1<je){for(var Le=Array(je),gt=0;gt<je;gt++)Le[gt]=arguments[gt+2];be.children=Le}if(T&&T.defaultProps)for(me in je=T.defaultProps,je)be[me]===void 0&&(be[me]=je[me]);return{$$typeof:i,type:T,key:_e,ref:Te,props:be,_owner:oe.current}}function fe(T,z){return{$$typeof:i,type:T.type,key:z,ref:T.ref,props:T.props,_owner:T._owner}}function xe(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function rt(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(he){return z[he]})}var ue=/\/+/g;function de(T,z){return typeof T=="object"&&T!==null&&T.key!=null?rt(""+T.key):z.toString(36)}function Pe(T,z,he,me,be){var _e=typeof T;(_e==="undefined"||_e==="boolean")&&(T=null);var Te=!1;if(T===null)Te=!0;else switch(_e){case"string":case"number":Te=!0;break;case"object":switch(T.$$typeof){case i:case n:Te=!0}}if(Te)return Te=T,be=be(Te),T=me===""?"."+de(Te,0):me,U(be)?(he="",T!=null&&(he=T.replace(ue,"$&/")+"/"),Pe(be,z,he,"",function(gt){return gt})):be!=null&&(xe(be)&&(be=fe(be,he+(!be.key||Te&&Te.key===be.key?"":(""+be.key).replace(ue,"$&/")+"/")+T)),z.push(be)),1;if(Te=0,me=me===""?".":me+":",U(T))for(var je=0;je<T.length;je++){_e=T[je];var Le=me+de(_e,je);Te+=Pe(_e,z,he,Le,be)}else if(Le=x(T),typeof Le=="function")for(T=Le.call(T),je=0;!(_e=T.next()).done;)_e=_e.value,Le=me+de(_e,je++),Te+=Pe(_e,z,he,Le,be);else if(_e==="object")throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Te}function Oe(T,z,he){if(T==null)return T;var me=[],be=0;return Pe(T,me,"","",function(_e){return z.call(he,_e,be++)}),me}function Ae(T){if(T._status===-1){var z=T._result;z=z(),z.then(function(he){(T._status===0||T._status===-1)&&(T._status=1,T._result=he)},function(he){(T._status===0||T._status===-1)&&(T._status=2,T._result=he)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var ke={current:null},J={transition:null},ne={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:J,ReactCurrentOwner:oe};function G(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Oe,forEach:function(T,z,he){Oe(T,function(){z.apply(this,arguments)},he)},count:function(T){var z=0;return Oe(T,function(){z++}),z},toArray:function(T){return Oe(T,function(z){return z})||[]},only:function(T){if(!xe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},we.Component=P,we.Fragment=r,we.Profiler=l,we.PureComponent=$,we.StrictMode=a,we.Suspense=p,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,we.act=G,we.cloneElement=function(T,z,he){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var me=k({},T.props),be=T.key,_e=T.ref,Te=T._owner;if(z!=null){if(z.ref!==void 0&&(_e=z.ref,Te=oe.current),z.key!==void 0&&(be=""+z.key),T.type&&T.type.defaultProps)var je=T.type.defaultProps;for(Le in z)V.call(z,Le)&&!ye.hasOwnProperty(Le)&&(me[Le]=z[Le]===void 0&&je!==void 0?je[Le]:z[Le])}var Le=arguments.length-2;if(Le===1)me.children=he;else if(1<Le){je=Array(Le);for(var gt=0;gt<Le;gt++)je[gt]=arguments[gt+2];me.children=je}return{$$typeof:i,type:T.type,key:be,ref:_e,props:me,_owner:Te}},we.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:u,_context:T},T.Consumer=T},we.createElement=ve,we.createFactory=function(T){var z=ve.bind(null,T);return z.type=T,z},we.createRef=function(){return{current:null}},we.forwardRef=function(T){return{$$typeof:h,render:T}},we.isValidElement=xe,we.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:Ae}},we.memo=function(T,z){return{$$typeof:g,type:T,compare:z===void 0?null:z}},we.startTransition=function(T){var z=J.transition;J.transition={};try{T()}finally{J.transition=z}},we.unstable_act=G,we.useCallback=function(T,z){return ke.current.useCallback(T,z)},we.useContext=function(T){return ke.current.useContext(T)},we.useDebugValue=function(){},we.useDeferredValue=function(T){return ke.current.useDeferredValue(T)},we.useEffect=function(T,z){return ke.current.useEffect(T,z)},we.useId=function(){return ke.current.useId()},we.useImperativeHandle=function(T,z,he){return ke.current.useImperativeHandle(T,z,he)},we.useInsertionEffect=function(T,z){return ke.current.useInsertionEffect(T,z)},we.useLayoutEffect=function(T,z){return ke.current.useLayoutEffect(T,z)},we.useMemo=function(T,z){return ke.current.useMemo(T,z)},we.useReducer=function(T,z,he){return ke.current.useReducer(T,z,he)},we.useRef=function(T){return ke.current.useRef(T)},we.useState=function(T){return ke.current.useState(T)},we.useSyncExternalStore=function(T,z,he){return ke.current.useSyncExternalStore(T,z,he)},we.useTransition=function(){return ke.current.useTransition()},we.version="18.3.1",we}var _f;function fu(){return _f||(_f=1,Fl.exports=gg()),Fl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf;function yg(){if(kf)return zs;kf=1;var i=fu(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var y,w={},x=null,b=null;g!==void 0&&(x=""+g),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(b=p.ref);for(y in p)a.call(p,y)&&!u.hasOwnProperty(y)&&(w[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)w[y]===void 0&&(w[y]=p[y]);return{$$typeof:n,type:h,key:x,ref:b,props:w,_owner:l.current}}return zs.Fragment=r,zs.jsx=d,zs.jsxs=d,zs}var Sf;function vg(){return Sf||(Sf=1,$l.exports=yg()),$l.exports}var m=vg(),S=fu();const tt=du(S);var ka={},Ul={exports:{}},Et={},zl={exports:{}},Ml={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf;function wg(){return bf||(bf=1,function(i){function n(J,ne){var G=J.length;J.push(ne);e:for(;0<G;){var T=G-1>>>1,z=J[T];if(0<l(z,ne))J[T]=ne,J[G]=z,G=T;else break e}}function r(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ne=J[0],G=J.pop();if(G!==ne){J[0]=G;e:for(var T=0,z=J.length,he=z>>>1;T<he;){var me=2*(T+1)-1,be=J[me],_e=me+1,Te=J[_e];if(0>l(be,G))_e<z&&0>l(Te,be)?(J[T]=Te,J[_e]=G,T=_e):(J[T]=be,J[me]=G,T=me);else if(_e<z&&0>l(Te,G))J[T]=Te,J[_e]=G,T=_e;else break e}}return ne}function l(J,ne){var G=J.sortIndex-ne.sortIndex;return G!==0?G:J.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var p=[],g=[],y=1,w=null,x=3,b=!1,k=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(J){for(var ne=r(g);ne!==null;){if(ne.callback===null)a(g);else if(ne.startTime<=J)a(g),ne.sortIndex=ne.expirationTime,n(p,ne);else break;ne=r(g)}}function U(J){if(N=!1,A(J),!k)if(r(p)!==null)k=!0,Ae(V);else{var ne=r(g);ne!==null&&ke(U,ne.startTime-J)}}function V(J,ne){k=!1,N&&(N=!1,D(ve),ve=-1),b=!0;var G=x;try{for(A(ne),w=r(p);w!==null&&(!(w.expirationTime>ne)||J&&!rt());){var T=w.callback;if(typeof T=="function"){w.callback=null,x=w.priorityLevel;var z=T(w.expirationTime<=ne);ne=i.unstable_now(),typeof z=="function"?w.callback=z:w===r(p)&&a(p),A(ne)}else a(p);w=r(p)}if(w!==null)var he=!0;else{var me=r(g);me!==null&&ke(U,me.startTime-ne),he=!1}return he}finally{w=null,x=G,b=!1}}var oe=!1,ye=null,ve=-1,fe=5,xe=-1;function rt(){return!(i.unstable_now()-xe<fe)}function ue(){if(ye!==null){var J=i.unstable_now();xe=J;var ne=!0;try{ne=ye(!0,J)}finally{ne?de():(oe=!1,ye=null)}}else oe=!1}var de;if(typeof $=="function")de=function(){$(ue)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Oe=Pe.port2;Pe.port1.onmessage=ue,de=function(){Oe.postMessage(null)}}else de=function(){P(ue,0)};function Ae(J){ye=J,oe||(oe=!0,de())}function ke(J,ne){ve=P(function(){J(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){k||b||(k=!0,Ae(V))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return r(p)},i.unstable_next=function(J){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var G=x;x=ne;try{return J()}finally{x=G}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ne){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var G=x;x=J;try{return ne()}finally{x=G}},i.unstable_scheduleCallback=function(J,ne,G){var T=i.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?T+G:T):G=T,J){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=G+z,J={id:y++,callback:ne,priorityLevel:J,startTime:G,expirationTime:z,sortIndex:-1},G>T?(J.sortIndex=G,n(g,J),r(p)===null&&J===r(g)&&(N?(D(ve),ve=-1):N=!0,ke(U,G-T))):(J.sortIndex=z,n(p,J),k||b||(k=!0,Ae(V))),J},i.unstable_shouldYield=rt,i.unstable_wrapCallback=function(J){var ne=x;return function(){var G=x;x=ne;try{return J.apply(this,arguments)}finally{x=G}}}}(Ml)),Ml}var Ef;function xg(){return Ef||(Ef=1,zl.exports=wg()),zl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf;function _g(){if(jf)return Et;jf=1;var i=fu(),n=xg();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function x(e){return p.call(w,e)?!0:p.call(y,e)?!1:g.test(e)?w[e]=!0:(y[e]=!0,!1)}function b(e,t,s,o){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,t,s,o){if(t===null||typeof t>"u"||b(e,t,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,s,o,c,f,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=v}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,$);P[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,$);P[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,$);P[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,s,o){var c=P.hasOwnProperty(t)?P[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k(t,s,c,o)&&(s=null),o||c===null?x(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(t=c.attributeName,o=c.attributeNamespace,s===null?e.removeAttribute(t):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,o?e.setAttributeNS(o,t,s):e.setAttribute(t,s))))}var U=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),oe=Symbol.for("react.portal"),ye=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),rt=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),J=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,T;function z(e){if(T===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var he=!1;function me(e,t){if(!e||he)return"";he=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var o=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){o=I}e.call(t.prototype)}else{try{throw Error()}catch(I){o=I}e()}}catch(I){if(I&&o&&typeof I.stack=="string"){for(var c=I.stack.split(`
`),f=o.stack.split(`
`),v=c.length-1,_=f.length-1;1<=v&&0<=_&&c[v]!==f[_];)_--;for(;1<=v&&0<=_;v--,_--)if(c[v]!==f[_]){if(v!==1||_!==1)do if(v--,_--,0>_||c[v]!==f[_]){var E=`
`+c[v].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=v&&0<=_);break}}}finally{he=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?z(e):""}function be(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function _e(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ye:return"Fragment";case oe:return"Portal";case fe:return"Profiler";case ve:return"StrictMode";case de:return"Suspense";case Pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rt:return(e.displayName||"Context")+".Consumer";case xe:return(e._context.displayName||"Context")+".Provider";case ue:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oe:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}function Te(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(t);case 8:return t===ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function je(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Le(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gt(e){var t=Le(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gr(e){e._valueTracker||(e._valueTracker=gt(e))}function ci(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),o="";return e&&(o=Le(e)?e.checked?"true":"false":e.value),e=o,e!==s?(t.setValue(e),!0):!1}function Yr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xn(e,t){var s=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function qa(e,t){var s=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;s=je(t.value!=null?t.value:s),e._wrapperState={initialChecked:o,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wa(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function di(e,t){Wa(e,t);var s=je(t.value),o=t.type;if(s!=null)o==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?L(e,t.type,s):t.hasOwnProperty("defaultValue")&&L(e,t.type,je(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function j(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function L(e,t,s){(t!=="number"||Yr(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var F=Array.isArray;function K(e,t,s,o){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+je(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Q(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function W(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(r(92));if(F(s)){if(1<s.length)throw Error(r(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:je(s)}}function se(e,t){var s=je(t.value),o=je(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),o!=null&&(e.defaultValue=""+o)}function pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function We(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?We(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nt,fi=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,o,c){MSApp.execUnsafeLocalFunction(function(){return e(t,s,o,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qa=["Webkit","ms","Moz","O"];Object.keys(dr).forEach(function(e){Qa.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dr[t]=dr[e]})});function ns(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||dr.hasOwnProperty(e)&&dr[e]?(""+t).trim():t+"px"}function hi(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var o=s.indexOf("--")===0,c=ns(s,t[s],o);s==="float"&&(s="cssFloat"),o?e.setProperty(s,c):e[s]=c}}var pi=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ja(e,t){if(t){if(pi[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(r(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(t.style!=null&&typeof t.style!="object")throw Error(r(62))}}function Ka(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ga=null;function Ya(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,_n=null,kn=null;function Du(e){if(e=Es(e)){if(typeof Xa!="function")throw Error(r(280));var t=e.stateNode;t&&(t=$i(t),Xa(e.stateNode,e.type,t))}}function $u(e){_n?kn?kn.push(e):kn=[e]:_n=e}function Fu(){if(_n){var e=_n,t=kn;if(kn=_n=null,Du(e),t)for(e=0;e<t.length;e++)Du(t[e])}}function Uu(e,t){return e(t)}function zu(){}var Za=!1;function Mu(e,t,s){if(Za)return e(t,s);Za=!0;try{return Uu(e,t,s)}finally{Za=!1,(_n!==null||kn!==null)&&(zu(),Fu())}}function ss(e,t){var s=e.stateNode;if(s===null)return null;var o=$i(s);if(o===null)return null;s=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,t,typeof s));return s}var eo=!1;if(h)try{var is={};Object.defineProperty(is,"passive",{get:function(){eo=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{eo=!1}function kp(e,t,s,o,c,f,v,_,E){var I=Array.prototype.slice.call(arguments,3);try{t.apply(s,I)}catch(B){this.onError(B)}}var as=!1,mi=null,gi=!1,to=null,Sp={onError:function(e){as=!0,mi=e}};function bp(e,t,s,o,c,f,v,_,E){as=!1,mi=null,kp.apply(Sp,arguments)}function Ep(e,t,s,o,c,f,v,_,E){if(bp.apply(this,arguments),as){if(as){var I=mi;as=!1,mi=null}else throw Error(r(198));gi||(gi=!0,to=I)}}function Xr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Bu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vu(e){if(Xr(e)!==e)throw Error(r(188))}function jp(e){var t=e.alternate;if(!t){if(t=Xr(e),t===null)throw Error(r(188));return t!==e?null:e}for(var s=e,o=t;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return Vu(c),e;if(f===o)return Vu(c),t;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=c,o=f;else{for(var v=!1,_=c.child;_;){if(_===s){v=!0,s=c,o=f;break}if(_===o){v=!0,o=c,s=f;break}_=_.sibling}if(!v){for(_=f.child;_;){if(_===s){v=!0,s=f,o=c;break}if(_===o){v=!0,o=f,s=c;break}_=_.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:t}function Hu(e){return e=jp(e),e!==null?qu(e):null}function qu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qu(e);if(t!==null)return t;e=e.sibling}return null}var Wu=n.unstable_scheduleCallback,Qu=n.unstable_cancelCallback,Cp=n.unstable_shouldYield,Np=n.unstable_requestPaint,Qe=n.unstable_now,Pp=n.unstable_getCurrentPriorityLevel,ro=n.unstable_ImmediatePriority,Ju=n.unstable_UserBlockingPriority,yi=n.unstable_NormalPriority,Tp=n.unstable_LowPriority,Ku=n.unstable_IdlePriority,vi=null,tr=null;function Rp(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(vi,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Ap,Op=Math.log,Lp=Math.LN2;function Ap(e){return e>>>=0,e===0?32:31-(Op(e)/Lp|0)|0}var wi=64,xi=4194304;function os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _i(e,t){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,f=e.pingedLanes,v=s&268435455;if(v!==0){var _=v&~c;_!==0?o=os(_):(f&=v,f!==0&&(o=os(f)))}else v=s&~c,v!==0?o=os(v):f!==0&&(o=os(f));if(o===0)return 0;if(t!==0&&t!==o&&!(t&c)&&(c=o&-o,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if(o&4&&(o|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)s=31-qt(t),c=1<<s,o|=e[s],t&=~c;return o}function Ip(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dp(e,t){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var v=31-qt(f),_=1<<v,E=c[v];E===-1?(!(_&s)||_&o)&&(c[v]=Ip(_,t)):E<=t&&(e.expiredLanes|=_),f&=~_}}function no(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gu(){var e=wi;return wi<<=1,!(wi&4194240)&&(wi=64),e}function so(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ls(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=s}function $p(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-qt(s),f=1<<c;t[c]=0,o[c]=-1,e[c]=-1,s&=~f}}function io(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var o=31-qt(s),c=1<<o;c&t|e[o]&t&&(e[o]|=t),s&=~c}}var Re=0;function Yu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xu,ao,Zu,ec,tc,oo=!1,ki=[],Er=null,jr=null,Cr=null,us=new Map,cs=new Map,Nr=[],Fp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(t.pointerId)}}function ds(e,t,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Es(t),t!==null&&ao(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Up(e,t,s,o,c){switch(t){case"focusin":return Er=ds(Er,e,t,s,o,c),!0;case"dragenter":return jr=ds(jr,e,t,s,o,c),!0;case"mouseover":return Cr=ds(Cr,e,t,s,o,c),!0;case"pointerover":var f=c.pointerId;return us.set(f,ds(us.get(f)||null,e,t,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,cs.set(f,ds(cs.get(f)||null,e,t,s,o,c)),!0}return!1}function nc(e){var t=Zr(e.target);if(t!==null){var s=Xr(t);if(s!==null){if(t=s.tag,t===13){if(t=Bu(s),t!==null){e.blockedOn=t,tc(e.priority,function(){Zu(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ga=o,s.target.dispatchEvent(o),Ga=null}else return t=Es(s),t!==null&&ao(t),e.blockedOn=s,!1;t.shift()}return!0}function sc(e,t,s){Si(e)&&s.delete(t)}function zp(){oo=!1,Er!==null&&Si(Er)&&(Er=null),jr!==null&&Si(jr)&&(jr=null),Cr!==null&&Si(Cr)&&(Cr=null),us.forEach(sc),cs.forEach(sc)}function fs(e,t){e.blockedOn===t&&(e.blockedOn=null,oo||(oo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zp)))}function hs(e){function t(c){return fs(c,e)}if(0<ki.length){fs(ki[0],e);for(var s=1;s<ki.length;s++){var o=ki[s];o.blockedOn===e&&(o.blockedOn=null)}}for(Er!==null&&fs(Er,e),jr!==null&&fs(jr,e),Cr!==null&&fs(Cr,e),us.forEach(t),cs.forEach(t),s=0;s<Nr.length;s++)o=Nr[s],o.blockedOn===e&&(o.blockedOn=null);for(;0<Nr.length&&(s=Nr[0],s.blockedOn===null);)nc(s),s.blockedOn===null&&Nr.shift()}var Sn=U.ReactCurrentBatchConfig,bi=!0;function Mp(e,t,s,o){var c=Re,f=Sn.transition;Sn.transition=null;try{Re=1,lo(e,t,s,o)}finally{Re=c,Sn.transition=f}}function Bp(e,t,s,o){var c=Re,f=Sn.transition;Sn.transition=null;try{Re=4,lo(e,t,s,o)}finally{Re=c,Sn.transition=f}}function lo(e,t,s,o){if(bi){var c=uo(e,t,s,o);if(c===null)Co(e,t,o,Ei,s),rc(e,o);else if(Up(c,e,t,s,o))o.stopPropagation();else if(rc(e,o),t&4&&-1<Fp.indexOf(e)){for(;c!==null;){var f=Es(c);if(f!==null&&Xu(f),f=uo(e,t,s,o),f===null&&Co(e,t,o,Ei,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else Co(e,t,o,null,s)}}var Ei=null;function uo(e,t,s,o){if(Ei=null,e=Ya(o),e=Zr(e),e!==null)if(t=Xr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Bu(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ei=e,null}function ic(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pp()){case ro:return 1;case Ju:return 4;case yi:case Tp:return 16;case Ku:return 536870912;default:return 16}default:return 16}}var Pr=null,co=null,ji=null;function ac(){if(ji)return ji;var e,t=co,s=t.length,o,c="value"in Pr?Pr.value:Pr.textContent,f=c.length;for(e=0;e<s&&t[e]===c[e];e++);var v=s-e;for(o=1;o<=v&&t[s-o]===c[f-o];o++);return ji=c.slice(e,1<o?1-o:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function oc(){return!1}function Pt(e){function t(s,o,c,f,v){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:oc,this.isPropagationStopped=oc,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=Pt(bn),ps=G({},bn,{view:0,detail:0}),Vp=Pt(ps),ho,po,ms,Pi=G({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(ho=e.screenX-ms.screenX,po=e.screenY-ms.screenY):po=ho=0,ms=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:po}}),lc=Pt(Pi),Hp=G({},Pi,{dataTransfer:0}),qp=Pt(Hp),Wp=G({},ps,{relatedTarget:0}),mo=Pt(Wp),Qp=G({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Jp=Pt(Qp),Kp=G({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gp=Pt(Kp),Yp=G({},bn,{data:0}),uc=Pt(Yp),Xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=em[e])?!!t[e]:!1}function go(){return tm}var rm=G({},ps,{key:function(e){if(e.key){var t=Xp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nm=Pt(rm),sm=G({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=Pt(sm),im=G({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),am=Pt(im),om=G({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lm=Pt(om),um=G({},Pi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cm=Pt(um),dm=[9,13,27,32],yo=h&&"CompositionEvent"in window,gs=null;h&&"documentMode"in document&&(gs=document.documentMode);var fm=h&&"TextEvent"in window&&!gs,dc=h&&(!yo||gs&&8<gs&&11>=gs),fc=" ",hc=!1;function pc(e,t){switch(e){case"keyup":return dm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var En=!1;function hm(e,t){switch(e){case"compositionend":return mc(t);case"keypress":return t.which!==32?null:(hc=!0,fc);case"textInput":return e=t.data,e===fc&&hc?null:e;default:return null}}function pm(e,t){if(En)return e==="compositionend"||!yo&&pc(e,t)?(e=ac(),ji=co=Pr=null,En=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dc&&t.locale!=="ko"?null:t.data;default:return null}}var mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mm[e.type]:t==="textarea"}function yc(e,t,s,o){$u(o),t=Ai(t,"onChange"),0<t.length&&(s=new fo("onChange","change",null,s,o),e.push({event:s,listeners:t}))}var ys=null,vs=null;function gm(e){Ic(e,0)}function Ti(e){var t=Tn(e);if(ci(t))return e}function ym(e,t){if(e==="change")return t}var vc=!1;if(h){var vo;if(h){var wo="oninput"in document;if(!wo){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),wo=typeof wc.oninput=="function"}vo=wo}else vo=!1;vc=vo&&(!document.documentMode||9<document.documentMode)}function xc(){ys&&(ys.detachEvent("onpropertychange",_c),vs=ys=null)}function _c(e){if(e.propertyName==="value"&&Ti(vs)){var t=[];yc(t,vs,e,Ya(e)),Mu(gm,t)}}function vm(e,t,s){e==="focusin"?(xc(),ys=t,vs=s,ys.attachEvent("onpropertychange",_c)):e==="focusout"&&xc()}function wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ti(vs)}function xm(e,t){if(e==="click")return Ti(t)}function _m(e,t){if(e==="input"||e==="change")return Ti(t)}function km(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:km;function ws(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!p.call(t,c)||!Wt(e[c],t[c]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,t){var s=kc(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=t&&o>=t)return{node:s,offset:t-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=kc(s)}}function bc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ec(){for(var e=window,t=Yr();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Yr(e.document)}return t}function xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sm(e){var t=Ec(),s=e.focusedElem,o=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&bc(s.ownerDocument.documentElement,s)){if(o!==null&&xo(s)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,f=Math.min(o.start,c);o=o.end===void 0?f:Math.min(o.end,c),!e.extend&&f>o&&(c=o,o=f,f=c),c=Sc(s,f);var v=Sc(s,o);c&&v&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bm=h&&"documentMode"in document&&11>=document.documentMode,jn=null,_o=null,xs=null,ko=!1;function jc(e,t,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ko||jn==null||jn!==Yr(o)||(o=jn,"selectionStart"in o&&xo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xs&&ws(xs,o)||(xs=o,o=Ai(_o,"onSelect"),0<o.length&&(t=new fo("onSelect","select",null,t,s),e.push({event:t,listeners:o}),t.target=jn)))}function Ri(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Cn={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},So={},Cc={};h&&(Cc=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function Oi(e){if(So[e])return So[e];if(!Cn[e])return e;var t=Cn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Cc)return So[e]=t[s];return e}var Nc=Oi("animationend"),Pc=Oi("animationiteration"),Tc=Oi("animationstart"),Rc=Oi("transitionend"),Oc=new Map,Lc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Oc.set(e,t),u(t,[e])}for(var bo=0;bo<Lc.length;bo++){var Eo=Lc[bo],Em=Eo.toLowerCase(),jm=Eo[0].toUpperCase()+Eo.slice(1);Tr(Em,"on"+jm)}Tr(Nc,"onAnimationEnd"),Tr(Pc,"onAnimationIteration"),Tr(Tc,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Rc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cm=new Set("cancel close invalid load scroll toggle".split(" ").concat(_s));function Ac(e,t,s){var o=e.type||"unknown-event";e.currentTarget=s,Ep(o,t,void 0,e),e.currentTarget=null}function Ic(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var v=o.length-1;0<=v;v--){var _=o[v],E=_.instance,I=_.currentTarget;if(_=_.listener,E!==f&&c.isPropagationStopped())break e;Ac(c,_,I),f=E}else for(v=0;v<o.length;v++){if(_=o[v],E=_.instance,I=_.currentTarget,_=_.listener,E!==f&&c.isPropagationStopped())break e;Ac(c,_,I),f=E}}}if(gi)throw e=to,gi=!1,to=null,e}function $e(e,t){var s=t[Lo];s===void 0&&(s=t[Lo]=new Set);var o=e+"__bubble";s.has(o)||(Dc(t,e,2,!1),s.add(o))}function jo(e,t,s){var o=0;t&&(o|=4),Dc(s,e,o,t)}var Li="_reactListening"+Math.random().toString(36).slice(2);function ks(e){if(!e[Li]){e[Li]=!0,a.forEach(function(s){s!=="selectionchange"&&(Cm.has(s)||jo(s,!1,e),jo(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Li]||(t[Li]=!0,jo("selectionchange",!1,t))}}function Dc(e,t,s,o){switch(ic(t)){case 1:var c=Mp;break;case 4:c=Bp;break;default:c=lo}s=c.bind(null,t,s,e),c=void 0,!eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function Co(e,t,s,o,c){var f=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var _=o.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(v===4)for(v=o.return;v!==null;){var E=v.tag;if((E===3||E===4)&&(E=v.stateNode.containerInfo,E===c||E.nodeType===8&&E.parentNode===c))return;v=v.return}for(;_!==null;){if(v=Zr(_),v===null)return;if(E=v.tag,E===5||E===6){o=f=v;continue e}_=_.parentNode}}o=o.return}Mu(function(){var I=f,B=Ya(s),H=[];e:{var M=Oc.get(e);if(M!==void 0){var Y=fo,Z=e;switch(e){case"keypress":if(Ci(s)===0)break e;case"keydown":case"keyup":Y=nm;break;case"focusin":Z="focus",Y=mo;break;case"focusout":Z="blur",Y=mo;break;case"beforeblur":case"afterblur":Y=mo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=am;break;case Nc:case Pc:case Tc:Y=Jp;break;case Rc:Y=lm;break;case"scroll":Y=Vp;break;case"wheel":Y=cm;break;case"copy":case"cut":case"paste":Y=Gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=cc}var te=(t&4)!==0,Je=!te&&e==="scroll",R=te?M!==null?M+"Capture":null:M;te=[];for(var C=I,O;C!==null;){O=C;var q=O.stateNode;if(O.tag===5&&q!==null&&(O=q,R!==null&&(q=ss(C,R),q!=null&&te.push(Ss(C,q,O)))),Je)break;C=C.return}0<te.length&&(M=new Y(M,Z,null,s,B),H.push({event:M,listeners:te}))}}if(!(t&7)){e:{if(M=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",M&&s!==Ga&&(Z=s.relatedTarget||s.fromElement)&&(Zr(Z)||Z[fr]))break e;if((Y||M)&&(M=B.window===B?B:(M=B.ownerDocument)?M.defaultView||M.parentWindow:window,Y?(Z=s.relatedTarget||s.toElement,Y=I,Z=Z?Zr(Z):null,Z!==null&&(Je=Xr(Z),Z!==Je||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Y=null,Z=I),Y!==Z)){if(te=lc,q="onMouseLeave",R="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(te=cc,q="onPointerLeave",R="onPointerEnter",C="pointer"),Je=Y==null?M:Tn(Y),O=Z==null?M:Tn(Z),M=new te(q,C+"leave",Y,s,B),M.target=Je,M.relatedTarget=O,q=null,Zr(B)===I&&(te=new te(R,C+"enter",Z,s,B),te.target=O,te.relatedTarget=Je,q=te),Je=q,Y&&Z)t:{for(te=Y,R=Z,C=0,O=te;O;O=Nn(O))C++;for(O=0,q=R;q;q=Nn(q))O++;for(;0<C-O;)te=Nn(te),C--;for(;0<O-C;)R=Nn(R),O--;for(;C--;){if(te===R||R!==null&&te===R.alternate)break t;te=Nn(te),R=Nn(R)}te=null}else te=null;Y!==null&&$c(H,M,Y,te,!1),Z!==null&&Je!==null&&$c(H,Je,Z,te,!0)}}e:{if(M=I?Tn(I):window,Y=M.nodeName&&M.nodeName.toLowerCase(),Y==="select"||Y==="input"&&M.type==="file")var re=ym;else if(gc(M))if(vc)re=_m;else{re=wm;var ie=vm}else(Y=M.nodeName)&&Y.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(re=xm);if(re&&(re=re(e,I))){yc(H,re,s,B);break e}ie&&ie(e,M,I),e==="focusout"&&(ie=M._wrapperState)&&ie.controlled&&M.type==="number"&&L(M,"number",M.value)}switch(ie=I?Tn(I):window,e){case"focusin":(gc(ie)||ie.contentEditable==="true")&&(jn=ie,_o=I,xs=null);break;case"focusout":xs=_o=jn=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,jc(H,s,B);break;case"selectionchange":if(bm)break;case"keydown":case"keyup":jc(H,s,B)}var ae;if(yo)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else En?pc(e,s)&&(ce="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ce="onCompositionStart");ce&&(dc&&s.locale!=="ko"&&(En||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&En&&(ae=ac()):(Pr=B,co="value"in Pr?Pr.value:Pr.textContent,En=!0)),ie=Ai(I,ce),0<ie.length&&(ce=new uc(ce,e,null,s,B),H.push({event:ce,listeners:ie}),ae?ce.data=ae:(ae=mc(s),ae!==null&&(ce.data=ae)))),(ae=fm?hm(e,s):pm(e,s))&&(I=Ai(I,"onBeforeInput"),0<I.length&&(B=new uc("onBeforeInput","beforeinput",null,s,B),H.push({event:B,listeners:I}),B.data=ae))}Ic(H,t)})}function Ss(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ai(e,t){for(var s=t+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=ss(e,s),f!=null&&o.unshift(Ss(e,f,c)),f=ss(e,t),f!=null&&o.push(Ss(e,f,c))),e=e.return}return o}function Nn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $c(e,t,s,o,c){for(var f=t._reactName,v=[];s!==null&&s!==o;){var _=s,E=_.alternate,I=_.stateNode;if(E!==null&&E===o)break;_.tag===5&&I!==null&&(_=I,c?(E=ss(s,f),E!=null&&v.unshift(Ss(s,E,_))):c||(E=ss(s,f),E!=null&&v.push(Ss(s,E,_)))),s=s.return}v.length!==0&&e.push({event:t,listeners:v})}var Nm=/\r\n?/g,Pm=/\u0000|\uFFFD/g;function Fc(e){return(typeof e=="string"?e:""+e).replace(Nm,`
`).replace(Pm,"")}function Ii(e,t,s){if(t=Fc(t),Fc(e)!==t&&s)throw Error(r(425))}function Di(){}var No=null,Po=null;function To(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ro=typeof setTimeout=="function"?setTimeout:void 0,Tm=typeof clearTimeout=="function"?clearTimeout:void 0,Uc=typeof Promise=="function"?Promise:void 0,Rm=typeof queueMicrotask=="function"?queueMicrotask:typeof Uc<"u"?function(e){return Uc.resolve(null).then(e).catch(Om)}:Ro;function Om(e){setTimeout(function(){throw e})}function Oo(e,t){var s=t,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(o===0){e.removeChild(c),hs(t);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=c}while(s);hs(t)}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),rr="__reactFiber$"+Pn,bs="__reactProps$"+Pn,fr="__reactContainer$"+Pn,Lo="__reactEvents$"+Pn,Lm="__reactListeners$"+Pn,Am="__reactHandles$"+Pn;function Zr(e){var t=e[rr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[fr]||s[rr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=zc(e);e!==null;){if(s=e[rr])return s;e=zc(e)}return t}e=s,s=e.parentNode}return null}function Es(e){return e=e[rr]||e[fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function $i(e){return e[bs]||null}var Ao=[],Rn=-1;function Or(e){return{current:e}}function Fe(e){0>Rn||(e.current=Ao[Rn],Ao[Rn]=null,Rn--)}function Ie(e,t){Rn++,Ao[Rn]=e.current,e.current=t}var Lr={},ft=Or(Lr),xt=Or(!1),en=Lr;function On(e,t){var s=e.type.contextTypes;if(!s)return Lr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in s)c[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function _t(e){return e=e.childContextTypes,e!=null}function Fi(){Fe(xt),Fe(ft)}function Mc(e,t,s){if(ft.current!==Lr)throw Error(r(168));Ie(ft,t),Ie(xt,s)}function Bc(e,t,s){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(r(108,Te(e)||"Unknown",c));return G({},s,o)}function Ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lr,en=ft.current,Ie(ft,e),Ie(xt,xt.current),!0}function Vc(e,t,s){var o=e.stateNode;if(!o)throw Error(r(169));s?(e=Bc(e,t,en),o.__reactInternalMemoizedMergedChildContext=e,Fe(xt),Fe(ft),Ie(ft,e)):Fe(xt),Ie(xt,s)}var hr=null,zi=!1,Io=!1;function Hc(e){hr===null?hr=[e]:hr.push(e)}function Im(e){zi=!0,Hc(e)}function Ar(){if(!Io&&hr!==null){Io=!0;var e=0,t=Re;try{var s=hr;for(Re=1;e<s.length;e++){var o=s[e];do o=o(!0);while(o!==null)}hr=null,zi=!1}catch(c){throw hr!==null&&(hr=hr.slice(e+1)),Wu(ro,Ar),c}finally{Re=t,Io=!1}}return null}var Ln=[],An=0,Mi=null,Bi=0,It=[],Dt=0,tn=null,pr=1,mr="";function rn(e,t){Ln[An++]=Bi,Ln[An++]=Mi,Mi=e,Bi=t}function qc(e,t,s){It[Dt++]=pr,It[Dt++]=mr,It[Dt++]=tn,tn=e;var o=pr;e=mr;var c=32-qt(o)-1;o&=~(1<<c),s+=1;var f=32-qt(t)+c;if(30<f){var v=c-c%5;f=(o&(1<<v)-1).toString(32),o>>=v,c-=v,pr=1<<32-qt(t)+c|s<<c|o,mr=f+e}else pr=1<<f|s<<c|o,mr=e}function Do(e){e.return!==null&&(rn(e,1),qc(e,1,0))}function $o(e){for(;e===Mi;)Mi=Ln[--An],Ln[An]=null,Bi=Ln[--An],Ln[An]=null;for(;e===tn;)tn=It[--Dt],It[Dt]=null,mr=It[--Dt],It[Dt]=null,pr=It[--Dt],It[Dt]=null}var Tt=null,Rt=null,ze=!1,Qt=null;function Wc(e,t){var s=zt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Qc(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Rt=Rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=tn!==null?{id:pr,overflow:mr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=zt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Tt=e,Rt=null,!0):!1;default:return!1}}function Fo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uo(e){if(ze){var t=Rt;if(t){var s=t;if(!Qc(e,t)){if(Fo(e))throw Error(r(418));t=Rr(s.nextSibling);var o=Tt;t&&Qc(e,t)?Wc(o,s):(e.flags=e.flags&-4097|2,ze=!1,Tt=e)}}else{if(Fo(e))throw Error(r(418));e.flags=e.flags&-4097|2,ze=!1,Tt=e}}}function Jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function Vi(e){if(e!==Tt)return!1;if(!ze)return Jc(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!To(e.type,e.memoizedProps)),t&&(t=Rt)){if(Fo(e))throw Kc(),Error(r(418));for(;t;)Wc(e,t),t=Rr(t.nextSibling)}if(Jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Rt=Rr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Tt?Rr(e.stateNode.nextSibling):null;return!0}function Kc(){for(var e=Rt;e;)e=Rr(e.nextSibling)}function In(){Rt=Tt=null,ze=!1}function zo(e){Qt===null?Qt=[e]:Qt.push(e)}var Dm=U.ReactCurrentBatchConfig;function js(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var o=s.stateNode}if(!o)throw Error(r(147,e));var c=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(v){var _=c.refs;v===null?delete _[f]:_[f]=v},t._stringRef=f,t)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Hi(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gc(e){var t=e._init;return t(e._payload)}function Yc(e){function t(R,C){if(e){var O=R.deletions;O===null?(R.deletions=[C],R.flags|=16):O.push(C)}}function s(R,C){if(!e)return null;for(;C!==null;)t(R,C),C=C.sibling;return null}function o(R,C){for(R=new Map;C!==null;)C.key!==null?R.set(C.key,C):R.set(C.index,C),C=C.sibling;return R}function c(R,C){return R=Br(R,C),R.index=0,R.sibling=null,R}function f(R,C,O){return R.index=O,e?(O=R.alternate,O!==null?(O=O.index,O<C?(R.flags|=2,C):O):(R.flags|=2,C)):(R.flags|=1048576,C)}function v(R){return e&&R.alternate===null&&(R.flags|=2),R}function _(R,C,O,q){return C===null||C.tag!==6?(C=Rl(O,R.mode,q),C.return=R,C):(C=c(C,O),C.return=R,C)}function E(R,C,O,q){var re=O.type;return re===ye?B(R,C,O.props.children,q,O.key):C!==null&&(C.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Ae&&Gc(re)===C.type)?(q=c(C,O.props),q.ref=js(R,C,O),q.return=R,q):(q=pa(O.type,O.key,O.props,null,R.mode,q),q.ref=js(R,C,O),q.return=R,q)}function I(R,C,O,q){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=Ol(O,R.mode,q),C.return=R,C):(C=c(C,O.children||[]),C.return=R,C)}function B(R,C,O,q,re){return C===null||C.tag!==7?(C=dn(O,R.mode,q,re),C.return=R,C):(C=c(C,O),C.return=R,C)}function H(R,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Rl(""+C,R.mode,O),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case V:return O=pa(C.type,C.key,C.props,null,R.mode,O),O.ref=js(R,null,C),O.return=R,O;case oe:return C=Ol(C,R.mode,O),C.return=R,C;case Ae:var q=C._init;return H(R,q(C._payload),O)}if(F(C)||ne(C))return C=dn(C,R.mode,O,null),C.return=R,C;Hi(R,C)}return null}function M(R,C,O,q){var re=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return re!==null?null:_(R,C,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return O.key===re?E(R,C,O,q):null;case oe:return O.key===re?I(R,C,O,q):null;case Ae:return re=O._init,M(R,C,re(O._payload),q)}if(F(O)||ne(O))return re!==null?null:B(R,C,O,q,null);Hi(R,O)}return null}function Y(R,C,O,q,re){if(typeof q=="string"&&q!==""||typeof q=="number")return R=R.get(O)||null,_(C,R,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case V:return R=R.get(q.key===null?O:q.key)||null,E(C,R,q,re);case oe:return R=R.get(q.key===null?O:q.key)||null,I(C,R,q,re);case Ae:var ie=q._init;return Y(R,C,O,ie(q._payload),re)}if(F(q)||ne(q))return R=R.get(O)||null,B(C,R,q,re,null);Hi(C,q)}return null}function Z(R,C,O,q){for(var re=null,ie=null,ae=C,ce=C=0,it=null;ae!==null&&ce<O.length;ce++){ae.index>ce?(it=ae,ae=null):it=ae.sibling;var Ne=M(R,ae,O[ce],q);if(Ne===null){ae===null&&(ae=it);break}e&&ae&&Ne.alternate===null&&t(R,ae),C=f(Ne,C,ce),ie===null?re=Ne:ie.sibling=Ne,ie=Ne,ae=it}if(ce===O.length)return s(R,ae),ze&&rn(R,ce),re;if(ae===null){for(;ce<O.length;ce++)ae=H(R,O[ce],q),ae!==null&&(C=f(ae,C,ce),ie===null?re=ae:ie.sibling=ae,ie=ae);return ze&&rn(R,ce),re}for(ae=o(R,ae);ce<O.length;ce++)it=Y(ae,R,ce,O[ce],q),it!==null&&(e&&it.alternate!==null&&ae.delete(it.key===null?ce:it.key),C=f(it,C,ce),ie===null?re=it:ie.sibling=it,ie=it);return e&&ae.forEach(function(Vr){return t(R,Vr)}),ze&&rn(R,ce),re}function te(R,C,O,q){var re=ne(O);if(typeof re!="function")throw Error(r(150));if(O=re.call(O),O==null)throw Error(r(151));for(var ie=re=null,ae=C,ce=C=0,it=null,Ne=O.next();ae!==null&&!Ne.done;ce++,Ne=O.next()){ae.index>ce?(it=ae,ae=null):it=ae.sibling;var Vr=M(R,ae,Ne.value,q);if(Vr===null){ae===null&&(ae=it);break}e&&ae&&Vr.alternate===null&&t(R,ae),C=f(Vr,C,ce),ie===null?re=Vr:ie.sibling=Vr,ie=Vr,ae=it}if(Ne.done)return s(R,ae),ze&&rn(R,ce),re;if(ae===null){for(;!Ne.done;ce++,Ne=O.next())Ne=H(R,Ne.value,q),Ne!==null&&(C=f(Ne,C,ce),ie===null?re=Ne:ie.sibling=Ne,ie=Ne);return ze&&rn(R,ce),re}for(ae=o(R,ae);!Ne.done;ce++,Ne=O.next())Ne=Y(ae,R,ce,Ne.value,q),Ne!==null&&(e&&Ne.alternate!==null&&ae.delete(Ne.key===null?ce:Ne.key),C=f(Ne,C,ce),ie===null?re=Ne:ie.sibling=Ne,ie=Ne);return e&&ae.forEach(function(pg){return t(R,pg)}),ze&&rn(R,ce),re}function Je(R,C,O,q){if(typeof O=="object"&&O!==null&&O.type===ye&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case V:e:{for(var re=O.key,ie=C;ie!==null;){if(ie.key===re){if(re=O.type,re===ye){if(ie.tag===7){s(R,ie.sibling),C=c(ie,O.props.children),C.return=R,R=C;break e}}else if(ie.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Ae&&Gc(re)===ie.type){s(R,ie.sibling),C=c(ie,O.props),C.ref=js(R,ie,O),C.return=R,R=C;break e}s(R,ie);break}else t(R,ie);ie=ie.sibling}O.type===ye?(C=dn(O.props.children,R.mode,q,O.key),C.return=R,R=C):(q=pa(O.type,O.key,O.props,null,R.mode,q),q.ref=js(R,C,O),q.return=R,R=q)}return v(R);case oe:e:{for(ie=O.key;C!==null;){if(C.key===ie)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){s(R,C.sibling),C=c(C,O.children||[]),C.return=R,R=C;break e}else{s(R,C);break}else t(R,C);C=C.sibling}C=Ol(O,R.mode,q),C.return=R,R=C}return v(R);case Ae:return ie=O._init,Je(R,C,ie(O._payload),q)}if(F(O))return Z(R,C,O,q);if(ne(O))return te(R,C,O,q);Hi(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,C!==null&&C.tag===6?(s(R,C.sibling),C=c(C,O),C.return=R,R=C):(s(R,C),C=Rl(O,R.mode,q),C.return=R,R=C),v(R)):s(R,C)}return Je}var Dn=Yc(!0),Xc=Yc(!1),qi=Or(null),Wi=null,$n=null,Mo=null;function Bo(){Mo=$n=Wi=null}function Vo(e){var t=qi.current;Fe(qi),e._currentValue=t}function Ho(e,t,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===s)break;e=e.return}}function Fn(e,t){Wi=e,Mo=$n=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Mo!==e)if(e={context:e,memoizedValue:t,next:null},$n===null){if(Wi===null)throw Error(r(308));$n=e,Wi.dependencies={lanes:0,firstContext:e}}else $n=$n.next=e;return t}var nn=null;function qo(e){nn===null?nn=[e]:nn.push(e)}function Zc(e,t,s,o){var c=t.interleaved;return c===null?(s.next=s,qo(t)):(s.next=c.next,c.next=s),t.interleaved=s,gr(e,o)}function gr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ir=!1;function Wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ed(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Ce&2){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,gr(e,s)}return c=o.interleaved,c===null?(t.next=t,qo(o)):(t.next=c.next,c.next=t),o.interleaved=t,gr(e,s)}function Qi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,s|=o,t.lanes=s,io(e,s)}}function td(e,t){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?c=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?c=f=t:f=f.next=t}else c=f=t;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ji(e,t,s,o){var c=e.updateQueue;Ir=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var E=_,I=E.next;E.next=null,v===null?f=I:v.next=I,v=E;var B=e.alternate;B!==null&&(B=B.updateQueue,_=B.lastBaseUpdate,_!==v&&(_===null?B.firstBaseUpdate=I:_.next=I,B.lastBaseUpdate=E))}if(f!==null){var H=c.baseState;v=0,B=I=E=null,_=f;do{var M=_.lane,Y=_.eventTime;if((o&M)===M){B!==null&&(B=B.next={eventTime:Y,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Z=e,te=_;switch(M=t,Y=s,te.tag){case 1:if(Z=te.payload,typeof Z=="function"){H=Z.call(Y,H,M);break e}H=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=te.payload,M=typeof Z=="function"?Z.call(Y,H,M):Z,M==null)break e;H=G({},H,M);break e;case 2:Ir=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,M=c.effects,M===null?c.effects=[_]:M.push(_))}else Y={eventTime:Y,lane:M,tag:_.tag,payload:_.payload,callback:_.callback,next:null},B===null?(I=B=Y,E=H):B=B.next=Y,v|=M;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;M=_,_=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);if(B===null&&(E=H),c.baseState=E,c.firstBaseUpdate=I,c.lastBaseUpdate=B,t=c.shared.interleaved,t!==null){c=t;do v|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);on|=v,e.lanes=v,e.memoizedState=H}}function rd(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],c=o.callback;if(c!==null){if(o.callback=null,o=s,typeof c!="function")throw Error(r(191,c));c.call(o)}}}var Cs={},nr=Or(Cs),Ns=Or(Cs),Ps=Or(Cs);function sn(e){if(e===Cs)throw Error(r(174));return e}function Qo(e,t){switch(Ie(Ps,t),Ie(Ns,e),Ie(nr,Cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:He(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=He(t,e)}Fe(nr),Ie(nr,t)}function Un(){Fe(nr),Fe(Ns),Fe(Ps)}function nd(e){sn(Ps.current);var t=sn(nr.current),s=He(t,e.type);t!==s&&(Ie(Ns,e),Ie(nr,s))}function Jo(e){Ns.current===e&&(Fe(nr),Fe(Ns))}var Be=Or(0);function Ki(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ko=[];function Go(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Gi=U.ReactCurrentDispatcher,Yo=U.ReactCurrentBatchConfig,an=0,Ve=null,Xe=null,nt=null,Yi=!1,Ts=!1,Rs=0,$m=0;function ht(){throw Error(r(321))}function Xo(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Wt(e[s],t[s]))return!1;return!0}function Zo(e,t,s,o,c,f){if(an=f,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gi.current=e===null||e.memoizedState===null?Mm:Bm,e=s(o,c),Ts){f=0;do{if(Ts=!1,Rs=0,25<=f)throw Error(r(301));f+=1,nt=Xe=null,t.updateQueue=null,Gi.current=Vm,e=s(o,c)}while(Ts)}if(Gi.current=ea,t=Xe!==null&&Xe.next!==null,an=0,nt=Xe=Ve=null,Yi=!1,t)throw Error(r(300));return e}function el(){var e=Rs!==0;return Rs=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ve.memoizedState=nt=e:nt=nt.next=e,nt}function Ft(){if(Xe===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=nt===null?Ve.memoizedState:nt.next;if(t!==null)nt=t,Xe=e;else{if(e===null)throw Error(r(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},nt===null?Ve.memoizedState=nt=e:nt=nt.next=e}return nt}function Os(e,t){return typeof t=="function"?t(e):t}function tl(e){var t=Ft(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=Xe,c=o.baseQueue,f=s.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}o.baseQueue=c=f,s.pending=null}if(c!==null){f=c.next,o=o.baseState;var _=v=null,E=null,I=f;do{var B=I.lane;if((an&B)===B)E!==null&&(E=E.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),o=I.hasEagerState?I.eagerState:e(o,I.action);else{var H={lane:B,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};E===null?(_=E=H,v=o):E=E.next=H,Ve.lanes|=B,on|=B}I=I.next}while(I!==null&&I!==f);E===null?v=o:E.next=_,Wt(o,t.memoizedState)||(kt=!0),t.memoizedState=o,t.baseState=v,t.baseQueue=E,s.lastRenderedState=o}if(e=s.interleaved,e!==null){c=e;do f=c.lane,Ve.lanes|=f,on|=f,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function rl(e){var t=Ft(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=t.memoizedState;if(c!==null){s.pending=null;var v=c=c.next;do f=e(f,v.action),v=v.next;while(v!==c);Wt(f,t.memoizedState)||(kt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,o]}function sd(){}function id(e,t){var s=Ve,o=Ft(),c=t(),f=!Wt(o.memoizedState,c);if(f&&(o.memoizedState=c,kt=!0),o=o.queue,nl(ld.bind(null,s,o,e),[e]),o.getSnapshot!==t||f||nt!==null&&nt.memoizedState.tag&1){if(s.flags|=2048,Ls(9,od.bind(null,s,o,c,t),void 0,null),st===null)throw Error(r(349));an&30||ad(s,t,c)}return c}function ad(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function od(e,t,s,o){t.value=s,t.getSnapshot=o,ud(t)&&cd(e)}function ld(e,t,s){return s(function(){ud(t)&&cd(e)})}function ud(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Wt(e,s)}catch{return!0}}function cd(e){var t=gr(e,1);t!==null&&Yt(t,e,1,-1)}function dd(e){var t=sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:e},t.queue=e,e=e.dispatch=zm.bind(null,Ve,e),[t.memoizedState,e]}function Ls(e,t,s,o){return e={tag:e,create:t,destroy:s,deps:o,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,t.lastEffect=e)),e}function fd(){return Ft().memoizedState}function Xi(e,t,s,o){var c=sr();Ve.flags|=e,c.memoizedState=Ls(1|t,s,void 0,o===void 0?null:o)}function Zi(e,t,s,o){var c=Ft();o=o===void 0?null:o;var f=void 0;if(Xe!==null){var v=Xe.memoizedState;if(f=v.destroy,o!==null&&Xo(o,v.deps)){c.memoizedState=Ls(t,s,f,o);return}}Ve.flags|=e,c.memoizedState=Ls(1|t,s,f,o)}function hd(e,t){return Xi(8390656,8,e,t)}function nl(e,t){return Zi(2048,8,e,t)}function pd(e,t){return Zi(4,2,e,t)}function md(e,t){return Zi(4,4,e,t)}function gd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yd(e,t,s){return s=s!=null?s.concat([e]):null,Zi(4,4,gd.bind(null,t,e),s)}function sl(){}function vd(e,t){var s=Ft();t=t===void 0?null:t;var o=s.memoizedState;return o!==null&&t!==null&&Xo(t,o[1])?o[0]:(s.memoizedState=[e,t],e)}function wd(e,t){var s=Ft();t=t===void 0?null:t;var o=s.memoizedState;return o!==null&&t!==null&&Xo(t,o[1])?o[0]:(e=e(),s.memoizedState=[e,t],e)}function xd(e,t,s){return an&21?(Wt(s,t)||(s=Gu(),Ve.lanes|=s,on|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=s)}function Fm(e,t){var s=Re;Re=s!==0&&4>s?s:4,e(!0);var o=Yo.transition;Yo.transition={};try{e(!1),t()}finally{Re=s,Yo.transition=o}}function _d(){return Ft().memoizedState}function Um(e,t,s){var o=zr(e);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},kd(e))Sd(t,s);else if(s=Zc(e,t,s,o),s!==null){var c=vt();Yt(s,e,o,c),bd(s,t,o)}}function zm(e,t,s){var o=zr(e),c={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(kd(e))Sd(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,_=f(v,s);if(c.hasEagerState=!0,c.eagerState=_,Wt(_,v)){var E=t.interleaved;E===null?(c.next=c,qo(t)):(c.next=E.next,E.next=c),t.interleaved=c;return}}catch{}finally{}s=Zc(e,t,c,o),s!==null&&(c=vt(),Yt(s,e,o,c),bd(s,t,o))}}function kd(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function Sd(e,t){Ts=Yi=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function bd(e,t,s){if(s&4194240){var o=t.lanes;o&=e.pendingLanes,s|=o,t.lanes=s,io(e,s)}}var ea={readContext:$t,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},Mm={readContext:$t,useCallback:function(e,t){return sr().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:hd,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Xi(4194308,4,gd.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Xi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xi(4,2,e,t)},useMemo:function(e,t){var s=sr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var o=sr();return t=s!==void 0?s(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Um.bind(null,Ve,e),[o.memoizedState,e]},useRef:function(e){var t=sr();return e={current:e},t.memoizedState=e},useState:dd,useDebugValue:sl,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=dd(!1),t=e[0];return e=Fm.bind(null,e[1]),sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var o=Ve,c=sr();if(ze){if(s===void 0)throw Error(r(407));s=s()}else{if(s=t(),st===null)throw Error(r(349));an&30||ad(o,t,s)}c.memoizedState=s;var f={value:s,getSnapshot:t};return c.queue=f,hd(ld.bind(null,o,f,e),[e]),o.flags|=2048,Ls(9,od.bind(null,o,f,s,t),void 0,null),s},useId:function(){var e=sr(),t=st.identifierPrefix;if(ze){var s=mr,o=pr;s=(o&~(1<<32-qt(o)-1)).toString(32)+s,t=":"+t+"R"+s,s=Rs++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=$m++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bm={readContext:$t,useCallback:vd,useContext:$t,useEffect:nl,useImperativeHandle:yd,useInsertionEffect:pd,useLayoutEffect:md,useMemo:wd,useReducer:tl,useRef:fd,useState:function(){return tl(Os)},useDebugValue:sl,useDeferredValue:function(e){var t=Ft();return xd(t,Xe.memoizedState,e)},useTransition:function(){var e=tl(Os)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:sd,useSyncExternalStore:id,useId:_d,unstable_isNewReconciler:!1},Vm={readContext:$t,useCallback:vd,useContext:$t,useEffect:nl,useImperativeHandle:yd,useInsertionEffect:pd,useLayoutEffect:md,useMemo:wd,useReducer:rl,useRef:fd,useState:function(){return rl(Os)},useDebugValue:sl,useDeferredValue:function(e){var t=Ft();return Xe===null?t.memoizedState=e:xd(t,Xe.memoizedState,e)},useTransition:function(){var e=rl(Os)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:sd,useSyncExternalStore:id,useId:_d,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=G({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function il(e,t,s,o){t=e.memoizedState,s=s(o,t),s=s==null?t:G({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ta={isMounted:function(e){return(e=e._reactInternals)?Xr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var o=vt(),c=zr(e),f=yr(o,c);f.payload=t,s!=null&&(f.callback=s),t=Dr(e,f,c),t!==null&&(Yt(t,e,c,o),Qi(t,e,c))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var o=vt(),c=zr(e),f=yr(o,c);f.tag=1,f.payload=t,s!=null&&(f.callback=s),t=Dr(e,f,c),t!==null&&(Yt(t,e,c,o),Qi(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=vt(),o=zr(e),c=yr(s,o);c.tag=2,t!=null&&(c.callback=t),t=Dr(e,c,o),t!==null&&(Yt(t,e,o,s),Qi(t,e,o))}};function Ed(e,t,s,o,c,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):t.prototype&&t.prototype.isPureReactComponent?!ws(s,o)||!ws(c,f):!0}function jd(e,t,s){var o=!1,c=Lr,f=t.contextType;return typeof f=="object"&&f!==null?f=$t(f):(c=_t(t)?en:ft.current,o=t.contextTypes,f=(o=o!=null)?On(e,c):Lr),t=new t(s,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ta,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function Cd(e,t,s,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,o),t.state!==e&&ta.enqueueReplaceState(t,t.state,null)}function al(e,t,s,o){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Wo(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=$t(f):(f=_t(t)?en:ft.current,c.context=On(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(il(e,t,f,s),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&ta.enqueueReplaceState(c,c.state,null),Ji(e,s,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function zn(e,t){try{var s="",o=t;do s+=be(o),o=o.return;while(o);var c=s}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function ol(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ll(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Hm=typeof WeakMap=="function"?WeakMap:Map;function Nd(e,t,s){s=yr(-1,s),s.tag=3,s.payload={element:null};var o=t.value;return s.callback=function(){la||(la=!0,Sl=o),ll(e,t)},s}function Pd(e,t,s){s=yr(-1,s),s.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;s.payload=function(){return o(c)},s.callback=function(){ll(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){ll(e,t),typeof o!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),s}function Td(e,t,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Hm;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(s)||(c.add(s),e=sg.bind(null,e,t,s),t.then(e,e))}function Rd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Od(e,t,s,o,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=yr(-1,1),t.tag=2,Dr(s,t,1))),s.lanes|=1),e)}var qm=U.ReactCurrentOwner,kt=!1;function yt(e,t,s,o){t.child=e===null?Xc(t,null,s,o):Dn(t,e.child,s,o)}function Ld(e,t,s,o,c){s=s.render;var f=t.ref;return Fn(t,c),o=Zo(e,t,s,o,f,c),s=el(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,vr(e,t,c)):(ze&&s&&Do(t),t.flags|=1,yt(e,t,o,c),t.child)}function Ad(e,t,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!Tl(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=f,Id(e,t,f,o,c)):(e=pa(s.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&c)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:ws,s(v,o)&&e.ref===t.ref)return vr(e,t,c)}return t.flags|=1,e=Br(f,o),e.ref=t.ref,e.return=t,t.child=e}function Id(e,t,s,o,c){if(e!==null){var f=e.memoizedProps;if(ws(f,o)&&e.ref===t.ref)if(kt=!1,t.pendingProps=o=f,(e.lanes&c)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,vr(e,t,c)}return ul(e,t,s,o,c)}function Dd(e,t,s){var o=t.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Bn,Ot),Ot|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(Bn,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:s,Ie(Bn,Ot),Ot|=o}else f!==null?(o=f.baseLanes|s,t.memoizedState=null):o=s,Ie(Bn,Ot),Ot|=o;return yt(e,t,c,s),t.child}function $d(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function ul(e,t,s,o,c){var f=_t(s)?en:ft.current;return f=On(t,f),Fn(t,c),s=Zo(e,t,s,o,f,c),o=el(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,vr(e,t,c)):(ze&&o&&Do(t),t.flags|=1,yt(e,t,s,c),t.child)}function Fd(e,t,s,o,c){if(_t(s)){var f=!0;Ui(t)}else f=!1;if(Fn(t,c),t.stateNode===null)na(e,t),jd(t,s,o),al(t,s,o,c),o=!0;else if(e===null){var v=t.stateNode,_=t.memoizedProps;v.props=_;var E=v.context,I=s.contextType;typeof I=="object"&&I!==null?I=$t(I):(I=_t(s)?en:ft.current,I=On(t,I));var B=s.getDerivedStateFromProps,H=typeof B=="function"||typeof v.getSnapshotBeforeUpdate=="function";H||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==o||E!==I)&&Cd(t,v,o,I),Ir=!1;var M=t.memoizedState;v.state=M,Ji(t,o,v,c),E=t.memoizedState,_!==o||M!==E||xt.current||Ir?(typeof B=="function"&&(il(t,s,B,o),E=t.memoizedState),(_=Ir||Ed(t,s,_,o,M,E,I))?(H||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=E),v.props=o,v.state=E,v.context=I,o=_):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{v=t.stateNode,ed(e,t),_=t.memoizedProps,I=t.type===t.elementType?_:Jt(t.type,_),v.props=I,H=t.pendingProps,M=v.context,E=s.contextType,typeof E=="object"&&E!==null?E=$t(E):(E=_t(s)?en:ft.current,E=On(t,E));var Y=s.getDerivedStateFromProps;(B=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==H||M!==E)&&Cd(t,v,o,E),Ir=!1,M=t.memoizedState,v.state=M,Ji(t,o,v,c);var Z=t.memoizedState;_!==H||M!==Z||xt.current||Ir?(typeof Y=="function"&&(il(t,s,Y,o),Z=t.memoizedState),(I=Ir||Ed(t,s,I,o,M,Z,E)||!1)?(B||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(o,Z,E),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(o,Z,E)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Z),v.props=o,v.state=Z,v.context=E,o=I):(typeof v.componentDidUpdate!="function"||_===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),o=!1)}return cl(e,t,s,o,f,c)}function cl(e,t,s,o,c,f){$d(e,t);var v=(t.flags&128)!==0;if(!o&&!v)return c&&Vc(t,s,!1),vr(e,t,f);o=t.stateNode,qm.current=t;var _=v&&typeof s.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&v?(t.child=Dn(t,e.child,null,f),t.child=Dn(t,null,_,f)):yt(e,t,_,f),t.memoizedState=o.state,c&&Vc(t,s,!0),t.child}function Ud(e){var t=e.stateNode;t.pendingContext?Mc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mc(e,t.context,!1),Qo(e,t.containerInfo)}function zd(e,t,s,o,c){return In(),zo(c),t.flags|=256,yt(e,t,s,o),t.child}var dl={dehydrated:null,treeContext:null,retryLane:0};function fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Md(e,t,s){var o=t.pendingProps,c=Be.current,f=!1,v=(t.flags&128)!==0,_;if((_=v)||(_=e!==null&&e.memoizedState===null?!1:(c&2)!==0),_?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ie(Be,c&1),e===null)return Uo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(v=o.children,e=o.fallback,f?(o=t.mode,f=t.child,v={mode:"hidden",children:v},!(o&1)&&f!==null?(f.childLanes=0,f.pendingProps=v):f=ma(v,o,0,null),e=dn(e,o,s,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=fl(s),t.memoizedState=dl,e):hl(t,v));if(c=e.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return Wm(e,t,v,o,_,c,s);if(f){f=o.fallback,v=t.mode,c=e.child,_=c.sibling;var E={mode:"hidden",children:o.children};return!(v&1)&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=E,t.deletions=null):(o=Br(c,E),o.subtreeFlags=c.subtreeFlags&14680064),_!==null?f=Br(_,f):(f=dn(f,v,s,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,v=e.child.memoizedState,v=v===null?fl(s):{baseLanes:v.baseLanes|s,cachePool:null,transitions:v.transitions},f.memoizedState=v,f.childLanes=e.childLanes&~s,t.memoizedState=dl,o}return f=e.child,e=f.sibling,o=Br(f,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=s),o.return=t,o.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=o,t.memoizedState=null,o}function hl(e,t){return t=ma({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ra(e,t,s,o){return o!==null&&zo(o),Dn(t,e.child,null,s),e=hl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wm(e,t,s,o,c,f,v){if(s)return t.flags&256?(t.flags&=-257,o=ol(Error(r(422))),ra(e,t,v,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,c=t.mode,o=ma({mode:"visible",children:o.children},c,0,null),f=dn(f,c,v,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,t.mode&1&&Dn(t,e.child,null,v),t.child.memoizedState=fl(v),t.memoizedState=dl,f);if(!(t.mode&1))return ra(e,t,v,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var _=o.dgst;return o=_,f=Error(r(419)),o=ol(f,o,void 0),ra(e,t,v,o)}if(_=(v&e.childLanes)!==0,kt||_){if(o=st,o!==null){switch(v&-v){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|v)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,gr(e,c),Yt(o,e,c,-1))}return Pl(),o=ol(Error(r(421))),ra(e,t,v,o)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=ig.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,Rt=Rr(c.nextSibling),Tt=t,ze=!0,Qt=null,e!==null&&(It[Dt++]=pr,It[Dt++]=mr,It[Dt++]=tn,pr=e.id,mr=e.overflow,tn=t),t=hl(t,o.children),t.flags|=4096,t)}function Bd(e,t,s){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Ho(e.return,t,s)}function pl(e,t,s,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=c)}function Vd(e,t,s){var o=t.pendingProps,c=o.revealOrder,f=o.tail;if(yt(e,t,o.children,s),o=Be.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bd(e,s,t);else if(e.tag===19)Bd(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ie(Be,o),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&Ki(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),pl(t,!1,c,s,f);break;case"backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ki(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}pl(t,!0,s,null,f);break;case"together":pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function na(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),on|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,s=Br(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Br(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Qm(e,t,s){switch(t.tag){case 3:Ud(t),In();break;case 5:nd(t);break;case 1:_t(t.type)&&Ui(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;Ie(qi,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ie(Be,Be.current&1),t.flags|=128,null):s&t.child.childLanes?Md(e,t,s):(Ie(Be,Be.current&1),e=vr(e,t,s),e!==null?e.sibling:null);Ie(Be,Be.current&1);break;case 19:if(o=(s&t.childLanes)!==0,e.flags&128){if(o)return Vd(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ie(Be,Be.current),o)break;return null;case 22:case 23:return t.lanes=0,Dd(e,t,s)}return vr(e,t,s)}var Hd,ml,qd,Wd;Hd=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},ml=function(){},qd=function(e,t,s,o){var c=e.memoizedProps;if(c!==o){e=t.stateNode,sn(nr.current);var f=null;switch(s){case"input":c=xn(e,c),o=xn(e,o),f=[];break;case"select":c=G({},c,{value:void 0}),o=G({},o,{value:void 0}),f=[];break;case"textarea":c=Q(e,c),o=Q(e,o),f=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Di)}Ja(s,o);var v;s=null;for(I in c)if(!o.hasOwnProperty(I)&&c.hasOwnProperty(I)&&c[I]!=null)if(I==="style"){var _=c[I];for(v in _)_.hasOwnProperty(v)&&(s||(s={}),s[v]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(l.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in o){var E=o[I];if(_=c!=null?c[I]:void 0,o.hasOwnProperty(I)&&E!==_&&(E!=null||_!=null))if(I==="style")if(_){for(v in _)!_.hasOwnProperty(v)||E&&E.hasOwnProperty(v)||(s||(s={}),s[v]="");for(v in E)E.hasOwnProperty(v)&&_[v]!==E[v]&&(s||(s={}),s[v]=E[v])}else s||(f||(f=[]),f.push(I,s)),s=E;else I==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,_=_?_.__html:void 0,E!=null&&_!==E&&(f=f||[]).push(I,E)):I==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(I,""+E):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(l.hasOwnProperty(I)?(E!=null&&I==="onScroll"&&$e("scroll",e),f||_===E||(f=[])):(f=f||[]).push(I,E))}s&&(f=f||[]).push("style",s);var I=f;(t.updateQueue=I)&&(t.flags|=4)}},Wd=function(e,t,s,o){s!==o&&(t.flags|=4)};function As(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,t}function Jm(e,t,s){var o=t.pendingProps;switch($o(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return _t(t.type)&&Fi(),pt(t),null;case 3:return o=t.stateNode,Un(),Fe(xt),Fe(ft),Go(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(jl(Qt),Qt=null))),ml(e,t),pt(t),null;case 5:Jo(t);var c=sn(Ps.current);if(s=t.type,e!==null&&t.stateNode!=null)qd(e,t,s,o,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(r(166));return pt(t),null}if(e=sn(nr.current),Vi(t)){o=t.stateNode,s=t.type;var f=t.memoizedProps;switch(o[rr]=t,o[bs]=f,e=(t.mode&1)!==0,s){case"dialog":$e("cancel",o),$e("close",o);break;case"iframe":case"object":case"embed":$e("load",o);break;case"video":case"audio":for(c=0;c<_s.length;c++)$e(_s[c],o);break;case"source":$e("error",o);break;case"img":case"image":case"link":$e("error",o),$e("load",o);break;case"details":$e("toggle",o);break;case"input":qa(o,f),$e("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},$e("invalid",o);break;case"textarea":W(o,f),$e("invalid",o)}Ja(s,f),c=null;for(var v in f)if(f.hasOwnProperty(v)){var _=f[v];v==="children"?typeof _=="string"?o.textContent!==_&&(f.suppressHydrationWarning!==!0&&Ii(o.textContent,_,e),c=["children",_]):typeof _=="number"&&o.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&Ii(o.textContent,_,e),c=["children",""+_]):l.hasOwnProperty(v)&&_!=null&&v==="onScroll"&&$e("scroll",o)}switch(s){case"input":Gr(o),j(o,f,!0);break;case"textarea":Gr(o),pe(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=Di)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{v=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=We(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=v.createElement(s,{is:o.is}):(e=v.createElement(s),s==="select"&&(v=e,o.multiple?v.multiple=!0:o.size&&(v.size=o.size))):e=v.createElementNS(e,s),e[rr]=t,e[bs]=o,Hd(e,t,!1,!1),t.stateNode=e;e:{switch(v=Ka(s,o),s){case"dialog":$e("cancel",e),$e("close",e),c=o;break;case"iframe":case"object":case"embed":$e("load",e),c=o;break;case"video":case"audio":for(c=0;c<_s.length;c++)$e(_s[c],e);c=o;break;case"source":$e("error",e),c=o;break;case"img":case"image":case"link":$e("error",e),$e("load",e),c=o;break;case"details":$e("toggle",e),c=o;break;case"input":qa(e,o),c=xn(e,o),$e("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=G({},o,{value:void 0}),$e("invalid",e);break;case"textarea":W(e,o),c=Q(e,o),$e("invalid",e);break;default:c=o}Ja(s,c),_=c;for(f in _)if(_.hasOwnProperty(f)){var E=_[f];f==="style"?hi(e,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&fi(e,E)):f==="children"?typeof E=="string"?(s!=="textarea"||E!=="")&&cr(e,E):typeof E=="number"&&cr(e,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?E!=null&&f==="onScroll"&&$e("scroll",e):E!=null&&A(e,f,E,v))}switch(s){case"input":Gr(e),j(e,o,!1);break;case"textarea":Gr(e),pe(e);break;case"option":o.value!=null&&e.setAttribute("value",""+je(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?K(e,!!o.multiple,f,!1):o.defaultValue!=null&&K(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Di)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)Wd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(r(166));if(s=sn(Ps.current),sn(nr.current),Vi(t)){if(o=t.stateNode,s=t.memoizedProps,o[rr]=t,(f=o.nodeValue!==s)&&(e=Tt,e!==null))switch(e.tag){case 3:Ii(o.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ii(o.nodeValue,s,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[rr]=t,t.stateNode=o}return pt(t),null;case 13:if(Fe(Be),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Rt!==null&&t.mode&1&&!(t.flags&128))Kc(),In(),t.flags|=98560,f=!1;else if(f=Vi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[rr]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),f=!1}else Qt!==null&&(jl(Qt),Qt=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?Ze===0&&(Ze=3):Pl())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return Un(),ml(e,t),e===null&&ks(t.stateNode.containerInfo),pt(t),null;case 10:return Vo(t.type._context),pt(t),null;case 17:return _t(t.type)&&Fi(),pt(t),null;case 19:if(Fe(Be),f=t.memoizedState,f===null)return pt(t),null;if(o=(t.flags&128)!==0,v=f.rendering,v===null)if(o)As(f,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(v=Ki(e),v!==null){for(t.flags|=128,As(f,!1),o=v.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=s,s=t.child;s!==null;)f=s,e=o,f.flags&=14680066,v=f.alternate,v===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,e=v.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ie(Be,Be.current&1|2),t.child}e=e.sibling}f.tail!==null&&Qe()>Vn&&(t.flags|=128,o=!0,As(f,!1),t.lanes=4194304)}else{if(!o)if(e=Ki(v),e!==null){if(t.flags|=128,o=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),As(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!ze)return pt(t),null}else 2*Qe()-f.renderingStartTime>Vn&&s!==1073741824&&(t.flags|=128,o=!0,As(f,!1),t.lanes=4194304);f.isBackwards?(v.sibling=t.child,t.child=v):(s=f.last,s!==null?s.sibling=v:t.child=v,f.last=v)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Qe(),t.sibling=null,s=Be.current,Ie(Be,o?s&1|2:s&1),t):(pt(t),null);case 22:case 23:return Nl(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Ot&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(r(156,t.tag))}function Km(e,t){switch($o(t),t.tag){case 1:return _t(t.type)&&Fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(),Fe(xt),Fe(ft),Go(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jo(t),null;case 13:if(Fe(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Be),null;case 4:return Un(),null;case 10:return Vo(t.type._context),null;case 22:case 23:return Nl(),null;case 24:return null;default:return null}}var sa=!1,mt=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,X=null;function Mn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){qe(e,t,o)}else s.current=null}function gl(e,t,s){try{s()}catch(o){qe(e,t,o)}}var Qd=!1;function Ym(e,t){if(No=bi,e=Ec(),xo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,_=-1,E=-1,I=0,B=0,H=e,M=null;t:for(;;){for(var Y;H!==s||c!==0&&H.nodeType!==3||(_=v+c),H!==f||o!==0&&H.nodeType!==3||(E=v+o),H.nodeType===3&&(v+=H.nodeValue.length),(Y=H.firstChild)!==null;)M=H,H=Y;for(;;){if(H===e)break t;if(M===s&&++I===c&&(_=v),M===f&&++B===o&&(E=v),(Y=H.nextSibling)!==null)break;H=M,M=H.parentNode}H=Y}s=_===-1||E===-1?null:{start:_,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Po={focusedElem:e,selectionRange:s},bi=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var te=Z.memoizedProps,Je=Z.memoizedState,R=t.stateNode,C=R.getSnapshotBeforeUpdate(t.elementType===t.type?te:Jt(t.type,te),Je);R.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(q){qe(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Z=Qd,Qd=!1,Z}function Is(e,t,s){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&gl(t,s,f)}c=c.next}while(c!==o)}}function ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var o=s.create;s.destroy=o()}s=s.next}while(s!==t)}}function yl(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Jd(e){var t=e.alternate;t!==null&&(e.alternate=null,Jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[bs],delete t[Lo],delete t[Lm],delete t[Am])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kd(e){return e.tag===5||e.tag===3||e.tag===4}function Gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vl(e,t,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Di));else if(o!==4&&(e=e.child,e!==null))for(vl(e,t,s),e=e.sibling;e!==null;)vl(e,t,s),e=e.sibling}function wl(e,t,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(wl(e,t,s),e=e.sibling;e!==null;)wl(e,t,s),e=e.sibling}var ot=null,Kt=!1;function $r(e,t,s){for(s=s.child;s!==null;)Yd(e,t,s),s=s.sibling}function Yd(e,t,s){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(vi,s)}catch{}switch(s.tag){case 5:mt||Mn(s,t);case 6:var o=ot,c=Kt;ot=null,$r(e,t,s),ot=o,Kt=c,ot!==null&&(Kt?(e=ot,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ot.removeChild(s.stateNode));break;case 18:ot!==null&&(Kt?(e=ot,s=s.stateNode,e.nodeType===8?Oo(e.parentNode,s):e.nodeType===1&&Oo(e,s),hs(e)):Oo(ot,s.stateNode));break;case 4:o=ot,c=Kt,ot=s.stateNode.containerInfo,Kt=!0,$r(e,t,s),ot=o,Kt=c;break;case 0:case 11:case 14:case 15:if(!mt&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var f=c,v=f.destroy;f=f.tag,v!==void 0&&(f&2||f&4)&&gl(s,t,v),c=c.next}while(c!==o)}$r(e,t,s);break;case 1:if(!mt&&(Mn(s,t),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(_){qe(s,t,_)}$r(e,t,s);break;case 21:$r(e,t,s);break;case 22:s.mode&1?(mt=(o=mt)||s.memoizedState!==null,$r(e,t,s),mt=o):$r(e,t,s);break;default:$r(e,t,s)}}function Xd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Gm),t.forEach(function(o){var c=ag.bind(null,e,o);s.has(o)||(s.add(o),o.then(c,c))})}}function Gt(e,t){var s=t.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];try{var f=e,v=t,_=v;e:for(;_!==null;){switch(_.tag){case 5:ot=_.stateNode,Kt=!1;break e;case 3:ot=_.stateNode.containerInfo,Kt=!0;break e;case 4:ot=_.stateNode.containerInfo,Kt=!0;break e}_=_.return}if(ot===null)throw Error(r(160));Yd(f,v,c),ot=null,Kt=!1;var E=c.alternate;E!==null&&(E.return=null),c.return=null}catch(I){qe(c,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zd(t,e),t=t.sibling}function Zd(e,t){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),ir(e),o&4){try{Is(3,e,e.return),ia(3,e)}catch(te){qe(e,e.return,te)}try{Is(5,e,e.return)}catch(te){qe(e,e.return,te)}}break;case 1:Gt(t,e),ir(e),o&512&&s!==null&&Mn(s,s.return);break;case 5:if(Gt(t,e),ir(e),o&512&&s!==null&&Mn(s,s.return),e.flags&32){var c=e.stateNode;try{cr(c,"")}catch(te){qe(e,e.return,te)}}if(o&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,v=s!==null?s.memoizedProps:f,_=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&Wa(c,f),Ka(_,v);var I=Ka(_,f);for(v=0;v<E.length;v+=2){var B=E[v],H=E[v+1];B==="style"?hi(c,H):B==="dangerouslySetInnerHTML"?fi(c,H):B==="children"?cr(c,H):A(c,B,H,I)}switch(_){case"input":di(c,f);break;case"textarea":se(c,f);break;case"select":var M=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?K(c,!!f.multiple,Y,!1):M!==!!f.multiple&&(f.defaultValue!=null?K(c,!!f.multiple,f.defaultValue,!0):K(c,!!f.multiple,f.multiple?[]:"",!1))}c[bs]=f}catch(te){qe(e,e.return,te)}}break;case 6:if(Gt(t,e),ir(e),o&4){if(e.stateNode===null)throw Error(r(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(te){qe(e,e.return,te)}}break;case 3:if(Gt(t,e),ir(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{hs(t.containerInfo)}catch(te){qe(e,e.return,te)}break;case 4:Gt(t,e),ir(e);break;case 13:Gt(t,e),ir(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(kl=Qe())),o&4&&Xd(e);break;case 22:if(B=s!==null&&s.memoizedState!==null,e.mode&1?(mt=(I=mt)||B,Gt(t,e),mt=I):Gt(t,e),ir(e),o&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!B&&e.mode&1)for(X=e,B=e.child;B!==null;){for(H=X=B;X!==null;){switch(M=X,Y=M.child,M.tag){case 0:case 11:case 14:case 15:Is(4,M,M.return);break;case 1:Mn(M,M.return);var Z=M.stateNode;if(typeof Z.componentWillUnmount=="function"){o=M,s=M.return;try{t=o,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(te){qe(o,s,te)}}break;case 5:Mn(M,M.return);break;case 22:if(M.memoizedState!==null){rf(H);continue}}Y!==null?(Y.return=M,X=Y):rf(H)}B=B.sibling}e:for(B=null,H=e;;){if(H.tag===5){if(B===null){B=H;try{c=H.stateNode,I?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=H.stateNode,E=H.memoizedProps.style,v=E!=null&&E.hasOwnProperty("display")?E.display:null,_.style.display=ns("display",v))}catch(te){qe(e,e.return,te)}}}else if(H.tag===6){if(B===null)try{H.stateNode.nodeValue=I?"":H.memoizedProps}catch(te){qe(e,e.return,te)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;B===H&&(B=null),H=H.return}B===H&&(B=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:Gt(t,e),ir(e),o&4&&Xd(e);break;case 21:break;default:Gt(t,e),ir(e)}}function ir(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Kd(s)){var o=s;break e}s=s.return}throw Error(r(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(cr(c,""),o.flags&=-33);var f=Gd(e);wl(e,f,c);break;case 3:case 4:var v=o.stateNode.containerInfo,_=Gd(e);vl(e,_,v);break;default:throw Error(r(161))}}catch(E){qe(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xm(e,t,s){X=e,ef(e)}function ef(e,t,s){for(var o=(e.mode&1)!==0;X!==null;){var c=X,f=c.child;if(c.tag===22&&o){var v=c.memoizedState!==null||sa;if(!v){var _=c.alternate,E=_!==null&&_.memoizedState!==null||mt;_=sa;var I=mt;if(sa=v,(mt=E)&&!I)for(X=c;X!==null;)v=X,E=v.child,v.tag===22&&v.memoizedState!==null?nf(c):E!==null?(E.return=v,X=E):nf(c);for(;f!==null;)X=f,ef(f),f=f.sibling;X=c,sa=_,mt=I}tf(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,X=f):tf(e)}}function tf(e){for(;X!==null;){var t=X;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mt||ia(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!mt)if(s===null)o.componentDidMount();else{var c=t.elementType===t.type?s.memoizedProps:Jt(t.type,s.memoizedProps);o.componentDidUpdate(c,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&rd(t,f,o);break;case 3:var v=t.updateQueue;if(v!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}rd(t,v,s)}break;case 5:var _=t.stateNode;if(s===null&&t.flags&4){s=_;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&s.focus();break;case"img":E.src&&(s.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var B=I.memoizedState;if(B!==null){var H=B.dehydrated;H!==null&&hs(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}mt||t.flags&512&&yl(t)}catch(M){qe(t,t.return,M)}}if(t===e){X=null;break}if(s=t.sibling,s!==null){s.return=t.return,X=s;break}X=t.return}}function rf(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var s=t.sibling;if(s!==null){s.return=t.return,X=s;break}X=t.return}}function nf(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{ia(4,t)}catch(E){qe(t,s,E)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(E){qe(t,c,E)}}var f=t.return;try{yl(t)}catch(E){qe(t,f,E)}break;case 5:var v=t.return;try{yl(t)}catch(E){qe(t,v,E)}}}catch(E){qe(t,t.return,E)}if(t===e){X=null;break}var _=t.sibling;if(_!==null){_.return=t.return,X=_;break}X=t.return}}var Zm=Math.ceil,aa=U.ReactCurrentDispatcher,xl=U.ReactCurrentOwner,Ut=U.ReactCurrentBatchConfig,Ce=0,st=null,Ge=null,lt=0,Ot=0,Bn=Or(0),Ze=0,Ds=null,on=0,oa=0,_l=0,$s=null,St=null,kl=0,Vn=1/0,wr=null,la=!1,Sl=null,Fr=null,ua=!1,Ur=null,ca=0,Fs=0,bl=null,da=-1,fa=0;function vt(){return Ce&6?Qe():da!==-1?da:da=Qe()}function zr(e){return e.mode&1?Ce&2&&lt!==0?lt&-lt:Dm.transition!==null?(fa===0&&(fa=Gu()),fa):(e=Re,e!==0||(e=window.event,e=e===void 0?16:ic(e.type)),e):1}function Yt(e,t,s,o){if(50<Fs)throw Fs=0,bl=null,Error(r(185));ls(e,s,o),(!(Ce&2)||e!==st)&&(e===st&&(!(Ce&2)&&(oa|=s),Ze===4&&Mr(e,lt)),bt(e,o),s===1&&Ce===0&&!(t.mode&1)&&(Vn=Qe()+500,zi&&Ar()))}function bt(e,t){var s=e.callbackNode;Dp(e,t);var o=_i(e,e===st?lt:0);if(o===0)s!==null&&Qu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(s!=null&&Qu(s),t===1)e.tag===0?Im(af.bind(null,e)):Hc(af.bind(null,e)),Rm(function(){!(Ce&6)&&Ar()}),s=null;else{switch(Yu(o)){case 1:s=ro;break;case 4:s=Ju;break;case 16:s=yi;break;case 536870912:s=Ku;break;default:s=yi}s=pf(s,sf.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function sf(e,t){if(da=-1,fa=0,Ce&6)throw Error(r(327));var s=e.callbackNode;if(Hn()&&e.callbackNode!==s)return null;var o=_i(e,e===st?lt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=ha(e,o);else{t=o;var c=Ce;Ce|=2;var f=lf();(st!==e||lt!==t)&&(wr=null,Vn=Qe()+500,un(e,t));do try{rg();break}catch(_){of(e,_)}while(!0);Bo(),aa.current=f,Ce=c,Ge!==null?t=0:(st=null,lt=0,t=Ze)}if(t!==0){if(t===2&&(c=no(e),c!==0&&(o=c,t=El(e,c))),t===1)throw s=Ds,un(e,0),Mr(e,o),bt(e,Qe()),s;if(t===6)Mr(e,o);else{if(c=e.current.alternate,!(o&30)&&!eg(c)&&(t=ha(e,o),t===2&&(f=no(e),f!==0&&(o=f,t=El(e,f))),t===1))throw s=Ds,un(e,0),Mr(e,o),bt(e,Qe()),s;switch(e.finishedWork=c,e.finishedLanes=o,t){case 0:case 1:throw Error(r(345));case 2:cn(e,St,wr);break;case 3:if(Mr(e,o),(o&130023424)===o&&(t=kl+500-Qe(),10<t)){if(_i(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){vt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ro(cn.bind(null,e,St,wr),t);break}cn(e,St,wr);break;case 4:if(Mr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,c=-1;0<o;){var v=31-qt(o);f=1<<v,v=t[v],v>c&&(c=v),o&=~f}if(o=c,o=Qe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Zm(o/1960))-o,10<o){e.timeoutHandle=Ro(cn.bind(null,e,St,wr),o);break}cn(e,St,wr);break;case 5:cn(e,St,wr);break;default:throw Error(r(329))}}}return bt(e,Qe()),e.callbackNode===s?sf.bind(null,e):null}function El(e,t){var s=$s;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=ha(e,t),e!==2&&(t=St,St=s,t!==null&&jl(t)),e}function jl(e){St===null?St=e:St.push.apply(St,e)}function eg(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!Wt(f(),c))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t){for(t&=~_l,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-qt(t),o=1<<s;e[s]=-1,t&=~o}}function af(e){if(Ce&6)throw Error(r(327));Hn();var t=_i(e,0);if(!(t&1))return bt(e,Qe()),null;var s=ha(e,t);if(e.tag!==0&&s===2){var o=no(e);o!==0&&(t=o,s=El(e,o))}if(s===1)throw s=Ds,un(e,0),Mr(e,t),bt(e,Qe()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,St,wr),bt(e,Qe()),null}function Cl(e,t){var s=Ce;Ce|=1;try{return e(t)}finally{Ce=s,Ce===0&&(Vn=Qe()+500,zi&&Ar())}}function ln(e){Ur!==null&&Ur.tag===0&&!(Ce&6)&&Hn();var t=Ce;Ce|=1;var s=Ut.transition,o=Re;try{if(Ut.transition=null,Re=1,e)return e()}finally{Re=o,Ut.transition=s,Ce=t,!(Ce&6)&&Ar()}}function Nl(){Ot=Bn.current,Fe(Bn)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Tm(s)),Ge!==null)for(s=Ge.return;s!==null;){var o=s;switch($o(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Fi();break;case 3:Un(),Fe(xt),Fe(ft),Go();break;case 5:Jo(o);break;case 4:Un();break;case 13:Fe(Be);break;case 19:Fe(Be);break;case 10:Vo(o.type._context);break;case 22:case 23:Nl()}s=s.return}if(st=e,Ge=e=Br(e.current,null),lt=Ot=t,Ze=0,Ds=null,_l=oa=on=0,St=$s=null,nn!==null){for(t=0;t<nn.length;t++)if(s=nn[t],o=s.interleaved,o!==null){s.interleaved=null;var c=o.next,f=s.pending;if(f!==null){var v=f.next;f.next=c,o.next=v}s.pending=o}nn=null}return e}function of(e,t){do{var s=Ge;try{if(Bo(),Gi.current=ea,Yi){for(var o=Ve.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Yi=!1}if(an=0,nt=Xe=Ve=null,Ts=!1,Rs=0,xl.current=null,s===null||s.return===null){Ze=1,Ds=t,Ge=null;break}e:{var f=e,v=s.return,_=s,E=t;if(t=lt,_.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=E,B=_,H=B.tag;if(!(B.mode&1)&&(H===0||H===11||H===15)){var M=B.alternate;M?(B.updateQueue=M.updateQueue,B.memoizedState=M.memoizedState,B.lanes=M.lanes):(B.updateQueue=null,B.memoizedState=null)}var Y=Rd(v);if(Y!==null){Y.flags&=-257,Od(Y,v,_,f,t),Y.mode&1&&Td(f,I,t),t=Y,E=I;var Z=t.updateQueue;if(Z===null){var te=new Set;te.add(E),t.updateQueue=te}else Z.add(E);break e}else{if(!(t&1)){Td(f,I,t),Pl();break e}E=Error(r(426))}}else if(ze&&_.mode&1){var Je=Rd(v);if(Je!==null){!(Je.flags&65536)&&(Je.flags|=256),Od(Je,v,_,f,t),zo(zn(E,_));break e}}f=E=zn(E,_),Ze!==4&&(Ze=2),$s===null?$s=[f]:$s.push(f),f=v;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var R=Nd(f,E,t);td(f,R);break e;case 1:_=E;var C=f.type,O=f.stateNode;if(!(f.flags&128)&&(typeof C.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Fr===null||!Fr.has(O)))){f.flags|=65536,t&=-t,f.lanes|=t;var q=Pd(f,_,t);td(f,q);break e}}f=f.return}while(f!==null)}cf(s)}catch(re){t=re,Ge===s&&s!==null&&(Ge=s=s.return);continue}break}while(!0)}function lf(){var e=aa.current;return aa.current=ea,e===null?ea:e}function Pl(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),st===null||!(on&268435455)&&!(oa&268435455)||Mr(st,lt)}function ha(e,t){var s=Ce;Ce|=2;var o=lf();(st!==e||lt!==t)&&(wr=null,un(e,t));do try{tg();break}catch(c){of(e,c)}while(!0);if(Bo(),Ce=s,aa.current=o,Ge!==null)throw Error(r(261));return st=null,lt=0,Ze}function tg(){for(;Ge!==null;)uf(Ge)}function rg(){for(;Ge!==null&&!Cp();)uf(Ge)}function uf(e){var t=hf(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?cf(e):Ge=t,xl.current=null}function cf(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Km(s,t),s!==null){s.flags&=32767,Ge=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,Ge=null;return}}else if(s=Jm(s,t,Ot),s!==null){Ge=s;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Ze===0&&(Ze=5)}function cn(e,t,s){var o=Re,c=Ut.transition;try{Ut.transition=null,Re=1,ng(e,t,s,o)}finally{Ut.transition=c,Re=o}return null}function ng(e,t,s,o){do Hn();while(Ur!==null);if(Ce&6)throw Error(r(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if($p(e,f),e===st&&(Ge=st=null,lt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ua||(ua=!0,pf(yi,function(){return Hn(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=Ut.transition,Ut.transition=null;var v=Re;Re=1;var _=Ce;Ce|=4,xl.current=null,Ym(e,s),Zd(s,e),Sm(Po),bi=!!No,Po=No=null,e.current=s,Xm(s),Np(),Ce=_,Re=v,Ut.transition=f}else e.current=s;if(ua&&(ua=!1,Ur=e,ca=c),f=e.pendingLanes,f===0&&(Fr=null),Rp(s.stateNode),bt(e,Qe()),t!==null)for(o=e.onRecoverableError,s=0;s<t.length;s++)c=t[s],o(c.value,{componentStack:c.stack,digest:c.digest});if(la)throw la=!1,e=Sl,Sl=null,e;return ca&1&&e.tag!==0&&Hn(),f=e.pendingLanes,f&1?e===bl?Fs++:(Fs=0,bl=e):Fs=0,Ar(),null}function Hn(){if(Ur!==null){var e=Yu(ca),t=Ut.transition,s=Re;try{if(Ut.transition=null,Re=16>e?16:e,Ur===null)var o=!1;else{if(e=Ur,Ur=null,ca=0,Ce&6)throw Error(r(331));var c=Ce;for(Ce|=4,X=e.current;X!==null;){var f=X,v=f.child;if(X.flags&16){var _=f.deletions;if(_!==null){for(var E=0;E<_.length;E++){var I=_[E];for(X=I;X!==null;){var B=X;switch(B.tag){case 0:case 11:case 15:Is(8,B,f)}var H=B.child;if(H!==null)H.return=B,X=H;else for(;X!==null;){B=X;var M=B.sibling,Y=B.return;if(Jd(B),B===I){X=null;break}if(M!==null){M.return=Y,X=M;break}X=Y}}}var Z=f.alternate;if(Z!==null){var te=Z.child;if(te!==null){Z.child=null;do{var Je=te.sibling;te.sibling=null,te=Je}while(te!==null)}}X=f}}if(f.subtreeFlags&2064&&v!==null)v.return=f,X=v;else e:for(;X!==null;){if(f=X,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Is(9,f,f.return)}var R=f.sibling;if(R!==null){R.return=f.return,X=R;break e}X=f.return}}var C=e.current;for(X=C;X!==null;){v=X;var O=v.child;if(v.subtreeFlags&2064&&O!==null)O.return=v,X=O;else e:for(v=C;X!==null;){if(_=X,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:ia(9,_)}}catch(re){qe(_,_.return,re)}if(_===v){X=null;break e}var q=_.sibling;if(q!==null){q.return=_.return,X=q;break e}X=_.return}}if(Ce=c,Ar(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(vi,e)}catch{}o=!0}return o}finally{Re=s,Ut.transition=t}}return!1}function df(e,t,s){t=zn(s,t),t=Nd(e,t,1),e=Dr(e,t,1),t=vt(),e!==null&&(ls(e,1,t),bt(e,t))}function qe(e,t,s){if(e.tag===3)df(e,e,s);else for(;t!==null;){if(t.tag===3){df(t,e,s);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fr===null||!Fr.has(o))){e=zn(s,e),e=Pd(t,e,1),t=Dr(t,e,1),e=vt(),t!==null&&(ls(t,1,e),bt(t,e));break}}t=t.return}}function sg(e,t,s){var o=e.pingCache;o!==null&&o.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&s,st===e&&(lt&s)===s&&(Ze===4||Ze===3&&(lt&130023424)===lt&&500>Qe()-kl?un(e,0):_l|=s),bt(e,t)}function ff(e,t){t===0&&(e.mode&1?(t=xi,xi<<=1,!(xi&130023424)&&(xi=4194304)):t=1);var s=vt();e=gr(e,t),e!==null&&(ls(e,t,s),bt(e,s))}function ig(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),ff(e,s)}function ag(e,t){var s=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(r(314))}o!==null&&o.delete(t),ff(e,s)}var hf;hf=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)kt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return kt=!1,Qm(e,t,s);kt=!!(e.flags&131072)}else kt=!1,ze&&t.flags&1048576&&qc(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;na(e,t),e=t.pendingProps;var c=On(t,ft.current);Fn(t,s),c=Zo(null,t,o,e,c,s);var f=el();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(o)?(f=!0,Ui(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Wo(t),c.updater=ta,t.stateNode=c,c._reactInternals=t,al(t,o,e,s),t=cl(null,t,o,!0,f,s)):(t.tag=0,ze&&f&&Do(t),yt(null,t,c,s),t=t.child),t;case 16:o=t.elementType;e:{switch(na(e,t),e=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=lg(o),e=Jt(o,e),c){case 0:t=ul(null,t,o,e,s);break e;case 1:t=Fd(null,t,o,e,s);break e;case 11:t=Ld(null,t,o,e,s);break e;case 14:t=Ad(null,t,o,Jt(o.type,e),s);break e}throw Error(r(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Jt(o,c),ul(e,t,o,c,s);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Jt(o,c),Fd(e,t,o,c,s);case 3:e:{if(Ud(t),e===null)throw Error(r(387));o=t.pendingProps,f=t.memoizedState,c=f.element,ed(e,t),Ji(t,o,null,s);var v=t.memoizedState;if(o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=zn(Error(r(423)),t),t=zd(e,t,o,s,c);break e}else if(o!==c){c=zn(Error(r(424)),t),t=zd(e,t,o,s,c);break e}else for(Rt=Rr(t.stateNode.containerInfo.firstChild),Tt=t,ze=!0,Qt=null,s=Xc(t,null,o,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(In(),o===c){t=vr(e,t,s);break e}yt(e,t,o,s)}t=t.child}return t;case 5:return nd(t),e===null&&Uo(t),o=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,v=c.children,To(o,c)?v=null:f!==null&&To(o,f)&&(t.flags|=32),$d(e,t),yt(e,t,v,s),t.child;case 6:return e===null&&Uo(t),null;case 13:return Md(e,t,s);case 4:return Qo(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Dn(t,null,o,s):yt(e,t,o,s),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Jt(o,c),Ld(e,t,o,c,s);case 7:return yt(e,t,t.pendingProps,s),t.child;case 8:return yt(e,t,t.pendingProps.children,s),t.child;case 12:return yt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,f=t.memoizedProps,v=c.value,Ie(qi,o._currentValue),o._currentValue=v,f!==null)if(Wt(f.value,v)){if(f.children===c.children&&!xt.current){t=vr(e,t,s);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var _=f.dependencies;if(_!==null){v=f.child;for(var E=_.firstContext;E!==null;){if(E.context===o){if(f.tag===1){E=yr(-1,s&-s),E.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var B=I.pending;B===null?E.next=E:(E.next=B.next,B.next=E),I.pending=E}}f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Ho(f.return,s,t),_.lanes|=s;break}E=E.next}}else if(f.tag===10)v=f.type===t.type?null:f.child;else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=s,_=v.alternate,_!==null&&(_.lanes|=s),Ho(v,s,t),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}yt(e,t,c.children,s),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,Fn(t,s),c=$t(c),o=o(c),t.flags|=1,yt(e,t,o,s),t.child;case 14:return o=t.type,c=Jt(o,t.pendingProps),c=Jt(o.type,c),Ad(e,t,o,c,s);case 15:return Id(e,t,t.type,t.pendingProps,s);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Jt(o,c),na(e,t),t.tag=1,_t(o)?(e=!0,Ui(t)):e=!1,Fn(t,s),jd(t,o,c),al(t,o,c,s),cl(null,t,o,!0,e,s);case 19:return Vd(e,t,s);case 22:return Dd(e,t,s)}throw Error(r(156,t.tag))};function pf(e,t){return Wu(e,t)}function og(e,t,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,s,o){return new og(e,t,s,o)}function Tl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lg(e){if(typeof e=="function")return Tl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ue)return 11;if(e===Oe)return 14}return 2}function Br(e,t){var s=e.alternate;return s===null?(s=zt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function pa(e,t,s,o,c,f){var v=2;if(o=e,typeof e=="function")Tl(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case ye:return dn(s.children,c,f,t);case ve:v=8,c|=8;break;case fe:return e=zt(12,s,t,c|2),e.elementType=fe,e.lanes=f,e;case de:return e=zt(13,s,t,c),e.elementType=de,e.lanes=f,e;case Pe:return e=zt(19,s,t,c),e.elementType=Pe,e.lanes=f,e;case ke:return ma(s,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:v=10;break e;case rt:v=9;break e;case ue:v=11;break e;case Oe:v=14;break e;case Ae:v=16,o=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return t=zt(v,s,t,c),t.elementType=e,t.type=o,t.lanes=f,t}function dn(e,t,s,o){return e=zt(7,e,o,t),e.lanes=s,e}function ma(e,t,s,o){return e=zt(22,e,o,t),e.elementType=ke,e.lanes=s,e.stateNode={isHidden:!1},e}function Rl(e,t,s){return e=zt(6,e,null,t),e.lanes=s,e}function Ol(e,t,s){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ug(e,t,s,o,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=so(0),this.expirationTimes=so(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Ll(e,t,s,o,c,f,v,_,E){return e=new ug(e,t,s,_,E),t===1?(t=1,f===!0&&(t|=8)):t=0,f=zt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wo(f),e}function cg(e,t,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:o==null?null:""+o,children:e,containerInfo:t,implementation:s}}function mf(e){if(!e)return Lr;e=e._reactInternals;e:{if(Xr(e)!==e||e.tag!==1)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(_t(s))return Bc(e,s,t)}return t}function gf(e,t,s,o,c,f,v,_,E){return e=Ll(s,o,!0,e,c,f,v,_,E),e.context=mf(null),s=e.current,o=vt(),c=zr(s),f=yr(o,c),f.callback=t??null,Dr(s,f,c),e.current.lanes=c,ls(e,c,o),bt(e,o),e}function ga(e,t,s,o){var c=t.current,f=vt(),v=zr(c);return s=mf(s),t.context===null?t.context=s:t.pendingContext=s,t=yr(f,v),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Dr(c,t,v),e!==null&&(Yt(e,c,v,f),Qi(e,c,v)),v}function ya(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Al(e,t){yf(e,t),(e=e.alternate)&&yf(e,t)}var vf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Il(e){this._internalRoot=e}va.prototype.render=Il.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));ga(e,t,null,null)},va.prototype.unmount=Il.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ln(function(){ga(null,e,null,null)}),t[fr]=null}};function va(e){this._internalRoot=e}va.prototype.unstable_scheduleHydration=function(e){if(e){var t=ec();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Nr.length&&t!==0&&t<Nr[s].priority;s++);Nr.splice(s,0,e),s===0&&nc(e)}};function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wf(){}function dg(e,t,s,o,c){if(c){if(typeof o=="function"){var f=o;o=function(){var I=ya(v);f.call(I)}}var v=gf(t,o,e,0,null,!1,!1,"",wf);return e._reactRootContainer=v,e[fr]=v.current,ks(e.nodeType===8?e.parentNode:e),ln(),v}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var _=o;o=function(){var I=ya(E);_.call(I)}}var E=Ll(e,0,!1,null,null,!1,!1,"",wf);return e._reactRootContainer=E,e[fr]=E.current,ks(e.nodeType===8?e.parentNode:e),ln(function(){ga(t,E,s,o)}),E}function xa(e,t,s,o,c){var f=s._reactRootContainer;if(f){var v=f;if(typeof c=="function"){var _=c;c=function(){var E=ya(v);_.call(E)}}ga(t,v,e,c)}else v=dg(s,t,e,c,o);return ya(v)}Xu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=os(t.pendingLanes);s!==0&&(io(t,s|1),bt(t,Qe()),!(Ce&6)&&(Vn=Qe()+500,Ar()))}break;case 13:ln(function(){var o=gr(e,1);if(o!==null){var c=vt();Yt(o,e,1,c)}}),Al(e,1)}},ao=function(e){if(e.tag===13){var t=gr(e,134217728);if(t!==null){var s=vt();Yt(t,e,134217728,s)}Al(e,134217728)}},Zu=function(e){if(e.tag===13){var t=zr(e),s=gr(e,t);if(s!==null){var o=vt();Yt(s,e,t,o)}Al(e,t)}},ec=function(){return Re},tc=function(e,t){var s=Re;try{return Re=e,t()}finally{Re=s}},Xa=function(e,t,s){switch(t){case"input":if(di(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var o=s[t];if(o!==e&&o.form===e.form){var c=$i(o);if(!c)throw Error(r(90));ci(o),di(o,c)}}}break;case"textarea":se(e,s);break;case"select":t=s.value,t!=null&&K(e,!!s.multiple,t,!1)}},Uu=Cl,zu=ln;var fg={usingClientEntryPoint:!1,Events:[Es,Tn,$i,$u,Fu,Cl]},Us={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hg={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hu(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{vi=_a.inject(hg),tr=_a}catch{}}return Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fg,Et.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dl(t))throw Error(r(200));return cg(e,t,null,s)},Et.createRoot=function(e,t){if(!Dl(e))throw Error(r(299));var s=!1,o="",c=vf;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Ll(e,1,!1,null,null,s,!1,o,c),e[fr]=t.current,ks(e.nodeType===8?e.parentNode:e),new Il(t)},Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Hu(t),e=e===null?null:e.stateNode,e},Et.flushSync=function(e){return ln(e)},Et.hydrate=function(e,t,s){if(!wa(t))throw Error(r(200));return xa(null,e,t,!0,s)},Et.hydrateRoot=function(e,t,s){if(!Dl(e))throw Error(r(405));var o=s!=null&&s.hydratedSources||null,c=!1,f="",v=vf;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),t=gf(t,null,e,1,s??null,c,!1,f,v),e[fr]=t.current,ks(e),o)for(e=0;e<o.length;e++)s=o[e],c=s._getVersion,c=c(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,c]:t.mutableSourceEagerHydrationData.push(s,c);return new va(t)},Et.render=function(e,t,s){if(!wa(t))throw Error(r(200));return xa(null,e,t,!1,s)},Et.unmountComponentAtNode=function(e){if(!wa(e))throw Error(r(40));return e._reactRootContainer?(ln(function(){xa(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0):!1},Et.unstable_batchedUpdates=Cl,Et.unstable_renderSubtreeIntoContainer=function(e,t,s,o){if(!wa(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return xa(e,t,s,!1,o)},Et.version="18.3.1-next-f1338f8080-20240426",Et}var Cf;function kg(){if(Cf)return Ul.exports;Cf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Ul.exports=_g(),Ul.exports}var Nf;function Sg(){if(Nf)return ka;Nf=1;var i=kg();return ka.createRoot=i.createRoot,ka.hydrateRoot=i.hydrateRoot,ka}var bg=Sg(),Ms={},Pf;function Eg(){if(Pf)return Ms;Pf=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.parse=d,Ms.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function d(x,b){const k=new u,N=x.length;if(N<2)return k;const P=(b==null?void 0:b.decode)||y;let D=0;do{const $=x.indexOf("=",D);if($===-1)break;const A=x.indexOf(";",D),U=A===-1?N:A;if($>U){D=x.lastIndexOf(";",$-1)+1;continue}const V=h(x,D,$),oe=p(x,$,V),ye=x.slice(V,oe);if(k[ye]===void 0){let ve=h(x,$+1,U),fe=p(x,U,ve);const xe=P(x.slice(ve,fe));k[ye]=xe}D=U+1}while(D<N);return k}function h(x,b,k){do{const N=x.charCodeAt(b);if(N!==32&&N!==9)return b}while(++b<k);return k}function p(x,b,k){for(;b>k;){const N=x.charCodeAt(--b);if(N!==32&&N!==9)return b+1}return k}function g(x,b,k){const N=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const P=N(b);if(!n.test(P))throw new TypeError(`argument val is invalid: ${b}`);let D=x+"="+P;if(!k)return D;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);D+="; Max-Age="+k.maxAge}if(k.domain){if(!r.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);D+="; Domain="+k.domain}if(k.path){if(!a.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);D+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);D+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(D+="; HttpOnly"),k.secure&&(D+="; Secure"),k.partitioned&&(D+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return D}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function w(x){return l.call(x)==="[object Date]"}return Ms}Eg();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tf="popstate";function jg(i={}){function n(l,u){let{pathname:d="/",search:h="",hash:p=""}=yn(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),tu("",{pathname:d,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){let d=l.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let p=l.location.href,g=p.indexOf("#");h=g===-1?p:p.slice(0,g)}return h+"#"+(typeof u=="string"?u:si(u))}function a(l,u){Bt(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Ng(n,r,a,i)}function Me(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function Bt(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Cg(){return Math.random().toString(36).substring(2,10)}function Rf(i,n){return{usr:i.state,key:i.key,idx:n}}function tu(i,n,r=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?yn(n):n,state:r,key:n&&n.key||a||Cg()}}function si({pathname:i="/",search:n="",hash:r=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function yn(i){let n={};if(i){let r=i.indexOf("#");r>=0&&(n.hash=i.substring(r),i=i.substring(0,r));let a=i.indexOf("?");a>=0&&(n.search=i.substring(a),i=i.substring(0,a)),i&&(n.pathname=i)}return n}function Ng(i,n,r,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,d=l.history,h="POP",p=null,g=y();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function y(){return(d.state||{idx:null}).idx}function w(){h="POP";let P=y(),D=P==null?null:P-g;g=P,p&&p({action:h,location:N.location,delta:D})}function x(P,D){h="PUSH";let $=tu(N.location,P,D);r($,P),g=y()+1;let A=Rf($,g),U=N.createHref($);try{d.pushState(A,"",U)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;l.location.assign(U)}u&&p&&p({action:h,location:N.location,delta:1})}function b(P,D){h="REPLACE";let $=tu(N.location,P,D);r($,P),g=y();let A=Rf($,g),U=N.createHref($);d.replaceState(A,"",U),u&&p&&p({action:h,location:N.location,delta:0})}function k(P){let D=l.location.origin!=="null"?l.location.origin:l.location.href,$=typeof P=="string"?P:si(P);return $=$.replace(/ $/,"%20"),Me(D,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,D)}let N={get action(){return h},get location(){return i(l,d)},listen(P){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Tf,w),p=P,()=>{l.removeEventListener(Tf,w),p=null}},createHref(P){return n(l,P)},createURL:k,encodeLocation(P){let D=k(P);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:x,replace:b,go(P){return d.go(P)}};return N}function Sh(i,n,r="/"){return Pg(i,n,r,!1)}function Pg(i,n,r,a){let l=typeof n=="string"?yn(n):n,u=br(l.pathname||"/",r);if(u==null)return null;let d=bh(i);Tg(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let g=Mg(u);h=Ug(d[p],g,a)}return h}function bh(i,n=[],r=[],a=""){let l=(u,d,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Sr([a,p.relativePath]),y=r.concat(p);u.children&&u.children.length>0&&(Me(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),bh(u.children,n,y,g)),!(u.path==null&&!u.index)&&n.push({path:g,score:$g(g,u.index),routesMeta:y})};return i.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,d);else for(let p of Eh(u.path))l(u,d,p)}),n}function Eh(i){let n=i.split("/");if(n.length===0)return[];let[r,...a]=n,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let d=Eh(a.join("/")),h=[];return h.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...d),h.map(p=>i.startsWith("/")&&p===""?"/":p)}function Tg(i){i.sort((n,r)=>n.score!==r.score?r.score-n.score:Fg(n.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var Rg=/^:[\w-]+$/,Og=3,Lg=2,Ag=1,Ig=10,Dg=-2,Of=i=>i==="*";function $g(i,n){let r=i.split("/"),a=r.length;return r.some(Of)&&(a+=Dg),n&&(a+=Lg),r.filter(l=>!Of(l)).reduce((l,u)=>l+(Rg.test(u)?Og:u===""?Ag:Ig),a)}function Fg(i,n){return i.length===n.length&&i.slice(0,-1).every((a,l)=>a===n[l])?i[i.length-1]-n[n.length-1]:0}function Ug(i,n,r=!1){let{routesMeta:a}=i,l={},u="/",d=[];for(let h=0;h<a.length;++h){let p=a[h],g=h===a.length-1,y=u==="/"?n:n.slice(u.length)||"/",w=La({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),x=p.route;if(!w&&g&&r&&!a[a.length-1].route.index&&(w=La({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:Sr([u,w.pathname]),pathnameBase:qg(Sr([u,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(u=Sr([u,w.pathnameBase]))}return d}function La(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,a]=zg(i.path,i.caseSensitive,i.end),l=n.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:a.reduce((g,{paramName:y,isOptional:w},x)=>{if(y==="*"){let k=h[x]||"";d=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const b=h[x];return w&&!b?g[y]=void 0:g[y]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:i}}function zg(i,n=!1,r=!0){Bt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(a.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),a]}function Mg(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Bt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function br(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,a=i.charAt(r);return a&&a!=="/"?null:i.slice(r)||"/"}function Bg(i,n="/"){let{pathname:r,search:a="",hash:l=""}=typeof i=="string"?yn(i):i;return{pathname:r?r.startsWith("/")?r:Vg(r,n):n,search:Wg(a),hash:Qg(l)}}function Vg(i,n){let r=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Bl(i,n,r,a){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hg(i){return i.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function hu(i){let n=Hg(i);return n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase)}function pu(i,n,r,a=!1){let l;typeof i=="string"?l=yn(i):(l={...i},Me(!l.pathname||!l.pathname.includes("?"),Bl("?","pathname","search",l)),Me(!l.pathname||!l.pathname.includes("#"),Bl("#","pathname","hash",l)),Me(!l.search||!l.search.includes("#"),Bl("#","search","hash",l)));let u=i===""||l.pathname==="",d=u?"/":l.pathname,h;if(d==null)h=r;else{let w=n.length-1;if(!a&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),w-=1;l.pathname=x.join("/")}h=w>=0?n[w]:"/"}let p=Bg(l,h),g=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var Sr=i=>i.join("/").replace(/\/\/+/g,"/"),qg=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Wg=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Qg=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Jg(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var jh=["POST","PUT","PATCH","DELETE"];new Set(jh);var Kg=["GET",...jh];new Set(Kg);var Zn=S.createContext(null);Zn.displayName="DataRouter";var za=S.createContext(null);za.displayName="DataRouterState";var Ch=S.createContext({isTransitioning:!1});Ch.displayName="ViewTransition";var Gg=S.createContext(new Map);Gg.displayName="Fetchers";var Yg=S.createContext(null);Yg.displayName="Await";var er=S.createContext(null);er.displayName="Navigation";var ai=S.createContext(null);ai.displayName="Location";var Vt=S.createContext({outlet:null,matches:[],isDataRoute:!1});Vt.displayName="Route";var mu=S.createContext(null);mu.displayName="RouteError";function Xg(i,{relative:n}={}){Me(es(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=S.useContext(er),{hash:l,pathname:u,search:d}=oi(i,{relative:n}),h=u;return r!=="/"&&(h=u==="/"?r:Sr([r,u])),a.createHref({pathname:h,search:d,hash:l})}function es(){return S.useContext(ai)!=null}function Ht(){return Me(es(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(ai).location}var Nh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ph(i){S.useContext(er).static||S.useLayoutEffect(i)}function At(){let{isDataRoute:i}=S.useContext(Vt);return i?py():Zg()}function Zg(){Me(es(),"useNavigate() may be used only in the context of a <Router> component.");let i=S.useContext(Zn),{basename:n,navigator:r}=S.useContext(er),{matches:a}=S.useContext(Vt),{pathname:l}=Ht(),u=JSON.stringify(hu(a)),d=S.useRef(!1);return Ph(()=>{d.current=!0}),S.useCallback((p,g={})=>{if(Bt(d.current,Nh),!d.current)return;if(typeof p=="number"){r.go(p);return}let y=pu(p,JSON.parse(u),l,g.relative==="path");i==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Sr([n,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[n,r,u,l,i])}var ey=S.createContext(null);function ty(i){let n=S.useContext(Vt).outlet;return n&&S.createElement(ey.Provider,{value:i},n)}function ry(){let{matches:i}=S.useContext(Vt),n=i[i.length-1];return n?n.params:{}}function oi(i,{relative:n}={}){let{matches:r}=S.useContext(Vt),{pathname:a}=Ht(),l=JSON.stringify(hu(r));return S.useMemo(()=>pu(i,JSON.parse(l),a,n==="path"),[i,l,a,n])}function ny(i,n){return Th(i,n)}function Th(i,n,r,a){var $;Me(es(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=S.useContext(er),{matches:d}=S.useContext(Vt),h=d[d.length-1],p=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let A=w&&w.path||"";Rh(g,!w||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=Ht(),b;if(n){let A=typeof n=="string"?yn(n):n;Me(y==="/"||(($=A.pathname)==null?void 0:$.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=x;let k=b.pathname||"/",N=k;if(y!=="/"){let A=y.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(A.length).join("/")}let P=!u&&r&&r.matches&&r.matches.length>0?r.matches:Sh(i,{pathname:N});Bt(w||P!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Bt(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=ly(P&&P.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:Sr([y,l.encodeLocation?l.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?y:Sr([y,l.encodeLocation?l.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),d,r,a);return n&&D?S.createElement(ai.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},D):D}function sy(){let i=hy(),n=Jg(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:u},"ErrorBoundary")," or"," ",S.createElement("code",{style:u},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},n),r?S.createElement("pre",{style:l},r):null,d)}var iy=S.createElement(sy,null),ay=class extends S.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){console.error("React Router caught the following error during render",i,n)}render(){return this.state.error!==void 0?S.createElement(Vt.Provider,{value:this.props.routeContext},S.createElement(mu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oy({routeContext:i,match:n,children:r}){let a=S.useContext(Zn);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Vt.Provider,{value:i},r)}function ly(i,n=[],r=null,a=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let l=i,u=r==null?void 0:r.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Me(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:w}=r,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||x){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,y)=>{let w,x=!1,b=null,k=null;r&&(w=u&&g.route.id?u[g.route.id]:void 0,b=g.route.errorElement||iy,d&&(h<0&&y===0?(Rh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,k=null):h===y&&(x=!0,k=g.route.hydrateFallbackElement||null)));let N=n.concat(l.slice(0,y+1)),P=()=>{let D;return w?D=b:x?D=k:g.route.Component?D=S.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=p,S.createElement(oy,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:D})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?S.createElement(ay,{location:r.location,revalidation:r.revalidation,component:b,error:w,children:P(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):P()},null)}function gu(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uy(i){let n=S.useContext(Zn);return Me(n,gu(i)),n}function cy(i){let n=S.useContext(za);return Me(n,gu(i)),n}function dy(i){let n=S.useContext(Vt);return Me(n,gu(i)),n}function yu(i){let n=dy(i),r=n.matches[n.matches.length-1];return Me(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function fy(){return yu("useRouteId")}function hy(){var a;let i=S.useContext(mu),n=cy("useRouteError"),r=yu("useRouteError");return i!==void 0?i:(a=n.errors)==null?void 0:a[r]}function py(){let{router:i}=uy("useNavigate"),n=yu("useNavigate"),r=S.useRef(!1);return Ph(()=>{r.current=!0}),S.useCallback(async(l,u={})=>{Bt(r.current,Nh),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:n,...u}))},[i,n])}var Lf={};function Rh(i,n,r){!n&&!Lf[i]&&(Lf[i]=!0,Bt(!1,r))}S.memo(my);function my({routes:i,future:n,state:r}){return Th(i,void 0,r,n)}function gy({to:i,replace:n,state:r,relative:a}){Me(es(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=S.useContext(er);Bt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=S.useContext(Vt),{pathname:d}=Ht(),h=At(),p=pu(i,hu(u),d,a==="path"),g=JSON.stringify(p);return S.useEffect(()=>{h(JSON.parse(g),{replace:n,state:r,relative:a})},[h,g,a,n,r]),null}function yy(i){return ty(i.context)}function ct(i){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vy({basename:i="/",children:n=null,location:r,navigationType:a="POP",navigator:l,static:u=!1}){Me(!es(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=yn(r));let{pathname:p="/",search:g="",hash:y="",state:w=null,key:x="default"}=r,b=S.useMemo(()=>{let k=br(p,d);return k==null?null:{location:{pathname:k,search:g,hash:y,state:w,key:x},navigationType:a}},[d,p,g,y,w,x,a]);return Bt(b!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(er.Provider,{value:h},S.createElement(ai.Provider,{children:n,value:b}))}function wy({children:i,location:n}){return ny(ru(i),n)}function ru(i,n=[]){let r=[];return S.Children.forEach(i,(a,l)=>{if(!S.isValidElement(a))return;let u=[...n,l];if(a.type===S.Fragment){r.push.apply(r,ru(a.props.children,u));return}Me(a.type===ct,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=ru(a.props.children,u)),r.push(d)}),r}var Pa="get",Ta="application/x-www-form-urlencoded";function Ma(i){return i!=null&&typeof i.tagName=="string"}function xy(i){return Ma(i)&&i.tagName.toLowerCase()==="button"}function _y(i){return Ma(i)&&i.tagName.toLowerCase()==="form"}function ky(i){return Ma(i)&&i.tagName.toLowerCase()==="input"}function Sy(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function by(i,n){return i.button===0&&(!n||n==="_self")&&!Sy(i)}var Sa=null;function Ey(){if(Sa===null)try{new FormData(document.createElement("form"),0),Sa=!1}catch{Sa=!0}return Sa}var jy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vl(i){return i!=null&&!jy.has(i)?(Bt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ta}"`),null):i}function Cy(i,n){let r,a,l,u,d;if(_y(i)){let h=i.getAttribute("action");a=h?br(h,n):null,r=i.getAttribute("method")||Pa,l=Vl(i.getAttribute("enctype"))||Ta,u=new FormData(i)}else if(xy(i)||ky(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||h.getAttribute("action");if(a=p?br(p,n):null,r=i.getAttribute("formmethod")||h.getAttribute("method")||Pa,l=Vl(i.getAttribute("formenctype"))||Vl(h.getAttribute("enctype"))||Ta,u=new FormData(h,i),!Ey()){let{name:g,type:y,value:w}=i;if(y==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,w)}}else{if(Ma(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pa,a=null,l=Ta,d=i}return u&&l==="text/plain"&&(d=u,u=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:u,body:d}}function vu(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}async function Ny(i,n){if(i.id in n)return n[i.id];try{let r=await import(i.module);return n[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Py(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ty(i,n,r){let a=await Promise.all(i.map(async l=>{let u=n.routes[l.route.id];if(u){let d=await Ny(u,r);return d.links?d.links():[]}return[]}));return Ay(a.flat(1).filter(Py).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Af(i,n,r,a,l,u){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,h=(p,g)=>{var y;return r[g].pathname!==p.pathname||((y=r[g].route.path)==null?void 0:y.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return u==="assets"?n.filter((p,g)=>d(p,g)||h(p,g)):u==="data"?n.filter((p,g)=>{var w;let y=a.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(d(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((w=r[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Ry(i,n,{includeHydrateFallback:r}={}){return Oy(i.map(a=>{let l=n.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Oy(i){return[...new Set(i)]}function Ly(i){let n={},r=Object.keys(i).sort();for(let a of r)n[a]=i[a];return n}function Ay(i,n){let r=new Set;return new Set(n),i.reduce((a,l)=>{let u=JSON.stringify(Ly(l));return r.has(u)||(r.add(u),a.push({key:u,link:l})),a},[])}function Iy(i,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":n&&br(r.pathname,n)==="/"?r.pathname=`${n.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Oh(){let i=S.useContext(Zn);return vu(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Dy(){let i=S.useContext(za);return vu(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var wu=S.createContext(void 0);wu.displayName="FrameworkContext";function Lh(){let i=S.useContext(wu);return vu(i,"You must render this element inside a <HydratedRouter> element"),i}function $y(i,n){let r=S.useContext(wu),[a,l]=S.useState(!1),[u,d]=S.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:w}=n,x=S.useRef(null);S.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let N=D=>{D.forEach($=>{d($.isIntersecting)})},P=new IntersectionObserver(N,{threshold:.5});return x.current&&P.observe(x.current),()=>{P.disconnect()}}},[i]),S.useEffect(()=>{if(a){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[a]);let b=()=>{l(!0)},k=()=>{l(!1),d(!1)};return r?i!=="intent"?[u,x,{}]:[u,x,{onFocus:Bs(h,b),onBlur:Bs(p,k),onMouseEnter:Bs(g,b),onMouseLeave:Bs(y,k),onTouchStart:Bs(w,b)}]:[!1,x,{}]}function Bs(i,n){return r=>{i&&i(r),r.defaultPrevented||n(r)}}function Fy({page:i,...n}){let{router:r}=Oh(),a=S.useMemo(()=>Sh(r.routes,i,r.basename),[r.routes,i,r.basename]);return a?S.createElement(zy,{page:i,matches:a,...n}):null}function Uy(i){let{manifest:n,routeModules:r}=Lh(),[a,l]=S.useState([]);return S.useEffect(()=>{let u=!1;return Ty(i,n,r).then(d=>{u||l(d)}),()=>{u=!0}},[i,n,r]),a}function zy({page:i,matches:n,...r}){let a=Ht(),{manifest:l,routeModules:u}=Lh(),{basename:d}=Oh(),{loaderData:h,matches:p}=Dy(),g=S.useMemo(()=>Af(i,n,p,l,a,"data"),[i,n,p,l,a]),y=S.useMemo(()=>Af(i,n,p,l,a,"assets"),[i,n,p,l,a]),w=S.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let k=new Set,N=!1;if(n.forEach(D=>{var A;let $=l.routes[D.route.id];!$||!$.hasLoader||(!g.some(U=>U.route.id===D.route.id)&&D.route.id in h&&((A=u[D.route.id])!=null&&A.shouldRevalidate)||$.hasClientLoader?N=!0:k.add(D.route.id))}),k.size===0)return[];let P=Iy(i,d);return N&&k.size>0&&P.searchParams.set("_routes",n.filter(D=>k.has(D.route.id)).map(D=>D.route.id).join(",")),[P.pathname+P.search]},[d,h,a,l,g,n,i,u]),x=S.useMemo(()=>Ry(y,l),[y,l]),b=Uy(y);return S.createElement(S.Fragment,null,w.map(k=>S.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),x.map(k=>S.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),b.map(({key:k,link:N})=>S.createElement("link",{key:k,...N})))}function My(...i){return n=>{i.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var Ah=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ah&&(window.__reactRouterVersion="7.4.0")}catch{}function By({basename:i,children:n,window:r}){let a=S.useRef();a.current==null&&(a.current=jg({window:r,v5Compat:!0}));let l=a.current,[u,d]=S.useState({action:l.action,location:l.location}),h=S.useCallback(p=>{S.startTransition(()=>d(p))},[d]);return S.useLayoutEffect(()=>l.listen(h),[l,h]),S.createElement(vy,{basename:i,children:n,location:u.location,navigationType:u.action,navigator:l})}var Ih=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=S.forwardRef(function({onClick:n,discover:r="render",prefetch:a="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:g,preventScrollReset:y,viewTransition:w,...x},b){let{basename:k}=S.useContext(er),N=typeof g=="string"&&Ih.test(g),P,D=!1;if(typeof g=="string"&&N&&(P=g,Ah))try{let fe=new URL(window.location.href),xe=g.startsWith("//")?new URL(fe.protocol+g):new URL(g),rt=br(xe.pathname,k);xe.origin===fe.origin&&rt!=null?g=rt+xe.search+xe.hash:D=!0}catch{Bt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=Xg(g,{relative:l}),[A,U,V]=$y(a,x),oe=qy(g,{replace:d,state:h,target:p,preventScrollReset:y,relative:l,viewTransition:w});function ye(fe){n&&n(fe),fe.defaultPrevented||oe(fe)}let ve=S.createElement("a",{...x,...V,href:P||$,onClick:D||u?n:ye,ref:My(b,U),target:p,"data-discover":!N&&r==="render"?"true":void 0});return A&&!N?S.createElement(S.Fragment,null,ve,S.createElement(Fy,{page:$})):ve});gn.displayName="Link";var kr=S.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:a="",end:l=!1,style:u,to:d,viewTransition:h,children:p,...g},y){let w=oi(d,{relative:g.relative}),x=Ht(),b=S.useContext(za),{navigator:k,basename:N}=S.useContext(er),P=b!=null&&Gy(w)&&h===!0,D=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,$=x.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||($=$.toLowerCase(),A=A?A.toLowerCase():null,D=D.toLowerCase()),A&&N&&(A=br(A,N)||A);const U=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let V=$===D||!l&&$.startsWith(D)&&$.charAt(U)==="/",oe=A!=null&&(A===D||!l&&A.startsWith(D)&&A.charAt(D.length)==="/"),ye={isActive:V,isPending:oe,isTransitioning:P},ve=V?n:void 0,fe;typeof a=="function"?fe=a(ye):fe=[a,V?"active":null,oe?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let xe=typeof u=="function"?u(ye):u;return S.createElement(gn,{...g,"aria-current":ve,className:fe,ref:y,style:xe,to:d,viewTransition:h},typeof p=="function"?p(ye):p)});kr.displayName="NavLink";var Vy=S.forwardRef(({discover:i="render",fetcherKey:n,navigate:r,reloadDocument:a,replace:l,state:u,method:d=Pa,action:h,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:w,...x},b)=>{let k=Jy(),N=Ky(h,{relative:g}),P=d.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&Ih.test(h),$=A=>{if(p&&p(A),A.defaultPrevented)return;A.preventDefault();let U=A.nativeEvent.submitter,V=(U==null?void 0:U.getAttribute("formmethod"))||d;k(U||A.currentTarget,{fetcherKey:n,method:V,navigate:r,replace:l,state:u,relative:g,preventScrollReset:y,viewTransition:w})};return S.createElement("form",{ref:b,method:P,action:N,onSubmit:a?p:$,...x,"data-discover":!D&&i==="render"?"true":void 0})});Vy.displayName="Form";function Hy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dh(i){let n=S.useContext(Zn);return Me(n,Hy(i)),n}function qy(i,{target:n,replace:r,state:a,preventScrollReset:l,relative:u,viewTransition:d}={}){let h=At(),p=Ht(),g=oi(i,{relative:u});return S.useCallback(y=>{if(by(y,n)){y.preventDefault();let w=r!==void 0?r:si(p)===si(g);h(i,{replace:w,state:a,preventScrollReset:l,relative:u,viewTransition:d})}},[p,h,g,r,a,n,i,l,u,d])}var Wy=0,Qy=()=>`__${String(++Wy)}__`;function Jy(){let{router:i}=Dh("useSubmit"),{basename:n}=S.useContext(er),r=fy();return S.useCallback(async(a,l={})=>{let{action:u,method:d,encType:h,formData:p,body:g}=Cy(a,n);if(l.navigate===!1){let y=l.fetcherKey||Qy();await i.fetch(y,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,n,r])}function Ky(i,{relative:n}={}){let{basename:r}=S.useContext(er),a=S.useContext(Vt);Me(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...oi(i||".",{relative:n})},d=Ht();if(i==null){u.search=d.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(w=>w).forEach(w=>h.append("index",w));let y=h.toString();u.search=y?`?${y}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Sr([r,u.pathname])),si(u)}function Gy(i,n={}){let r=S.useContext(Ch);Me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Dh("useViewTransitionState"),l=oi(i,{relative:n.relative});if(!r.isTransitioning)return!1;let u=br(r.currentLocation.pathname,a)||r.currentLocation.pathname,d=br(r.nextLocation.pathname,a)||r.nextLocation.pathname;return La(l.pathname,d)!=null||La(l.pathname,u)!=null}new TextEncoder;var $h={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},If=tt.createContext&&tt.createContext($h),Yy=["attr","size","title"];function Xy(i,n){if(i==null)return{};var r=Zy(i,n),a,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(l=0;l<u.length;l++)a=u[l],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(r[a]=i[a])}return r}function Zy(i,n){if(i==null)return{};var r={};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){if(n.indexOf(a)>=0)continue;r[a]=i[a]}return r}function Aa(){return Aa=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},Aa.apply(this,arguments)}function Df(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);n&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function Ia(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Df(Object(r),!0).forEach(function(a){ev(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Df(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}function ev(i,n,r){return n=tv(n),n in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function tv(i){var n=rv(i,"string");return typeof n=="symbol"?n:n+""}function rv(i,n){if(typeof i!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var a=r.call(i,n||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Fh(i){return i&&i.map((n,r)=>tt.createElement(n.tag,Ia({key:r},n.attr),Fh(n.child)))}function Kr(i){return n=>tt.createElement(nv,Aa({attr:Ia({},i.attr)},n),Fh(i.child))}function nv(i){var n=r=>{var{attr:a,size:l,title:u}=i,d=Xy(i,Yy),h=l||r.size||"1em",p;return r.className&&(p=r.className),i.className&&(p=(p?p+" ":"")+i.className),tt.createElement("svg",Aa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,d,{className:p,style:Ia(Ia({color:i.color||r.color},r.style),i.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),u&&tt.createElement("title",null,u),i.children)};return If!==void 0?tt.createElement(If.Consumer,null,r=>n(r)):n($h)}function sv(i){return Kr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(i)}function Uh(i){return Kr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(i)}function zh(i){return Kr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(i)}function iv(i){return Kr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(i)}function av(i){return Kr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(i)}function ov(i){return Kr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(i)}function $f(i){return Kr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}function lv(i){return Kr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(i)}const Ff=()=>{const i=Ht(),n=At(),[r,a]=S.useState("");S.useEffect(()=>{const p=new URLSearchParams(i.search).get("search");p&&!p.includes("@")?a(p):a("")},[i.search]);const l=h=>{const p=h.target.value.trim();a(p),p&&!p.includes("@")&&n(`/?search=${encodeURIComponent(p)}`)},u=()=>{r.trim()&&!r.includes("@")&&(n(`/?search=${encodeURIComponent(r.trim())}`),a(""))},d=h=>{h.key==="Enter"&&u()};return m.jsxs("div",{className:"flex items-center border border-gray-300 bg-gray-100 rounded-md px-2 py-0.2 w-full",children:[m.jsx("input",{type:"text",placeholder:"Caută produse...",className:"w-full border-none outline-none px-2 text-sm h-8 bg-gray-100",value:r,onChange:l,onKeyDown:d}),m.jsx("button",{className:"bg-sky-900 text-white px-3 py-1 rounded-md text-sm h-7 transform transition duration-250 hover:bg-sky-800 active:scale-105 active:bg-sky-700 hidden sm:block",onClick:u,children:"Caută"}),m.jsx("button",{className:"text-sky-900 p-2 rounded-full sm:hidden",onClick:u,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 19l-4-4M9 14a5 5 0 110-10 5 5 0 010 10z"})})})]})};var Hl={exports:{}},ql,Uf;function uv(){if(Uf)return ql;Uf=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ql=i,ql}var Wl,zf;function cv(){if(zf)return Wl;zf=1;var i=uv();function n(){}function r(){}return r.resetWarningCache=n,Wl=function(){function a(d,h,p,g,y,w){if(w!==i){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}a.isRequired=a;function l(){return a}var u={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:l,element:a,elementType:a,instanceOf:l,node:a,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:r,resetWarningCache:n};return u.PropTypes=u,u},Wl}var Mf;function dv(){return Mf||(Mf=1,Hl.exports=cv()()),Hl.exports}var fv=dv();const Ee=du(fv),hv="modulepreload",pv=function(i){return"/dan-store/"+i},Bf={},Gn=function(n,r,a){let l=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(r.map(p=>{if(p=pv(p),p in Bf)return;Bf[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":hv,g||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((x,b)=>{w.addEventListener("load",x),w.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})},mv=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...r)=>Gn(async()=>{const{default:a}=await Promise.resolve().then(()=>ts);return{default:a}},[]).then(({default:a})=>a(...r)):n=fetch,(...r)=>n(...r)};class xu extends Error{constructor(n,r="FunctionsError",a){super(n),this.name=r,this.context=a}}class gv extends xu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class yv extends xu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class vv extends xu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var nu;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(nu||(nu={}));var wv=function(i,n,r,a){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{g(a.next(y))}catch(w){d(w)}}function p(y){try{g(a.throw(y))}catch(w){d(w)}}function g(y){y.done?u(y.value):l(y.value).then(h,p)}g((a=a.apply(i,n||[])).next())})};class xv{constructor(n,{headers:r={},customFetch:a,region:l=nu.Any}={}){this.url=n,this.headers=r,this.region=l,this.fetch=mv(a)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var a;return wv(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:d}=r;let h={},{region:p}=r;p||(p=this.region),p&&p!=="any"&&(h["x-region"]=p);let g;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(h["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(h["Content-Type"]="application/json",g=JSON.stringify(d)));const y=yield this.fetch(`${this.url}/${n}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g}).catch(k=>{throw new gv(k)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new yv(y);if(!y.ok)throw new vv(y);let x=((a=y.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield y.json():x==="application/octet-stream"?b=yield y.blob():x==="text/event-stream"?b=y:x==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null}}catch(l){return{data:null,error:l}}})}}var ut={},Vs={},Hs={},qs={},Ws={},Qs={},_v=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yn=_v();const kv=Yn.fetch,Mh=Yn.fetch.bind(Yn),Bh=Yn.Headers,Sv=Yn.Request,bv=Yn.Response,ts=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bh,Request:Sv,Response:bv,default:Mh,fetch:kv},Symbol.toStringTag,{value:"Module"})),Ev=mg(ts);var ba={},Vf;function Vh(){if(Vf)return ba;Vf=1,Object.defineProperty(ba,"__esModule",{value:!0});class i extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ba.default=i,ba}var Hf;function Hh(){if(Hf)return Qs;Hf=1;var i=Qs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Qs,"__esModule",{value:!0});const n=i(Ev),r=i(Vh());class a{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=Object.assign({},this.headers),this.headers[u]=d,this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,w,x;let b=null,k=null,N=null,P=g.status,D=g.statusText;if(g.ok){if(this.method!=="HEAD"){const V=await g.text();V===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?k=V:k=JSON.parse(V))}const A=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),U=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");A&&U&&U.length>1&&(N=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(b={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,N=null,P=406,D="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const A=await g.text();try{b=JSON.parse(A),Array.isArray(b)&&g.status===404&&(k=[],b=null,P=200,D="OK")}catch{g.status===404&&A===""?(P=204,D="No Content"):b={message:A}}if(b&&this.isMaybeSingle&&(!((x=b==null?void 0:b.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,P=200,D="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:k,count:N,status:P,statusText:D}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,w,x;return{error:{message:`${(y=g==null?void 0:g.name)!==null&&y!==void 0?y:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(w=g==null?void 0:g.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(x=g==null?void 0:g.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,d)}}return Qs.default=a,Qs}var qf;function qh(){if(qf)return Ws;qf=1;var i=Ws.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ws,"__esModule",{value:!0});const n=i(Hh());class r extends n.default{select(l){let u=!1;const d=(l??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:h=d}={}){const p=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(g,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:h=!1,wal:p=!1,format:g="text"}={}){var y;const w=[l?"analyze":null,u?"verbose":null,d?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${x}"; options=${w};`,g==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ws.default=r,Ws}var Wf;function _u(){if(Wf)return qs;Wf=1;var i=qs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(qs,"__esModule",{value:!0});const n=i(qh());class r extends n.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${p}fts${g}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}}return qs.default=r,qs}var Qf;function Wh(){if(Qf)return Hs;Qf=1;var i=Hs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Hs,"__esModule",{value:!0});const n=i(_u());class r{constructor(l,{headers:u={},schema:d,fetch:h}){this.url=l,this.headers=u,this.schema=d,this.fetch=h}select(l,{head:u=!1,count:d}={}){const h=u?"HEAD":"GET";let p=!1;const g=(l??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",g),d&&(this.headers.Prefer=`count=${d}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:d=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),d||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(l)){const g=l.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(g.length>0){const y=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:h,defaultToNull:p=!0}={}){const g="POST",y=[`resolution=${d?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(l)){const w=l.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(w.length>0){const x=[...new Set(w)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),this.headers.Prefer=h.join(","),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",d=[];return l&&d.push(`count=${l}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Hs.default=r,Hs}var Js={},Ks={},Jf;function jv(){return Jf||(Jf=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.version=void 0,Ks.version="0.0.0-automated"),Ks}var Kf;function Cv(){if(Kf)return Js;Kf=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.DEFAULT_HEADERS=void 0;const i=jv();return Js.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${i.version}`},Js}var Gf;function Nv(){if(Gf)return Vs;Gf=1;var i=Vs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Vs,"__esModule",{value:!0});const n=i(Wh()),r=i(_u()),a=Cv();class l{constructor(d,{headers:h={},schema:p,fetch:g}={}){this.url=d,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=g}from(d){const h=new URL(`${this.url}/${d}`);return new n.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:p=!1,get:g=!1,count:y}={}){let w;const x=new URL(`${this.url}/rpc/${d}`);let b;p||g?(w=p?"HEAD":"GET",Object.entries(h).filter(([N,P])=>P!==void 0).map(([N,P])=>[N,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([N,P])=>{x.searchParams.append(N,P)})):(w="POST",b=h);const k=Object.assign({},this.headers);return y&&(k.Prefer=`count=${y}`),new r.default({method:w,url:x,headers:k,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return Vs.default=l,Vs}var Yf;function Pv(){if(Yf)return ut;Yf=1;var i=ut.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const n=i(Nv());ut.PostgrestClient=n.default;const r=i(Wh());ut.PostgrestQueryBuilder=r.default;const a=i(_u());ut.PostgrestFilterBuilder=a.default;const l=i(qh());ut.PostgrestTransformBuilder=l.default;const u=i(Hh());ut.PostgrestBuilder=u.default;const d=i(Vh());return ut.PostgrestError=d.default,ut.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},ut}var Tv=Pv();const Rv=du(Tv),{PostgrestClient:Ov,PostgrestQueryBuilder:tx,PostgrestFilterBuilder:rx,PostgrestTransformBuilder:nx,PostgrestBuilder:sx,PostgrestError:ix}=Rv,Lv="2.11.2",Av={"X-Client-Info":`realtime-js/${Lv}`},Iv="1.0.0",Qh=1e4,Dv=1e3;var Kn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Kn||(Kn={}));var Lt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Lt||(Lt={}));var Xt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Xt||(Xt={}));var su;(function(i){i.websocket="websocket"})(su||(su={}));var pn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(pn||(pn={}));class $v{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),a=new TextDecoder;return this._decodeBroadcast(n,r,a)}_decodeBroadcast(n,r,a){const l=r.getUint8(1),u=r.getUint8(2);let d=this.HEADER_LENGTH+2;const h=a.decode(n.slice(d,d+l));d=d+l;const p=a.decode(n.slice(d,d+u));d=d+u;const g=JSON.parse(a.decode(n.slice(d,n.byteLength)));return{ref:null,topic:h,event:p,payload:g}}}class Jh{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(De||(De={}));const Xf=(i,n,r={})=>{var a;const l=(a=r.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(n).reduce((u,d)=>(u[d]=Fv(d,i,n,l),u),{})},Fv=(i,n,r,a)=>{const l=n.find(h=>h.name===i),u=l==null?void 0:l.type,d=r[i];return u&&!a.includes(u)?Kh(u,d):iu(d)},Kh=(i,n)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return Bv(n,r)}switch(i){case De.bool:return Uv(n);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return zv(n);case De.json:case De.jsonb:return Mv(n);case De.timestamp:return Vv(n);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return iu(n);default:return iu(n)}},iu=i=>i,Uv=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},zv=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},Mv=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},Bv=(i,n)=>{if(typeof i!="string")return i;const r=i.length-1,a=i[r];if(i[0]==="{"&&a==="}"){let u;const d=i.slice(1,r);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(h=>Kh(n,h))}return i},Vv=i=>typeof i=="string"?i.replace(" ","T"):i,Gh=i=>{let n=i;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Ql{constructor(n,r,a={},l=Qh){this.channel=n,this.event=r,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var a;return this._hasReceived(n)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(a=>a.status===n).forEach(a=>a.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Zf;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Zf||(Zf={}));class ti{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ti.syncState(this.state,l,u,d),this.pendingDiffs.forEach(p=>{this.state=ti.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ti.syncDiff(this.state,l,u,d),h())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,a,l){const u=this.cloneDeep(n),d=this.transformState(r),h={},p={};return this.map(u,(g,y)=>{d[g]||(p[g]=y)}),this.map(d,(g,y)=>{const w=u[g];if(w){const x=y.map(P=>P.presence_ref),b=w.map(P=>P.presence_ref),k=y.filter(P=>b.indexOf(P.presence_ref)<0),N=w.filter(P=>x.indexOf(P.presence_ref)<0);k.length>0&&(h[g]=k),N.length>0&&(p[g]=N)}else h[g]=y}),this.syncDiff(u,{joins:h,leaves:p},a,l)}static syncDiff(n,r,a,l){const{joins:u,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(u,(h,p)=>{var g;const y=(g=n[h])!==null&&g!==void 0?g:[];if(n[h]=this.cloneDeep(p),y.length>0){const w=n[h].map(b=>b.presence_ref),x=y.filter(b=>w.indexOf(b.presence_ref)<0);n[h].unshift(...x)}a(h,y,p)}),this.map(d,(h,p)=>{let g=n[h];if(!g)return;const y=p.map(w=>w.presence_ref);g=g.filter(w=>y.indexOf(w.presence_ref)<0),n[h]=g,l(h,g,p),g.length===0&&delete n[h]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(a=>r(a,n[a]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,a)=>{const l=n[a];return"metas"in l?r[a]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[a]=l,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eh;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(eh||(eh={}));var th;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(th||(th={}));var _r;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(_r||(_r={}));class ku{constructor(n,r={config:{}},a){this.topic=n,this.params=r,this.socket=a,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ql(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new Jh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new ti(this),this.broadcastEndpointURL=Gh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,r=this.timeout){var a,l;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:d,private:h}}=this.params;this._onError(y=>n==null?void 0:n(_r.CHANNEL_ERROR,y)),this._onClose(()=>n==null?void 0:n(_r.CLOSED));const p={},g={broadcast:u,presence:d,postgres_changes:(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&l!==void 0?l:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){n==null||n(_r.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,k=[];for(let N=0;N<b;N++){const P=x[N],{filter:{event:D,schema:$,table:A,filter:U}}=P,V=y&&y[N];if(V&&V.event===D&&V.schema===$&&V.table===A&&V.filter===U)k.push(Object.assign(Object.assign({},P),{id:V.id}));else{this.unsubscribe(),n==null||n(_r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,n&&n(_r.SUBSCRIBED);return}}).receive("error",y=>{n==null||n(_r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(_r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,a){return this._on(n,r,a)}async send(n,r={}){var a,l;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:d}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,h,p;const g=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(a=>{const l=new Ql(this,Xt.leave,{},n);l.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),l.send(),this._canPush()||l.trigger("ok",{})})}async _fetchWithTimeout(n,r,a){const l=new AbortController,u=setTimeout(()=>l.abort(),a),d=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(u),d}_push(n,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Ql(this,n,r,a);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(n,r,a){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,a){var l,u;const d=n.toLocaleLowerCase(),{close:h,error:p,leave:g,join:y}=Xt;if(a&&[h,p,g,y].indexOf(d)>=0&&a!==this._joinRef())return;let x=this._onMessage(d,r,a);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var k,N,P;return((k=b.filter)===null||k===void 0?void 0:k.event)==="*"||((P=(N=b.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===d}).map(b=>b.callback(x,a)):(u=this.bindings[d])===null||u===void 0||u.filter(b=>{var k,N,P,D,$,A;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const U=b.id,V=(k=b.filter)===null||k===void 0?void 0:k.event;return U&&((N=r.ids)===null||N===void 0?void 0:N.includes(U))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const U=($=(D=b==null?void 0:b.filter)===null||D===void 0?void 0:D.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return U==="*"||U===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof x=="object"&&"ids"in x){const k=x.data,{schema:N,table:P,commit_timestamp:D,type:$,errors:A}=k;x=Object.assign(Object.assign({},{schema:N,table:P,commit_timestamp:D,eventType:$,new:{},old:{},errors:A}),this._getPayloadRecords(k))}b.callback(x,a)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,a){const l=n.toLocaleLowerCase(),u={type:l,filter:r,callback:a};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,r){const a=n.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&ku.isEqual(l.filter,r))}),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const a in n)if(n[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Xt.close,{},n)}_onError(n){this._on(Xt.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Xf(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Xf(n.columns,n.old_record)),r}}const Hv=()=>{},qv=typeof WebSocket<"u",Wv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qv{constructor(n,r){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Av,this.params={},this.timeout=Qh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Hv,this.conn=null,this.sendBuffer=[],this.serializer=new $v,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...h)=>Gn(async()=>{const{default:p}=await Promise.resolve().then(()=>ts);return{default:p}},void 0).then(({default:p})=>p(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${n}/${su.websocket}`,this.httpEndpoint=Gh(n),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const l=(a=r==null?void 0:r.params)===null||a===void 0?void 0:a.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(u,d)=>d(JSON.stringify(u)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(qv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Jv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Gn(async()=>{const{default:n}=await import("./browser-CrIuhYVQ.js").then(r=>r.b);return{default:n}},[]).then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Iv}))}disconnect(n,r){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),n}log(n,r,a){this.logger(n,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Kn.connecting:return pn.Connecting;case Kn.open:return pn.Open;case Kn.closing:return pn.Closing;default:return pn.Closed}}isConnected(){return this.connectionState()===pn.Open}channel(n,r={config:{}}){const a=new ku(`realtime:${n}`,r,this);return this.channels.push(a),a}push(n){const{topic:r,event:a,payload:l,ref:u}=n,d=()=>{this.encode(n,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${r} ${a} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){let r=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let a=null;try{a=JSON.parse(atob(r.split(".")[1]))}catch{}if(a&&a.exp&&!(Math.floor(Date.now()/1e3)-a.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`);this.accessTokenValue=r,this.channels.forEach(l=>{r&&l.updateJoinPayload({access_token:r}),l.joinedOnce&&l._isJoined()&&l._push(Xt.access_token,{access_token:r})})}}async sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(Dv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(a=>a.topic===n&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,r=>{let{topic:a,event:l,payload:u,ref:d}=r;d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${a} ${l} ${d&&"("+d+")"||""}`,u),this.channels.filter(h=>h._isMember(a)).forEach(h=>h._trigger(l,u,d)),this.stateChangeCallbacks.message.forEach(h=>h(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Xt.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const a=n.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${n}${a}${l}`}_workerObjectUrl(n){let r;if(n)r=n;else{const a=new Blob([Wv],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}}class Jv{constructor(n,r,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Kn.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=a.close}}class Su extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function at(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Kv extends Su{constructor(n,r){super(n),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class au extends Su{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var Gv=function(i,n,r,a){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{g(a.next(y))}catch(w){d(w)}}function p(y){try{g(a.throw(y))}catch(w){d(w)}}function g(y){y.done?u(y.value):l(y.value).then(h,p)}g((a=a.apply(i,n||[])).next())})};const Yh=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...r)=>Gn(async()=>{const{default:a}=await Promise.resolve().then(()=>ts);return{default:a}},void 0).then(({default:a})=>a(...r)):n=fetch,(...r)=>n(...r)},Yv=()=>Gv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gn(()=>Promise.resolve().then(()=>ts),void 0)).Response:Response}),ou=i=>{if(Array.isArray(i))return i.map(r=>ou(r));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([r,a])=>{const l=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=ou(a)}),n};var vn=function(i,n,r,a){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{g(a.next(y))}catch(w){d(w)}}function p(y){try{g(a.throw(y))}catch(w){d(w)}}function g(y){y.done?u(y.value):l(y.value).then(h,p)}g((a=a.apply(i,n||[])).next())})};const Jl=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Xv=(i,n,r)=>vn(void 0,void 0,void 0,function*(){const a=yield Yv();i instanceof a&&!(r!=null&&r.noResolveJson)?i.json().then(l=>{n(new Kv(Jl(l),i.status||500))}).catch(l=>{n(new au(Jl(l),l))}):n(new au(Jl(i),i))}),Zv=(i,n,r,a)=>{const l={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),a&&(l.body=JSON.stringify(a)),Object.assign(Object.assign({},l),r))};function li(i,n,r,a,l,u){return vn(this,void 0,void 0,function*(){return new Promise((d,h)=>{i(r,Zv(n,a,l,u)).then(p=>{if(!p.ok)throw p;return a!=null&&a.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>Xv(p,h,a))})})}function Da(i,n,r,a){return vn(this,void 0,void 0,function*(){return li(i,"GET",n,r,a)})}function Wr(i,n,r,a,l){return vn(this,void 0,void 0,function*(){return li(i,"POST",n,a,l,r)})}function e0(i,n,r,a,l){return vn(this,void 0,void 0,function*(){return li(i,"PUT",n,a,l,r)})}function t0(i,n,r,a){return vn(this,void 0,void 0,function*(){return li(i,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Xh(i,n,r,a,l){return vn(this,void 0,void 0,function*(){return li(i,"DELETE",n,a,l,r)})}var jt=function(i,n,r,a){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{g(a.next(y))}catch(w){d(w)}}function p(y){try{g(a.throw(y))}catch(w){d(w)}}function g(y){y.done?u(y.value):l(y.value).then(h,p)}g((a=a.apply(i,n||[])).next())})};const r0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class n0{constructor(n,r={},a,l){this.url=n,this.headers=r,this.bucketId=a,this.fetch=Yh(l)}uploadOrUpdate(n,r,a,l){return jt(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},rh),l);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=a,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),l!=null&&l.headers&&(h=Object.assign(Object.assign({},h),l.headers));const g=this._removeEmptyFolders(r),y=this._getFinalPath(g),w=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:n,body:u,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{})),x=yield w.json();return w.ok?{data:{path:g,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(u){if(at(u))return{data:null,error:u};throw u}})}upload(n,r,a){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,a)})}uploadToSignedUrl(n,r,a,l){return jt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",r);try{let p;const g=Object.assign({upsert:rh.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",g.cacheControl)):(p=a,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const w=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:y}),x=yield w.json();return w.ok?{data:{path:u,fullPath:x.Key},error:null}:{data:null,error:x}}catch(p){if(at(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,r){return jt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n);const l=Object.assign({},this.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const u=yield Wr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),d=new URL(this.url+u.url),h=d.searchParams.get("token");if(!h)throw new Su("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:h},error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}})}update(n,r,a){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,a)})}move(n,r,a){return jt(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(at(l))return{data:null,error:l};throw l}})}copy(n,r,a){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield Wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(at(l))return{data:null,error:l};throw l}})}createSignedUrl(n,r,a){return jt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),u=yield Wr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(at(l))return{data:null,error:l};throw l}})}createSignedUrls(n,r,a){return jt(this,void 0,void 0,function*(){try{const l=yield Wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(at(l))return{data:null,error:l};throw l}})}download(n,r){return jt(this,void 0,void 0,function*(){const l=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=u?`?${u}`:"";try{const h=this._getFinalPath(n);return{data:yield(yield Da(this.fetch,`${this.url}/${l}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(at(h))return{data:null,error:h};throw h}})}info(n){return jt(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const a=yield Da(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ou(a),error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}})}exists(n){return jt(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield t0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(at(a)&&a instanceof au){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}})}getPublicUrl(n,r){const a=this._getFinalPath(n),l=[],u=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&l.push(u);const h=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});p!==""&&l.push(p);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${a}${g}`)}}}remove(n){return jt(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}list(n,r,a){return jt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},r0),r),{prefix:n||""});return{data:yield Wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(at(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const s0="2.7.1",i0={"X-Client-Info":`storage-js/${s0}`};var qn=function(i,n,r,a){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{g(a.next(y))}catch(w){d(w)}}function p(y){try{g(a.throw(y))}catch(w){d(w)}}function g(y){y.done?u(y.value):l(y.value).then(h,p)}g((a=a.apply(i,n||[])).next())})};class a0{constructor(n,r={},a){this.url=n,this.headers=Object.assign(Object.assign({},i0),r),this.fetch=Yh(a)}listBuckets(){return qn(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}getBucket(n){return qn(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return qn(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}})}updateBucket(n,r){return qn(this,void 0,void 0,function*(){try{return{data:yield e0(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}})}emptyBucket(n){return qn(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}deleteBucket(n){return qn(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}}class o0 extends a0{constructor(n,r={},a){super(n,r,a)}from(n){return new n0(this.url,this.headers,n,this.fetch)}}const l0="2.48.1";let Zs="";typeof Deno<"u"?Zs="deno":typeof document<"u"?Zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zs="react-native":Zs="node";const u0={"X-Client-Info":`supabase-js-${Zs}/${l0}`},c0={headers:u0},d0={schema:"public"},f0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h0={};var p0=function(i,n,r,a){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{g(a.next(y))}catch(w){d(w)}}function p(y){try{g(a.throw(y))}catch(w){d(w)}}function g(y){y.done?u(y.value):l(y.value).then(h,p)}g((a=a.apply(i,n||[])).next())})};const m0=i=>{let n;return i?n=i:typeof fetch>"u"?n=Mh:n=fetch,(...r)=>n(...r)},g0=()=>typeof Headers>"u"?Bh:Headers,y0=(i,n,r)=>{const a=m0(r),l=g0();return(u,d)=>p0(void 0,void 0,void 0,function*(){var h;const p=(h=yield n())!==null&&h!==void 0?h:i;let g=new l(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),a(u,Object.assign(Object.assign({},d),{headers:g}))})};var v0=function(i,n,r,a){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{g(a.next(y))}catch(w){d(w)}}function p(y){try{g(a.throw(y))}catch(w){d(w)}}function g(y){y.done?u(y.value):l(y.value).then(h,p)}g((a=a.apply(i,n||[])).next())})};function w0(i){return i.replace(/\/$/,"")}function x0(i,n){const{db:r,auth:a,realtime:l,global:u}=i,{db:d,auth:h,realtime:p,global:g}=n,y={db:Object.assign(Object.assign({},d),r),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},p),l),global:Object.assign(Object.assign({},g),u),accessToken:()=>v0(this,void 0,void 0,function*(){return""})};return i.accessToken?y.accessToken=i.accessToken:delete y.accessToken,y}const Zh="2.67.3",_0="http://localhost:9999",k0="supabase.auth.token",S0={"X-Client-Info":`gotrue-js/${Zh}`},nh=10,lu="X-Supabase-Api-Version",ep={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function b0(i){return Math.round(Date.now()/1e3)+i}function E0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const ar=()=>typeof window<"u"&&typeof document<"u",fn={tested:!1,writable:!1},ri=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fn.tested)return fn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),fn.tested=!0,fn.writable=!0}catch{fn.tested=!0,fn.writable=!1}return fn.writable};function j0(i){const n={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return r.searchParams.forEach((a,l)=>{n[l]=a}),n}const tp=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...r)=>Gn(async()=>{const{default:a}=await Promise.resolve().then(()=>ts);return{default:a}},void 0).then(({default:a})=>a(...r)):n=fetch,(...r)=>n(...r)},C0=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",rp=async(i,n,r)=>{await i.setItem(n,JSON.stringify(r))},Ea=async(i,n)=>{const r=await i.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ja=async(i,n)=>{await i.removeItem(n)};function N0(i){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",a,l,u,d,h,p,g,y=0;for(i=i.replace("-","+").replace("_","/");y<i.length;)d=n.indexOf(i.charAt(y++)),h=n.indexOf(i.charAt(y++)),p=n.indexOf(i.charAt(y++)),g=n.indexOf(i.charAt(y++)),a=d<<2|h>>4,l=(h&15)<<4|p>>2,u=(p&3)<<6|g,r=r+String.fromCharCode(a),p!=64&&l!=0&&(r=r+String.fromCharCode(l)),g!=64&&u!=0&&(r=r+String.fromCharCode(u));return r}class Ba{constructor(){this.promise=new Ba.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Ba.promiseConstructor=Promise;function sh(i){const n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=i.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const a=r[1];return JSON.parse(N0(a))}async function P0(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function T0(i,n){return new Promise((a,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await i(u);if(!n(u,null,d)){a(d);return}}catch(d){if(!n(u,d)){l(d);return}}})()})}function R0(i){return("0"+i.toString(16)).substr(-2)}function O0(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let l="";for(let u=0;u<56;u++)l+=r.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(n),Array.from(n,R0).join("")}async function L0(i){const r=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(a);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}function A0(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function I0(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await L0(i);return A0(r)}async function Wn(i,n,r=!1){const a=O0();let l=a;r&&(l+="/PASSWORD_RECOVERY"),await rp(i,`${n}-code-verifier`,l);const u=await I0(a);return[u,a===u?"plain":"s256"]}const D0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $0(i){const n=i.headers.get(lu);if(!n||!n.match(D0))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}class bu extends Error{constructor(n,r,a){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function ge(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class F0 extends bu{constructor(n,r,a){super(n,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function U0(i){return ge(i)&&i.name==="AuthApiError"}class np extends bu{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class wn extends bu{constructor(n,r,a,l){super(n,a,l),this.name=r,this.status=a}}class Hr extends wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function z0(i){return ge(i)&&i.name==="AuthSessionMissingError"}class Kl extends wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ca extends wn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Na extends wn{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M0(i){return ge(i)&&i.name==="AuthImplicitGrantRedirectError"}class ih extends wn{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uu extends wn{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Gl(i){return ge(i)&&i.name==="AuthRetryableFetchError"}class ah extends wn{constructor(n,r,a){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}var B0=function(i,n){var r={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&n.indexOf(a)<0&&(r[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(r[a[l]]=i[a[l]]);return r};const hn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),V0=[502,503,504];async function oh(i){var n;if(!C0(i))throw new uu(hn(i),0);if(V0.includes(i.status))throw new uu(hn(i),i.status);let r;try{r=await i.json()}catch(u){throw new np(hn(u),u)}let a;const l=$0(i);if(l&&l.getTime()>=ep["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new ah(hn(r),i.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(a==="session_not_found")throw new Hr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new ah(hn(r),i.status,r.weak_password.reasons);throw new F0(hn(r),i.status||500,a)}const H0=(i,n,r,a)=>{const l={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),r))};async function Se(i,n,r,a){var l;const u=Object.assign({},a==null?void 0:a.headers);u[lu]||(u[lu]=ep["2024-01-01"].name),a!=null&&a.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const d=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(d.redirect_to=a.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await q0(i,n,r+h,{headers:u,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(p):{data:Object.assign({},p),error:null}}async function q0(i,n,r,a,l,u){const d=H0(n,a,l,u);let h;try{h=await i(r,Object.assign({},d))}catch(p){throw console.error(p),new uu(hn(p),0)}if(h.ok||await oh(h),a!=null&&a.noResolveJson)return h;try{return await h.json()}catch(p){await oh(p)}}function qr(i){var n;let r=null;K0(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=b0(i.expires_in)));const a=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:r,user:a},error:null}}function lh(i){const n=qr(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(n.data.weak_password=i.weak_password),n}function Qr(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function W0(i){return{data:i,error:null}}function Q0(i){const{action_link:n,email_otp:r,hashed_token:a,redirect_to:l,verification_type:u}=i,d=B0(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:r,hashed_token:a,redirect_to:l,verification_type:u},p=Object.assign({},d);return{data:{properties:h,user:p},error:null}}function J0(i){return i}function K0(i){return i.access_token&&i.refresh_token&&i.expires_in}var G0=function(i,n){var r={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&n.indexOf(a)<0&&(r[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(r[a[l]]=i[a[l]]);return r};class Y0{constructor({url:n="",headers:r={},fetch:a}){this.url=n,this.headers=r,this.fetch=tp(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r="global"){try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}}async inviteUserByEmail(n,r={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qr})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async generateLink(n){try{const{options:r}=n,a=G0(n,["options"]),l=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Q0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Qr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,a,l,u,d,h,p;try{const g={nextPage:null,lastPage:0,total:0},y=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=n==null?void 0:n.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:J0});if(y.error)throw y.error;const w=await y.json(),x=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);g[`${P}Page`]=N}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(ge(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Qr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Qr})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async deleteUser(n,r=!1){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qr})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async _listFactors(n){try{const{data:r,error:a}=await Se(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:a}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteFactor(n){try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}}const X0={getItem:i=>ri()?globalThis.localStorage.getItem(i):null,setItem:(i,n)=>{ri()&&globalThis.localStorage.setItem(i,n)},removeItem:i=>{ri()&&globalThis.localStorage.removeItem(i)}};function uh(i={}){return{getItem:n=>i[n]||null,setItem:(n,r)=>{i[n]=r},removeItem:n=>{delete i[n]}}}function Z0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qn={debug:!!(globalThis&&ri()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sp extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class ew extends sp{}async function tw(i,n,r){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const a=new globalThis.AbortController;return n>0&&setTimeout(()=>{a.abort(),Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await r()}finally{Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(n===0)throw Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new ew(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Qn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Z0();const rw={url:_0,storageKey:k0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Gs=30*1e3,ch=3;async function dh(i,n,r){return await r()}class ii{constructor(n){var r,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ii.nextInstanceID,ii.nextInstanceID+=1,this.instanceID>0&&ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},rw),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Y0({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=tp(l.fetch),this.lock=l.lock||dh,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:ar()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=tw:this.lock=dh,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:ri()?this.storage=X0:(this.memoryStorage={},this.storage=uh(this.memoryStorage)):(this.memoryStorage={},this.storage=uh(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zh}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=j0(window.location.href);let a="none";if(this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce"),ar()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:u}=await this._getSessionFromURL(r,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),M0(u)){const p=(n=u.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ge(r)?{error:r}:{error:new np("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,a,l;try{const u=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=n==null?void 0:n.options)===null||l===void 0?void 0:l.captchaToken}},xform:qr}),{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var r,a,l;try{let u;if("email"in n){const{email:y,password:w,options:x}=n;let b=null,k=null;this.flowType==="pkce"&&([b,k]=await Wn(this.storage,this.storageKey)),u=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:y,password:w,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:k},xform:qr})}else if("phone"in n){const{phone:y,password:w,options:x}=n;u=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},channel:(l=x==null?void 0:x.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:qr})}else throw new Ca("You must provide either an email or phone number and a password");const{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let r;if("email"in n){const{email:u,password:d,options:h}=n;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lh})}else if("phone"in n){const{phone:u,password:d,options:h}=n;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lh})}else throw new Ca("You must provide either an email or phone number and a password");const{data:a,error:l}=r;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Kl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,a,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=n.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async _exchangeCodeForSession(n){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(r??"").split("/");try{const{data:u,error:d}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:a},xform:qr});if(await ja(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Kl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(ge(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:r,provider:a,token:l,access_token:u,nonce:d}=n,h=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qr}),{data:p,error:g}=h;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Kl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,a,l,u,d;try{if("email"in n){const{email:h,options:p}=n;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Wn(this.storage,this.storageKey));const{error:w}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in n){const{phone:h,options:p}=n,{data:g,error:y}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new Ca("You must provide either an email or phone number.")}catch(h){if(ge(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(n){var r,a;try{let l,u;"options"in n&&(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo,u=(a=n.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:h}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:qr});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(ge(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var r,a,l;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await Wn(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(a=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=n==null?void 0:n.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:W0})}catch(u){if(ge(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)throw a;if(!r)throw new Hr;const{error:l}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:a,type:l,options:u}=n,{error:d}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in n){const{phone:a,type:l,options:u}=n,{data:d,error:h}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Ca("You must provide either an email or phone number and a type")}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const a=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",n.expires_at),!a){if(this.storage.isServer){let d=this.suppressGetSessionWarning;n=new Proxy(n,{get:(p,g,y)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:n},error:null}}const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Qr}):await this._useSession(async r=>{var a,l,u;const{data:d,error:h}=r;if(h)throw h;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hr}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Qr})})}catch(r){if(ge(r))return z0(r)&&(await this._removeSession(),await ja(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async a=>{const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new Hr;const d=l.session;let h=null,p=null;this.flowType==="pkce"&&n.email!=null&&([h,p]=await Wn(this.storage,this.storageKey));const{data:g,error:y}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:p}),jwt:d.access_token,xform:Qr});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}_decodeJWT(n){return sh(n)}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Hr;const r=Date.now()/1e3;let a=r,l=!0,u=null;const d=sh(n.access_token);if(d.exp&&(a=d.exp,l=a<=r),l){const{session:h,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(n.access_token);if(p)throw p;u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(r){if(ge(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var a;if(!n){const{data:d,error:h}=r;if(h)throw h;n=(a=d.session)!==null&&a!==void 0?a:void 0}if(!(n!=null&&n.refresh_token))throw new Hr;const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!ar())throw new Na("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Na(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ih("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Na("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new ih("No code detected.");const{data:$,error:A}=await this._exchangeCodeForSession(n.code);if(A)throw A;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:h,expires_at:p,token_type:g}=n;if(!u||!h||!d||!g)throw new Na("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(h);let x=y+w;p&&(x=parseInt(p));const b=x-y;b*1e3<=Gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${w}s`);const k=x-w;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,x,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,x,y);const{data:N,error:P}=await this._getUser(u);if(P)throw P;const D={provider_token:a,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:x,refresh_token:d,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:n.type},error:null}}catch(a){if(ge(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:l,error:u}=r;if(u)return{error:u};const d=(a=l.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:h}=await this.admin.signOut(d,n);if(h&&!(U0(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return n!=="others"&&(await this._removeSession(),await ja(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=E0(),a={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(n){return await this._useSession(async r=>{var a,l;try{const{data:{session:u},error:d}=r;if(d)throw d;await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,r={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Wn(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(ge(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{const{data:a,error:l}=await this._useSession(async u=>{var d,h,p,g,y;const{data:w,error:x}=u;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return ar()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:n.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(ge(a))return{data:{provider:n.provider,url:null},error:a};throw a}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var a,l;const{data:u,error:d}=r;if(d)throw d;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await T0(async l=>(l>0&&await P0(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:qr})),(l,u)=>{const d=200*Math.pow(2,l);return u&&Gl(u)&&Date.now()+d-a<Gs})}catch(a){if(this._debug(r,"error",a),ge(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",a),ar()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:n,url:a},error:null}}async _recoverAndRefresh(){var n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Ea(this.storage,this.storageKey);if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const l=Math.round(Date.now()/1e3),u=((n=a.expires_at)!==null&&n!==void 0?n:1/0)<l+nh;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${nh}s`),u){if(this.autoRefreshToken&&a.refresh_token){const{error:d}=await this._callRefreshToken(a.refresh_token);d&&(console.error(d),Gl(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var r,a;if(!n)throw new Hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ba;const{data:u,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!u.session)throw new Hr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(l,"error",u),ge(u)){const d={session:null,error:u};return Gl(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,r,a=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:n,session:r});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,r)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await rp(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await ja(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Gs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-n)/Gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Gs}ms, refresh threshold is ${ch} ticks`),l<=ch&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof sp)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,a){const l=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,d]=await Wn(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(h.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;return u?{data:null,error:u}:await Se(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var a,l;const{data:u,error:d}=r;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:p,error:g}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(n.factorType==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;if(u)return{data:null,error:u};const{data:d,error:h}=await Se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(r){if(ge(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:u}=r;return u?{data:null,error:u}:await Se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ge(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:a}=await this._challenge({factorId:n.factorId});return a?{data:null,error:a}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const a=(n==null?void 0:n.factors)||[],l=a.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=a.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:a,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,a;const{data:{session:l},error:u}=n;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const d=this._decodeJWT(l.access_token);let h=null;d.aal&&(h=d.aal);let p=h;((a=(r=l.user.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}}ii.nextInstanceID=0;const nw=ii;class sw extends nw{constructor(n){super(n)}}var iw=function(i,n,r,a){function l(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function h(y){try{g(a.next(y))}catch(w){d(w)}}function p(y){try{g(a.throw(y))}catch(w){d(w)}}function g(y){y.done?u(y.value):l(y.value).then(h,p)}g((a=a.apply(i,n||[])).next())})};class aw{constructor(n,r,a){var l,u,d;if(this.supabaseUrl=n,this.supabaseKey=r,!n)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=w0(n);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:d0,realtime:h0,auth:Object.assign(Object.assign({},f0),{storageKey:p}),global:c0},y=x0(a??{},g);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=y0(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Ov(`${h}/rest/v1`,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new xv(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new o0(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},a={}){return this.rest.rpc(n,r,a)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return iw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(r=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:a,storage:l,storageKey:u,flowType:d,lock:h,debug:p},g,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sw({url:this.authUrl,headers:Object.assign(Object.assign({},w),g),storageKey:u,autoRefreshToken:n,persistSession:r,detectSessionInUrl:a,storage:l,flowType:d,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Qv(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(n,r,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ow=(i,n,r)=>new aw(i,n,r),lw="https://cxoacgsfbpiwggyaolqk.supabase.co",uw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4b2FjZ3NmYnBpd2dneWFvbHFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk1MzI4NTAsImV4cCI6MjA1NTEwODg1MH0.dWwiqSgn95gLsO8INo_jWhXzu_OoXlhJGBzk1dLGuxw",le=ow(lw,uw,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),dt=[];for(let i=0;i<256;++i)dt.push((i+256).toString(16).slice(1));function cw(i,n=0){return(dt[i[n+0]]+dt[i[n+1]]+dt[i[n+2]]+dt[i[n+3]]+"-"+dt[i[n+4]]+dt[i[n+5]]+"-"+dt[i[n+6]]+dt[i[n+7]]+"-"+dt[i[n+8]]+dt[i[n+9]]+"-"+dt[i[n+10]]+dt[i[n+11]]+dt[i[n+12]]+dt[i[n+13]]+dt[i[n+14]]+dt[i[n+15]]).toLowerCase()}let Yl;const dw=new Uint8Array(16);function fw(){if(!Yl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yl=crypto.getRandomValues.bind(crypto)}return Yl(dw)}const hw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fh={randomUUID:hw};function pw(i,n,r){var l;if(fh.randomUUID&&!i)return fh.randomUUID();i=i||{};const a=i.random??((l=i.rng)==null?void 0:l.call(i))??fw();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,cw(a)}const Va=S.createContext(),ip=({children:i})=>{const[n,r]=S.useState([]),[a,l]=S.useState(null),u=y=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(y);S.useEffect(()=>{const{data:y}=le.auth.onAuthStateChange((w,x)=>{w==="SIGNED_IN"?(l(x.user.id),g()):w==="SIGNED_OUT"&&(l(null),r([]),localStorage.removeItem("favoriteItems"))});return()=>{y.subscription.unsubscribe()}},[]);const d=S.useCallback(async()=>{if(!a){const y=JSON.parse(localStorage.getItem("favoriteItems"))||[];r(y);return}try{const{data:y,error:w}=await le.from("favorites").select(`
          product_id,
          products (
            id,
            title,
            price,
            images
          )
        `).eq("user_id",a);if(w)return;r(y.map(x=>({product_id:x.product_id,title:x.products.title,price:x.products.price,images:x.products.images})))}catch(y){console.error("Eroare la încărcarea produselor favorite:",y)}},[a]);S.useEffect(()=>{d()},[a,d]);const h=async y=>{let w=y.id;if(u(w)||(w=pw()),!n.some(x=>x.product_id===w)){if(a)try{await le.from("favorites").insert({user_id:a,product_id:w})}catch(x){console.error("Eroare la adăugarea în baza de date:",x)}else{const x=JSON.parse(localStorage.getItem("favoriteItems"))||[];x.push({product_id:w,title:y.title,price:y.price,images:y.images}),localStorage.setItem("favoriteItems",JSON.stringify(x))}r(x=>[...x,{product_id:w,title:y.title,price:y.price,images:y.images}])}},p=async y=>{if(r(w=>w.filter(x=>x.product_id!==y)),a)try{const{error:w}=await le.from("favorites").delete().eq("user_id",a).eq("product_id",y);w&&console.error("Eroare la eliminarea din favorite:",w)}catch(w){console.error("Eroare la eliminarea din favorite:",w)}else{const x=(JSON.parse(localStorage.getItem("favoriteItems"))||[]).filter(b=>b.product_id!==y);localStorage.setItem("favoriteItems",JSON.stringify(x))}},g=S.useCallback(async()=>{if(!a)return;const y=JSON.parse(localStorage.getItem("favoriteItems"))||[],{data:w,error:x}=await le.from("favorites").select(`
        product_id,
        products (
          id,
          title,
          price,
          images
        )
      `).eq("user_id",a);if(x){console.error("Error fetching favorites from database:",x);return}const b=[...y];w.forEach(N=>{b.some(P=>P.product_id===N.product_id)||b.push({product_id:N.product_id,title:N.products.title,price:N.products.price,images:N.products.images})});const k=y.filter(N=>!w.some(P=>P.product_id===N.product_id));try{await Promise.all(k.map(async N=>{await le.from("favorites").insert({user_id:a,product_id:N.product_id})}))}catch(N){console.error("Eroare la sincronizarea favoritelor:",N)}r(b),localStorage.removeItem("favoriteItems")},[a]);return S.useEffect(()=>{a&&g()},[a,g]),m.jsx(Va.Provider,{value:{favoriteItems:n,addToFavorites:h,removeFromFavorites:p},children:i})};ip.propTypes={children:Ee.node.isRequired};const Xn=S.createContext(),ap=({children:i})=>{const[n,r]=S.useState([]);S.useEffect(()=>{a();const{data:w}=le.auth.onAuthStateChange(x=>{x==="SIGNED_IN"?l():x==="SIGNED_OUT"&&a()});return()=>{w.subscription.unsubscribe()}},[]);const a=()=>{const w=JSON.parse(localStorage.getItem("cartItems"))||[];w.forEach(x=>{x.product_price=x.quantity*x.products.price}),r(w)},l=async()=>{var $;const w=JSON.parse(localStorage.getItem("cartItems"))||[],{data:x,error:b}=await le.auth.getSession();if(b){console.error("Error fetching user session:",b);return}const k=($=x==null?void 0:x.session)==null?void 0:$.user;if(!k)return;const{data:N,error:P}=await le.from("cart").select("id, quantity, product_id, product_price, products (title, images, description, price)").eq("user_id",k.id);if(P){console.error("Error fetching cart from database:",P);return}const D=[...w];N.forEach(A=>{const U=D.findIndex(V=>V.product_id===A.product_id);U>-1?(D[U].quantity+=A.quantity,D[U].product_price=D[U].quantity*A.products.price):D.push({product_id:A.product_id,quantity:A.quantity,product_price:A.product_price,products:A.products})}),await Promise.all(D.map(async A=>{N.find(V=>V.product_id===A.product_id)?await le.from("cart").update({quantity:A.quantity}).eq("user_id",k.id).eq("product_id",A.product_id):await le.from("cart").insert({user_id:k.id,product_id:A.product_id,quantity:A.quantity,product_price:A.product_price})})),localStorage.removeItem("cartItems"),r(D)},u=async(w,x=1)=>{var D;const{data:b,error:k}=await le.auth.getSession();if(k){console.error("Error fetching user:",k);return}const N=(D=b==null?void 0:b.session)==null?void 0:D.user;if(!N){const $=JSON.parse(localStorage.getItem("cartItems"))||[],A=$.find(U=>U.product_id===w.id);A?(A.quantity+=x,A.product_price=A.quantity*w.price):$.push({product_id:w.id,product_price:x*w.price,quantity:x,products:{title:w.title,images:w.images,description:w.description,price:w.price}}),localStorage.setItem("cartItems",JSON.stringify($)),r($);return}const P=n.find($=>$.product_id===w.id);if(P){r(A=>A.map(U=>U.product_id===w.id?{...U,quantity:U.quantity+x,product_price:(U.quantity+x)*w.price}:U));const{error:$}=await le.from("cart").update({quantity:P.quantity+x}).eq("id",P.id);$&&console.error("Error updating cart item:",$)}else{const $={product_id:w.id,product_price:x*w.price,quantity:x,products:{title:w.title,images:w.images,description:w.description,price:w.price}};r(V=>[...V,$]);const{data:A,error:U}=await le.from("cart").insert([{user_id:N.id,product_id:w.id,quantity:x,product_price:x*w.price}]).select("id");U?console.error("Error adding item to cart:",U):A&&A.length>0&&r(V=>V.map(oe=>oe.product_id===w.id?{...oe,id:A[0].id}:oe))}},d=async w=>{var P;const{data:x,error:b}=await le.auth.getSession();if(b){console.error("Error fetching user:",b);return}const k=(P=x==null?void 0:x.session)==null?void 0:P.user;if(!k){const $=(JSON.parse(localStorage.getItem("cartItems"))||[]).filter(A=>A.product_id!==w);localStorage.setItem("cartItems",JSON.stringify($)),r($);return}const{error:N}=await le.from("cart").delete().eq("user_id",k.id).eq("product_id",w);N?console.error("Error removing item from cart:",N):r(D=>D.filter($=>$.product_id!==w))},h=async(w,x)=>{var D;const{data:b,error:k}=await le.auth.getSession();if(k){console.error("Error fetching user:",k);return}const N=(D=b==null?void 0:b.session)==null?void 0:D.user;if(!N){const $=JSON.parse(localStorage.getItem("cartItems"))||[],A=$.find(U=>U.product_id===w);A&&(A.quantity=x,A.product_price=A.products.price*x,localStorage.setItem("cartItems",JSON.stringify($)),r($));return}const{error:P}=await le.from("cart").update({quantity:x}).eq("user_id",N.id).eq("product_id",w);P?console.error("Error updating quantity:",P):r($=>$.map(A=>A.product_id===w?{...A,quantity:x,product_price:A.products.price*x}:A))},p=w=>{const x=n.find(b=>b.product_id===w);return x?x.quantity:0},g=w=>n.some(x=>x.product_id===w),y=w=>{const x=JSON.parse(localStorage.getItem("cartItems"))||[],b=x.findIndex(k=>k.product_id===w);b!==-1&&(x[b].quantity=1,x[b].product_price=1*x[b].products.price,localStorage.setItem("cartItems",JSON.stringify(x)))};return m.jsx(Xn.Provider,{value:{cartItems:n,addToCart:u,removeFromCart:d,updateQuantity:h,getQuantity:p,isInCart:g,resetQuantity:y},children:i})};ap.propTypes={children:Ee.node.isRequired};const rs=S.createContext(),op=({children:i})=>{const[n,r]=S.useState(!1),[a,l]=S.useState(!1),[u,d]=S.useState(null),[h,p]=S.useState(!0);S.useEffect(()=>{(async()=>{p(!0);const{data:{session:b}}=await le.auth.getSession();b?(d(b.user),r(!0)):(d(null),r(!1)),p(!1)})();const{data:x}=le.auth.onAuthStateChange(async(b,k)=>{k?(d(k.user),r(!0)):(d(null),r(!1))});return()=>{x.subscription.unsubscribe()}},[]);const g=w=>{r(!0),d(w)},y=async()=>{await le.auth.signOut(),r(!1),d(null)};return h?m.jsx("p",{children:"Loading..."}):m.jsx(rs.Provider,{value:{isAuthenticated:n,user:u,login:g,logout:y,showLogoutMessage:a,setShowLogoutMessage:l},children:i})};op.propTypes={children:Ee.node.isRequired};const mw=()=>{const{logout:i,setShowLogoutMessage:n}=S.useContext(rs),r=At(),a=()=>{i(),n(!0),setTimeout(()=>{n(!1),r("/")},3e3)};return m.jsxs("button",{onClick:a,className:"flex items-center space-x-1 hover:text-gray-800 text-sm",children:[m.jsx(iv,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden lg:inline text-xs",children:"Log Out"})]})},lp=({onSearch:i})=>{const{favoriteItems:n}=S.useContext(Va),{cartItems:r}=S.useContext(Xn),{isAuthenticated:a,showLogoutMessage:l}=S.useContext(rs),[u,d]=S.useState(""),h=async()=>{const{data:{user:p},error:g}=await le.auth.getUser();if(g||!p){console.error("Eroare la obținerea utilizatorului:",g==null?void 0:g.message);return}const{data:y,error:w}=await le.from("user_details").select("first_name").eq("user_id",p.id).maybeSingle();w?console.error("Eroare la obținerea detaliilor utilizatorului:",w.message):y&&d(y.first_name||"Utilizator")};return S.useEffect(()=>{a&&h()},[a]),S.useEffect(()=>{if(console.log("Header URL la încărcare:",window.location.href),!a)return;const p=le.channel("realtime:user_details").on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_details"},g=>{g.new.user_id&&h()}).subscribe();return()=>{le.removeChannel(p)}},[a]),m.jsxs("header",{className:"w-full bg-gray-100 border-b",children:[m.jsx("div",{className:"w-full bg-stone-800 text-center text-white py-0.5 text-[9px] font-semibold",children:m.jsx("p",{children:"Livrare gratuită pentru comenzile peste 300 RON!"})}),m.jsxs("div",{className:`px-6 py-2 bg-white ${l?"blur-sm":""}`,children:[m.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[m.jsxs(kr,{to:"/",className:"flex items-center",children:[m.jsx("img",{src:"/dan-store/logo.png",alt:"DanStore Logo",className:"h-8 sm:h-9 mr-2"}),m.jsxs("div",{className:"text-base font-semibold text-gray-800",children:[m.jsx("span",{className:"text-lg sm:text-2xl font-bold text-green-500",children:"Dan"}),m.jsx("span",{className:"text-lg sm:text-2xl font-bold text-green-700",children:"Store"})]})]}),m.jsx("div",{className:"hidden lg:block flex-grow max-w-[600px]",children:m.jsx(Ff,{onSearch:i})}),m.jsxs("div",{className:"flex items-center space-x-4 text-gray-600",children:[a&&m.jsxs("div",{className:"hidden sm:inline text-sm text-green-500",children:["Salut, ",u||"!"]}),!l&&(a?m.jsxs(m.Fragment,{children:[m.jsx(mw,{}),m.jsx(kr,{to:"/myaccount",children:m.jsxs("button",{className:"flex items-center space-x-1 hover:text-gray-800 text-sm",children:[m.jsx($f,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden lg:inline text-xs",children:"Contul Meu"})]})})]}):m.jsx(kr,{to:"/login",children:m.jsxs("button",{className:"flex items-center space-x-1 hover:text-gray-800 text-sm",children:[m.jsx($f,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden lg:inline text-xs",children:"Log In"})]})})),m.jsxs(kr,{to:"/favorite",className:"relative flex items-center space-x-1 hover:text-gray-800 text-sm",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Uh,{className:"w-4 h-4"}),n.length>0&&m.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-[10px] font-bold w-3.5 h-3.5 flex items-center justify-center rounded-full",children:n.length})]}),m.jsx("span",{className:"hidden lg:inline text-xs",children:"Favorite"})]}),m.jsxs(kr,{to:"/cart",className:"relative flex items-center space-x-1 hover:text-gray-800 text-sm",children:[m.jsxs("div",{className:"relative",children:[m.jsx(zh,{className:"w-4 h-4"}),r.length>0&&m.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-[10px] font-bold w-3.5 h-3.5 flex items-center justify-center rounded-full",children:r.length})]}),m.jsx("span",{className:"hidden lg:inline text-xs",children:"Coș"})]})]})]}),m.jsx("div",{className:"block lg:hidden w-full mt-3",children:m.jsx(Ff,{onSearch:i})})]}),l&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75 z-50",children:m.jsx("div",{className:"relative bg-gray-200 p-6 rounded shadow-md w-96 text-center max-w-sm mx-auto",children:m.jsx("h2",{className:"text-4xl font-bold mb-4 text-green-500",children:"Hai sic... Pa!"})})})]})};lp.propTypes={onSearch:Ee.func.isRequired};const up=({toggleSidebar:i})=>m.jsx("div",{className:"w-full bg-white py-1 shadow-md",children:m.jsxs("div",{className:"flex justify-between items-center px-4",children:[m.jsx("button",{className:"text-gray-600 hover:text-gray-800 md:hidden",onClick:i,children:m.jsx(sv,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex-1 flex justify-center space-x-12",children:[" ",m.jsx(kr,{to:"/",className:({isActive:n})=>n?"text-blue-500 hover:text-blue-700 text-sm":"text-gray-600 hover:text-gray-800 text-sm",children:"Acasa"}),m.jsx(kr,{to:"/NewProducts",className:({isActive:n})=>n?"text-blue-500 hover:text-blue-700 text-sm":"text-gray-600 hover:text-gray-800 text-sm",children:"Produse Noi"}),m.jsx(kr,{to:"/Promotions",className:({isActive:n})=>n?"text-blue-500 hover:text-blue-700 text-sm":"text-gray-600 hover:text-gray-800 text-sm",children:"Promotii"})]})]})});up.propTypes={toggleSidebar:Ee.func.isRequired};const cp=({isSidebarOpen:i,toggleSidebar:n})=>{const r=At(),[a,l]=S.useState(""),[u,d]=S.useState([1,1200]),[h,p]=S.useState(0),g=k=>{a===k?(l(""),x("",u,h)):(l(k),x(k,u,h))},y=k=>{const N=k.target.value.split(",").map(Number);d(N),x(a,N,h)},w=k=>{const N=parseInt(k.target.value,10);p(N),x(a,u,N)},x=(k,N,P)=>{r(`/product-list?gender=${k}&minPrice=${N[0]}&maxPrice=${N[1]}&rating=${P}`)},b=k=>{k.target===k.currentTarget&&n()};return m.jsxs(m.Fragment,{children:[i&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:b}),m.jsx("nav",{className:`fixed md:static inset-y-0 left-0 bg-stone-800 text-white 
        p-4 transition-transform duration-300 
      ease-in-out z-30 top-[6.5rem] bottom-[4.5rem] w-64 md:w-1/4 lg:w-1/5 xl:w-1/6 ${i?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:m.jsxs("div",{className:"relative z-10 h-full",children:[m.jsx("button",{className:"absolute top-4 right-4 md:hidden",onClick:n,children:"✕"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{children:[m.jsx("p",{className:"text-gray-500 font-bold py-2",children:"Filtre:"}),m.jsx("div",{className:"block py-2 px-3 text-gray-500 rounded",children:"Categorie:"}),m.jsxs("ul",{className:"pl-4 space-y-2",children:[m.jsx("li",{children:m.jsx("button",{className:`block py-2 px-3 text-white hover:scale-105 hover:bg-gray-900 active:scale-110 rounded ${a==="masculin"?"bg-gray-900":""}`,onClick:()=>g("masculin"),children:"Barbati"})}),m.jsx("li",{children:m.jsx("button",{className:`block py-2 px-3 text-white hover:scale-105 hover:bg-gray-900 active:scale-110 rounded ${a==="feminin"?"bg-gray-900":""}`,onClick:()=>g("feminin"),children:"Femei"})})]})]}),m.jsxs("li",{className:"block py-2 px-3 text-white",children:[m.jsx("label",{htmlFor:"priceRange",children:"Preț:"}),m.jsx("input",{type:"range",id:"priceRange",name:"priceRange",min:"1",max:"1200",value:u,onChange:y,className:"w-full",multiple:!0}),m.jsxs("div",{className:"flex justify-between text-xs",children:[m.jsxs("span",{children:[u[0]," RON"]}),m.jsxs("span",{children:[u[1]," RON"]})]})]}),m.jsxs("li",{className:"block py-2 px-3 text-white",children:[m.jsx("label",{htmlFor:"rating1",children:"Rating:"}),m.jsx("div",{id:"rating",className:"flex flex-wrap space-x-1",children:[1,2,3,4,5].map(k=>m.jsxs("label",{htmlFor:`rating${k}`,children:[m.jsx("input",{type:"radio",id:`rating${k}`,name:"rating",value:k,checked:h===k,onChange:w,className:"hidden"}),m.jsx(av,{className:`w-6 h-6 cursor-pointer ${h>=k?"text-yellow-500":"text-gray-400"}`})]},k))})]})]})]})})]})};cp.propTypes={isSidebarOpen:Ee.bool.isRequired,toggleSidebar:Ee.func.isRequired};const gw=()=>m.jsxs("footer",{className:"flex w-full text-center text-white font-semibold bg-black mb-4 p-4 mt-8 justify-center items-center",children:[" ",m.jsx("p",{children:"© 2025 Dan Store. All rights reserved."})]}),yw=()=>{const[i,n]=S.useState(!1),r=()=>n(!i),[a,l]=S.useState(""),u=At(),d=Ht();S.useEffect(()=>{d.pathname==="/"&&l("")},[d.pathname]);const h=g=>{l(g),u("/")},p=()=>{l(""),u("/")};return m.jsxs("div",{className:"flex flex-col h-screen overflow-auto",children:[m.jsx(lp,{onSearch:h}),m.jsx(up,{toggleSidebar:r,onHomeClick:p}),m.jsxs("div",{className:"flex flex-1 overflow-auto",children:[m.jsx(cp,{isSidebarOpen:i,toggleSidebar:r}),m.jsx("div",{className:"flex-1 p-4 sm:p-5 overflow-auto",children:m.jsx(yy,{context:{searchTerm:a,setSearchTerm:l}})})]}),m.jsx(gw,{})]})},Eu=({product:i,showText:n=!0})=>{const{favoriteItems:r,addToFavorites:a,removeFromFavorites:l}=S.useContext(Va),[u,d]=S.useState(!1);S.useEffect(()=>{d(r.some(p=>p.product_id===i.id))},[r,i.id]);const h=()=>{u?(l(i.id),d(!1)):(a(i),d(!0))};return m.jsxs("button",{onClick:p=>{p.preventDefault(),p.stopPropagation();const g=p.currentTarget;g.style.transition="transform 0.15s ease-out",g.style.transform="scale(1.1)",setTimeout(()=>{g.style.transform="scale(0.9)"},150),setTimeout(()=>{g.style.transform="scale(1.2)"},300),setTimeout(()=>{g.style.transform="scale(1)"},600),h()},className:`relative flex items-center space-x-2 transition-colors duration-100 ${u?"text-sky-800":"text-gray-400"}`,children:[u?m.jsx(Uh,{className:"w-6 h-6"}):m.jsx(lv,{className:"w-6 h-6"}),n&&m.jsxs("span",{children:[u?"Remove from Favorites":"Add to Favorites"," "]})]})};Eu.propTypes={product:Ee.object.isRequired,showText:Ee.bool};const ju=({product:i,quantity:n=1,setQuantity:r,showText:a=!0})=>{const{isInCart:l,addToCart:u,removeFromCart:d,resetQuantity:h}=S.useContext(Xn),p=l(i.id),g=()=>{p?(d(i.id),h(i.id),r(1)):(u(i,n),r(1))};return m.jsxs("button",{onClick:g,onMouseUp:()=>null,onTouchEnd:()=>null,className:`flex items-center space-x-3 transition-transform duration-200 transform hover:scale-110 active:scale-125 ${p?"text-sky-900":"text-gray-400"}`,children:[m.jsx(zh,{className:"cursor-pointer w-6 h-6  active:text-sky-800 block"}),a&&m.jsx("span",{children:p?"Remove from Cart":"Add to Cart"})]})};ju.propTypes={product:Ee.object.isRequired,quantity:Ee.number,setQuantity:Ee.func.isRequired,showText:Ee.bool};const vw=()=>m.jsx("div",{className:"fixed inset-0 flex justify-center items-center z-50",children:m.jsx("div",{className:"w-16 h-16 border-4 border-blue-400 border-t-transparent border-solid rounded-full animate-spin"})}),Cu=({searchTerm:i})=>{const[n,r]=S.useState([]),[a,l]=S.useState({}),[u,d]=S.useState(!0),h=Ht(),p=new URLSearchParams(h.search),g=p.get("gender"),y=parseInt(p.get("minPrice"),10)||1,w=parseInt(p.get("maxPrice"),10)||2e3;S.useEffect(()=>{(async()=>{try{const{data:N,error:P}=await le.from("products").select("*");if(P){console.error("Eroare la încărcarea produselor:",P);return}r(N)}catch(N){console.error("Eroare neașteptată:",N)}finally{d(!1)}})()},[]);const x=(k,N)=>{l(P=>({...P,[k]:N}))},b=n.filter(k=>{const N=i?k.title.toLowerCase().includes(i.toLowerCase())||k.description.toLowerCase().includes(i.toLowerCase()):!0,P=g?k.gender===g:!0,D=k.price>=y&&k.price<=w;return N&&P&&D});return u?m.jsx("div",{className:"relative w-full h-full",children:m.jsx(vw,{})}):m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{className:"w-full max-w-7xl p-2",children:m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-5",children:b.length>0?b.map(k=>m.jsxs("div",{className:`relative w-full aspect-w-1 aspect-h-1 border rounded-md p-4 
                shadow transition-transform duration-200 flex flex-col items-center justify-between bg-gray-100 ${window.innerWidth>=1024?"hover:scale-105 shadow-lg":""}`,children:[m.jsxs(gn,{to:`/product/${k.id}`,className:"w-full h-full flex flex-col items-center justify-between",children:[m.jsx("div",{className:"w-full h-full flex justify-center items-center",children:m.jsx("img",{src:k.images[0],alt:k.title,className:"w-full h-full object-cover rounded-md"})}),m.jsxs("h3",{className:"text-lg font-semibold mt-2 text-center",children:[k.title," "]}),m.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:[k.description," "]}),m.jsxs("p",{className:"text-base font-bold mt-2 text-center",children:[k.price," RON "]})]}),m.jsxs("div",{className:"absolute bottom-2 right-2 flex space-x-2 items-center sm:bottom-2 sm:right-2",children:[m.jsxs("div",{className:"mt-1 sm:mt-1 sm:ml-2 sm:static",children:[m.jsx(Eu,{product:k,showText:!1})," "]}),m.jsx("div",{className:"hidden 2xl:block",children:m.jsx(ju,{product:k,quantity:a[k.id]||1,setQuantity:N=>x(k.id,N),showText:!1})})]})]},k.id)):m.jsx("p",{className:"text-center col-span-full",children:"Niciun produs găsit."})})})})};Cu.propTypes={searchTerm:Ee.string};const ww=()=>{const i=Ht(),r=new URLSearchParams(i.search).get("search")||"";return m.jsx("div",{children:m.jsx(Cu,{searchTerm:r})})},xw=()=>m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("p",{className:"text-center text-xl mt-[-20%]",children:"Ne pare rău, avem numai vechituri"})}),Nu=({id:i,initialQuantity:n=1,onQuantityChange:r})=>{const[a,l]=S.useState(n),[u,d]=S.useState(!1);S.useEffect(()=>{l(n)},[n]);const h=p=>{const g=Number(p.target.value);g>=1&&g<=100&&(l(g),r(i,g),d(!0),setTimeout(()=>{d(!1)},500))};return m.jsxs("div",{className:"flex items-center",children:[m.jsx("label",{htmlFor:`quantity-select-${i}`,className:"text-sm text-gray-700 mr-2",children:"Cantitate:"}),m.jsx("select",{id:`quantity-select-${i}`,name:`quantity-${i}`,value:a,onChange:h,className:"w-14 p-2 border rounded-md bg-gray-100",children:Array.from({length:100},(p,g)=>g+1).map(p=>m.jsx("option",{value:p,children:p},p))}),u&&m.jsx(ov,{className:"ml-2 text-blue-500 animate-spin"})]})};Nu.propTypes={id:Ee.oneOfType([Ee.string,Ee.number]).isRequired,initialQuantity:Ee.number,onQuantityChange:Ee.func.isRequired};const _w=()=>{const{cartItems:i,removeFromCart:n,updateQuantity:r,resetQuantity:a}=S.useContext(Xn),[l,u]=S.useState(!0);S.useEffect(()=>{(async()=>{u(!0),setTimeout(()=>u(!1),100)})()},[]);const d=(g,y)=>{r(g,y)},h=g=>{n(g),a(g)},p=()=>i.reduce((g,y)=>g+y.product_price,0);return m.jsxs("div",{className:"relative",children:[l&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:m.jsx("div",{className:"w-16 h-16 border-4 border-blue-400 border-t-transparent border-solid rounded-full animate-spin"})}),m.jsxs("div",{className:"container mx-auto p-3",children:[i.length===0&&!l&&m.jsx("h1",{className:"text-center mt-8",children:"Coșul tău este gol."}),i.length>0&&m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-5",children:m.jsxs("div",{className:"w-full sm:max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md col-span-full",children:[m.jsx("h1",{className:"text-xl sm:text-3xl font-bold mb-3",children:"Coșul tău de cumpărături"}),m.jsx("hr",{className:"border-t-2 border-gray-200 mb-8"}),m.jsx("div",{className:"space-y-4",children:i.map((g,y)=>{var w,x,b,k;return m.jsxs("div",{children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between",children:[m.jsx(gn,{to:`/product/${g.product_id}`,children:m.jsxs("div",{className:"flex items-start mb-4 sm:mb-0",children:[m.jsx("img",{src:(w=g.products)!=null&&w.images?g.products.images[0]:"",alt:((x=g.products)==null?void 0:x.title)||"Product Image",className:"w-20 h-20 sm:w-24 sm:h-24 object-contain mr-4 transition-transform duration-200 hover:scale-105 active:scale-110"}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h2",{className:"text-lg font-bold",children:((b=g.products)==null?void 0:b.title)||"Product Title"}),m.jsx("p",{className:"text-sm text-gray-700",children:((k=g.products)==null?void 0:k.description)||"Product Description"})]})]})}),m.jsxs("div",{className:"flex items-center justify-between w-full sm:w-auto space-x-4",children:[m.jsxs("p",{className:"text-gray-700 font-semibold",children:[g.product_price," RON"]}),m.jsx(Nu,{id:g.product_id,initialQuantity:g.quantity,onQuantityChange:d}),m.jsx("button",{className:"bg-red-600 text-white px-2 py-2 rounded-md transform transition duration-250 hover:bg-red-700 active:scale-105 active:bg-red-800 w-24 sm:w-auto",onClick:()=>h(g.product_id),children:"Șterge"})]})]}),y<i.length-1&&m.jsx("hr",{className:"my-4 border-t border-gray-200"})]},`${g.id}-${g.product_id}`)})}),m.jsx("div",{className:"mt-6 text-right",children:m.jsxs("h2",{className:"text-xl font-bold",children:["Cost produse: ",p()," RON"]})}),m.jsx("div",{className:"mt-2 text-right",children:m.jsx("h2",{className:"text-l",children:"Cost livrare: in pasul urmator"})}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mt-6",children:[m.jsx(gn,{to:"/",className:"bg-sky-900 text-white px-3 py-2 rounded-md transform transition duration-250 hover:bg-sky-800 active:scale-105 active:bg-sky-700 w-full sm:w-auto mb-4 sm:mb-0 text-center",children:"Înapoi la cumpărături"}),m.jsx(gn,{to:"/order-details",children:m.jsx("button",{className:"bg-sky-900 text-white px-3 py-2 rounded-md transform transition duration-250 hover:bg-sky-800 active:scale-105 active:bg-sky-700 w-full sm:w-auto",children:"Continua comanda"})})]})]})})]})]})},kw=()=>m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("p",{className:"text-center text-xl mt-[-20%]",children:"Ciuciu!"})}),Sw=()=>m.jsx("h1",{children:"404 - Page Not Found"}),bw=()=>{const{id:i}=ry(),n=At(),[r,a]=S.useState(null),[l,u]=S.useState(1),[d,h]=S.useState(0),[p,g]=S.useState(!1),[y,w]=S.useState(!0),{cartItems:x,addToCart:b,removeFromCart:k,getQuantity:N}=S.useContext(Xn),P=x.some(fe=>fe.product_id===i),{updateQuantity:D}=S.useContext(Xn);if(S.useEffect(()=>{(async()=>{if(w(!0),!i){console.error("ID-ul produsului nu este definit:",i),n("/notfound");return}const{data:xe,error:rt}=await le.from("products").select("*").eq("id",i).single();if(rt){console.error("Eroare la încărcarea produsului:",rt),n("/notfound");return}a(xe),u(N(i)||1),w(!1)})()},[i,N,n]),y)return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-white",children:m.jsx("div",{className:"w-16 h-16 border-4 border-blue-400 border-t-transparent border-solid rounded-full animate-spin"})});if(!r)return m.jsx("h1",{className:"text-center mt-8",children:"Produsul nu a fost găsit."});const $=()=>{n(-1)},A=(fe,xe)=>{u(xe),D(fe,xe)},U=()=>{if(console.log("Adăugăm produsul cu cantitatea:",l),P)k(r.id),u(1);else{if(l<=0){alert("Cantitatea trebuie să fie de cel puțin 1.");return}b(r,l),console.log("Produsul a fost adăugat cu cantitatea:",l)}},V=()=>{h(fe=>fe===0?r.images.length-1:fe-1)},oe=()=>{h(fe=>fe===r.images.length-1?0:fe+1)},ye=()=>{g(!0)},ve=()=>{g(!1)};return m.jsxs("div",{className:"max-w-full mx-auto p-4 sm:p-6 bg-white rounded-lg shadow-md relative",children:[m.jsx("button",{className:"absolute z-50 top-4 right-4  hover:text-gray-950 text-gray-700 font-bold py-2 px-4 ",onClick:$,children:"✕"}),p&&m.jsxs("div",{className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50",children:[m.jsx("button",{className:"absolute top-4 right-4 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-md shadow-md",onClick:ve,children:"✕"}),m.jsx("div",{className:"w-[90vw] h-[90vw] max-w-[800px] max-h-[800px] bg-gray-900 flex items-center justify-center rounded-md",children:m.jsx("img",{src:r.images[d],alt:r.title,className:"w-full h-full object-contain rounded-md"})}),m.jsxs("div",{className:"flex items-center justify-center space-x-8 mt-4 lg:hidden",children:[m.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-md shadow-md",onClick:V,children:"<"}),m.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-md shadow-md",onClick:oe,children:">"})]}),m.jsx("button",{className:"hidden lg:block absolute left-12 top-1/2 transform -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-4 rounded-md shadow-md",onClick:V,children:"<"}),m.jsx("button",{className:"hidden lg:block absolute right-12 top-1/2 transform -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-4 rounded-md shadow-md",onClick:oe,children:">"})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-8 overflow-y-auto",children:[m.jsxs("div",{className:"lg:w-2/3 relative",children:[m.jsx("button",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-l",onClick:V,children:"<"}),m.jsx("div",{className:"w-full h-64 sm:h-96 md:h-[500px] lg:h-[550px] bg-gray-50 flex items-center justify-center rounded-md",onClick:ye,children:m.jsx("img",{src:r.images[d],alt:r.title,className:"h-[85%] md:h-[90%] lg:h-[95%] w-auto object-contain cursor-pointer"})}),m.jsx("button",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-r",onClick:oe,children:">"}),m.jsx("p",{className:"text-gray-700 mt-4",children:r.description})]}),m.jsxs("div",{className:"w-full lg:w-1/3 lg:pl-8 flex flex-col justify-center",children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-4 lg:mt-0",children:r.title}),m.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-sky-700 mt-4",children:[r.price," RON"]}),m.jsx("div",{className:"mt-4",children:m.jsx(Nu,{id:r.id,initialQuantity:l,onQuantityChange:A})}),m.jsx("button",{className:`${P?"bg-red-600 hover:bg-red-700 active:bg-red-800":"bg-sky-900 hover:bg-sky-800 active:bg-sky-700"} text-white px-3 py-2 rounded-md transform transition duration-250 active:scale-105 mt-4`,style:{width:"65%"},onClick:U,children:P?"Șterge din coș":"Adaugă în coș"}),m.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Livrare gratuită pentru comenzile de peste 300 RON. Curier rapid disponibil."}),m.jsx("div",{className:"flex items-center space-x-4 mt-4 ml-2",children:m.jsx(Eu,{product:r})})]})]})]})},Ew=()=>{const{favoriteItems:i,removeFromFavorites:n}=S.useContext(Va),[r,a]=S.useState([]),[l,u]=S.useState(!0);S.useEffect(()=>{(async()=>{if(!i||i.length===0){a([]),u(!1);return}try{const{data:p,error:g}=await le.from("products").select("*").in("id",i.map(y=>y.product_id));g?console.error("Eroare la fetch-ul produselor:",g):a(p||[])}finally{u(!1)}})()},[i]);const d=async h=>{a(p=>p.filter(g=>g.id!==h)),await n(h).catch(p=>{console.error("Eroare la eliminarea produsului:",p)})};return m.jsx("div",{className:"flex justify-center",children:m.jsxs("div",{className:"w-full max-w-7xl p-2",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Favoritele mele"}),l?m.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:m.jsx("div",{className:"w-16 h-16 border-4 border-blue-400 border-t-transparent border-solid rounded-full animate-spin"})}):r.length>0?m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-5",children:r.map(h=>m.jsxs("div",{className:"group relative w-full aspect-w-1 aspect-h-1 border rounded-md p-4 shadow hover:shadow-lg transition-transform duration-200 flex flex-col items-center justify-between bg-gray-100 pointer-events-auto",children:[m.jsxs(gn,{to:`/product/${h.id}`,className:"w-full h-full flex flex-col items-center justify-between",children:[m.jsx("div",{className:"w-full h-full flex justify-center items-center",children:m.jsx("img",{src:h.images[0],alt:h.title,className:"w-full h-full object-cover rounded-md"})}),m.jsx("h3",{className:"text-lg font-semibold mt-2 text-center",children:h.title}),m.jsx("p",{className:"text-sm text-gray-600 mt-1 text-center",children:h.description}),m.jsxs("p",{className:"text-base font-bold mt-2 text-center",children:[h.price," RON"]})]}),m.jsx("div",{className:"absolute top-2 right-2 cursor-pointer text-3xl text-black bg-gray-100 p-2 rounded-full",onClick:()=>d(h.id),children:"×"}),m.jsx("div",{className:"absolute bottom-2 right-2 flex space-x-2 items-center",children:m.jsx(ju,{product:h,quantity:1,setQuantity:()=>{},showText:!1})})]},h.id))}):m.jsx("p",{className:"text-center col-span-full",children:"Nu ai produse favorite."})]})})},jw=()=>{const{user:i}=S.useContext(rs),[n,r]=S.useState(""),a=At();S.useEffect(()=>{i?(async()=>{const{data:h,error:p}=await le.from("user_details").select("first_name").eq("user_id",i.id).maybeSingle();p?console.error("Eroare la obținerea datelor utilizatorului:",p.message):h&&r(h.first_name||"Utilizator")})():a("/login")},[i,a]),S.useEffect(()=>{i||a("/login")},[i,a]);const l=()=>{i&&i.id&&a(`/user/${i.id}`)},u=()=>{a("/addresses")};return m.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-gray-100 rounded-lg shadow-md",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("h1",{className:"text-2xl text-sky-900 font-bold",children:["Salut ",n,"!"]}),m.jsx("p",{className:"text-sky-600",children:i?i.email:"Email indisponibil"})]}),m.jsx("div",{className:"mb-6",children:m.jsx("h2",{className:"text-xl cursor-pointer border p-4 rounded-lg shadow-md bg-white text-gray-600 hover:text-gray-600 hover:font-bold",onClick:l,children:"Datele mele"})}),m.jsx("div",{className:"mb-6 border p-4 shadow-md bg-white rounded-lg",children:m.jsx("h2",{className:"text-xl cursor-pointer text-gray-600 hover:font-bold",onClick:u,children:"Adrese"})}),m.jsx("div",{className:"mb-6 border p-4 shadow-md bg-white rounded-lg",children:m.jsx("h2",{className:"text-xl",children:"Comenzi"})}),m.jsx("div",{className:"mb-6 border p-4 shadow-md bg-white rounded-lg",children:m.jsx("h2",{className:"text-xl",children:"Retururi"})}),m.jsxs("button",{className:"bg-sky-900 hover:bg-sky-800 active:bg-sky-700 text-white px-2 py-2 rounded-md transform transition duration-250 active:scale-105 w-28 flex items-center justify-center",onClick:()=>a("/"),children:[m.jsx("span",{className:"mr-2",children:"←"})," Înapoi"]})]})},Pu=({onClose:i})=>{const[n,r]=S.useState(""),[a,l]=S.useState(""),[u,d]=S.useState("");S.useEffect(()=>{if(a){const p=setTimeout(()=>{i()},4e3);return()=>clearTimeout(p)}},[a,i]);const h=async p=>{if(p.preventDefault(),l(""),d(""),!n){d("Te rugăm să introduci o adresă de email validă!");return}try{const{error:g}=await le.auth.resetPasswordForEmail(n,{redirectTo:"https://danutstriblea.github.io/dan-store/#/reset-password"});g?(console.error("Eroare din Supabase:",g.message),d("A apărut o eroare. Te rugăm să verifici adresa de email.")):l("Email-ul pentru resetare a fost trimis!")}catch(g){console.error("Eroare neașteptată:",g.message),d("A apărut o eroare neașteptată. Încercați din nou.")}};return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-50",children:m.jsxs("div",{className:"relative bg-white p-6 rounded shadow-md w-80",children:[m.jsx("button",{onClick:i,className:"absolute top-3 right-4 text-gray-600 text-2xl hover:text-gray-800 focus:outline-none",children:"×"}),m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Resetare Parolă"}),a&&m.jsx("p",{className:"text-green-500 mb-4",children:a}),u&&m.jsx("p",{className:"text-red-500 mb-4",children:u}),m.jsxs("form",{onSubmit:h,children:[m.jsx("input",{type:"email",value:n,onChange:p=>r(p.target.value),className:"w-full px-3 py-2 border rounded mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Introduceți adresa de email",required:!0}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"submit",className:"bg-sky-900 text-white py-2 px-6 rounded hover:bg-sky-800 active:bg-sky-700",children:"Trimite"})})]})]})})};Pu.propTypes={onClose:Ee.func.isRequired};const Tu=({fromInternalTrigger:i=!1,requiresOldPassword:n=!1})=>{console.log("Componenta ResetPassword a fost încărcată.");const[r,a]=S.useState(""),[l,u]=S.useState(""),[d,h]=S.useState(""),[p,g]=S.useState(""),[y,w]=S.useState(""),[x,b]=S.useState(!i),[k,N]=S.useState(!1),P=At();S.useEffect(()=>{if(i){b(!1);return}(async()=>{try{console.log("URL complet:",window.location.href);const U=window.location.hash.substring(1);console.log("Hash complet extras:",U);const V=U.split("#");console.log("Părți hash după separare:",V);const oe=new URLSearchParams(V[V.length-1]),ye=oe.get("access_token"),ve=oe.get("refresh_token");if(console.log("Access Token extras:",ye),console.log("Refresh Token extras:",ve),!ye||!ve){g("Token-ul pentru resetare lipsește sau este invalid!"),b(!1);return}const{error:fe}=await le.auth.setSession({access_token:ye,refresh_token:ve});fe?(console.error("Eroare la configurarea sesiunii:",fe.message),g("Token-ul pentru resetare nu este valid sau a expirat!")):(console.log("Sesiunea utilizatorului configurată cu succes!"),g(""))}catch(U){console.error("Eroare neașteptată:",U.message),g("A apărut o eroare neașteptată!")}finally{b(!1)}})()},[i]);const D=async A=>{if(A.preventDefault(),g(""),w(""),l!==d){g("Parolele nu se potrivesc!");return}if(!(l.length>=6&&/[A-Z]/.test(l)&&/[a-z]/.test(l)&&/[0-9!?@]/.test(l))){g("Parola nouă trebuie să îndeplinească cerințele de complexitate.");return}try{const{data:{user:V},error:oe}=await le.auth.getUser();if(console.log("Utilizator logat:",V),oe||!V)throw new Error("Nu s-a putut obține utilizatorul logat.");if(n&&!r){g("Introduceți parola veche!");return}if(n){const{error:ve}=await le.auth.signInWithPassword({email:V.email,password:r});if(ve){g("Parola veche este incorectă!");return}}const{error:ye}=await le.auth.updateUser({password:l});if(ye)throw new Error("A apărut o eroare la resetarea parolei.");w("Parola a fost resetată cu succes!"),setTimeout(()=>{w(""),P("/")},4e3)}catch(V){console.error("Eroare detectată:",V.message),g(V.message)}},$=()=>{P("/")};return x?m.jsx("p",{children:"Se încarcă..."}):m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:m.jsxs("div",{className:"relative bg-white p-6 rounded shadow-md w-80",children:[m.jsx("button",{onClick:$,className:"absolute top-3 right-4 text-gray-600 text-2xl hover:text-gray-800 focus:outline-none",children:"×"}),m.jsx("h2",{className:`text-xl font-bold mb-4 text-center ${y?"text-green-500":""}`,children:y||"Setare Parolă Nouă"}),!y&&m.jsxs(m.Fragment,{children:[p&&m.jsx("p",{className:"text-red-500 mb-4",children:p}),m.jsxs("form",{onSubmit:D,children:[m.jsx("input",{type:"text",name:"username",autoComplete:"username",hidden:!0,readOnly:!0,value:async()=>{const{data:A,error:U}=await le.auth.getUser();return U?(console.error("Eroare la obținerea utilizatorului:",U.message),""):(A==null?void 0:A.email)||""}}),n&&m.jsx("input",{type:"password",value:r,onChange:A=>a(A.target.value),className:"w-full px-3 py-2 border rounded mb-4",placeholder:"Parola veche",autoComplete:"current-password"}),m.jsx("input",{type:"password",value:l,onChange:A=>u(A.target.value),className:"w-full px-3 py-2 border rounded mb-4",placeholder:"Parola nouă",autoComplete:"new-password"}),m.jsx("input",{type:"password",value:d,onChange:A=>h(A.target.value),className:"w-full px-3 py-2 border rounded mb-4",placeholder:"Confirmă parola nouă",autoComplete:"off"}),m.jsx("button",{type:"submit",className:"w-full bg-sky-900 text-white py-2 px-4 rounded hover:bg-sky-800 active:bg-sky-700",children:"Salvează"}),m.jsx("div",{className:"text-center mt-4",children:m.jsx("span",{onClick:()=>N(!0),className:"cursor-pointer text-sky-600 underline hover:text-sky-800",children:"Solicită resetarea parolei"})})]}),m.jsx("div",{className:"mt-4",children:m.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-700",children:[m.jsxs("li",{children:["Cel puțin ",m.jsx("strong",{children:"6 caractere"})]}),m.jsxs("li",{children:["Cel puțin o ",m.jsx("strong",{children:"literă mare"})," (A-Z)"]}),m.jsxs("li",{children:["Cel puțin o ",m.jsx("strong",{children:"literă mică"})," (a-z)"]}),m.jsxs("li",{children:["Cel puțin un ",m.jsx("strong",{children:"număr"})," sau simbol"," ",m.jsx("strong",{children:"(!?@#$)"})]})]})})]}),k&&m.jsx(Pu,{onClose:()=>N(!1)})]})})};Tu.propTypes={fromInternalTrigger:Ee.bool,requiresOldPassword:Ee.bool};const Cw=()=>{const[i,n]=S.useState({firstName:"",lastName:"",birthDate:"",phone:""}),[r,a]=S.useState(!1),[l,u]=S.useState(null),[d,h]=S.useState(!1),p=At();S.useEffect(()=>{(async()=>{try{const{data:{user:x},error:b}=await le.auth.getUser();if(b||!x){console.error("Eroare la autentificare:",b==null?void 0:b.message);return}u(x.id);const{data:k,error:N}=await le.from("user_details").select("*").eq("user_id",x.id).single();if(N){console.error("Eroare la preluarea datelor utilizatorului:",N.message);return}n({firstName:k.first_name||"",lastName:k.last_name||"",birthDate:k.birth_date||"",phone:k.phone_number||""})}catch(x){console.error("Eroare la fetch:",x.message)}})()},[]);const g=w=>{n({...i,[w.target.name]:w.target.value})},y=async w=>{if(w.preventDefault(),a(!0),!l){console.error("User ID indisponibil!"),a(!1);return}try{const x={};if(i.firstName.trim()&&(x.first_name=i.firstName),i.lastName.trim()&&(x.last_name=i.lastName),i.birthDate.trim()&&(x.birth_date=i.birthDate),i.phone.trim()&&(x.phone_number=i.phone),Object.keys(x).length===0){console.warn("Niciun câmp nu a fost modificat."),a(!1);return}x.updated_at=new Date().toISOString();const{error:b}=await le.from("user_details").update(x).eq("user_id",l);b?console.error("Eroare la actualizare:",b.message):(console.log("Date actualizate cu succes!"),p("/MyAccount"))}catch(x){console.error("Eroare la salvare:",x.message)}finally{a(!1)}};return m.jsxs("div",{className:"max-w-lg mx-auto mt-8 p-6 bg-gray-50 shadow-lg border rounded-lg relative",children:[m.jsxs("h2",{className:"text-2xl font-semibold text-center mb-4",children:[m.jsx("div",{className:"relative",children:m.jsx("button",{onClick:()=>p("/MyAccount"),className:"text-gray-500 hover:text-gray-700 text-3xl absolute -top-4 -right-2 font-bold transform transition duration-250 active:scale-105",children:"×"})}),"Detalii utilizator"]}),m.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700",children:"Prenume"}),m.jsx("input",{type:"text",name:"firstName",value:i.firstName,onChange:g,className:"w-full border p-2 rounded-md shadow-sm hover:shadow-md focus:shadow-lg transition-shadow duration-300"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700",children:"Nume de familie"}),m.jsx("input",{type:"text",name:"lastName",value:i.lastName,onChange:g,className:"w-full border p-2 rounded-md shadow-sm hover:shadow-md focus:shadow-lg transition-shadow duration-300"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700",children:"Parola"}),m.jsx("input",{type:"text",value:"******",readOnly:!0,onClick:()=>h(!0),className:"cursor-pointer w-full border p-2 rounded-md shadow-sm hover:shadow-md focus:shadow-lg transition-shadow duration-300 text-sky-600 hover:text-sky-800"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700",children:"Telefon"}),m.jsx("input",{type:"text",name:"phone",value:i.phone,onChange:g,className:"w-full border p-2 rounded-md shadow-sm hover:shadow-md focus:shadow-lg transition-shadow duration-300"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700",children:"Data nașterii"}),m.jsx("input",{type:"date",name:"birthDate",value:i.birthDate,onChange:g,className:"w-full border p-2 rounded-md shadow-sm hover:shadow-md focus:shadow-lg transition-shadow duration-300"})]}),m.jsxs("div",{className:"flex justify-between pt-6 gap-x-4",children:[m.jsx("button",{type:"button",onClick:()=>p("/MyAccount"),className:"bg-gray-400 hover:bg-gray-500 active:bg-gray-600 text-white px-3 py-2 rounded-md transform transition duration-250 active:scale-105 w-32 min-w-[8rem]",children:"Anulează"}),m.jsx("button",{type:"submit",disabled:r,className:"bg-sky-900 hover:bg-sky-800 active:bg-sky-700 text-white px-3 py-2 rounded-md transform transition duration-250 active:scale-105 w-32 min-w-[8rem]",children:r?"Se salvează...":"Salvează"})]})]}),d&&m.jsx(Tu,{fromInternalTrigger:!0,requiresOldPassword:!0})]})},Ru=S.createContext(),dp=({children:i})=>{const[n,r]=S.useState([]),[a,l]=S.useState(null),[u,d]=S.useState(null);S.useEffect(()=>{(async()=>{const{data:y,error:w}=await le.auth.getSession();if(w){console.error("Eroare la preluarea sesiunii:",w),d("Nu s-a putut prelua sesiunea utilizatorului.");return}y!=null&&y.session&&l(y.session)})()},[]);const h=S.useCallback(async()=>{if(!a||!a.user)return;const{data:g,error:y}=await le.from("user_addresses").select("*").eq("user_id",a.user.id).order("is_default",{ascending:!1});y?(console.error("Eroare la preluarea adreselor:",y),d("Nu s-au putut prelua adresele utilizatorului.")):r(g)},[a]);S.useEffect(()=>{h()},[h]);const p=n.find(g=>g.is_default);return m.jsx(Ru.Provider,{value:{addresses:n,favoriteAddress:p,fetchAddresses:h,error:u},children:i})};dp.propTypes={children:Ee.node.isRequired};var ui=i=>i.type==="checkbox",mn=i=>i instanceof Date,wt=i=>i==null;const fp=i=>typeof i=="object";var Ke=i=>!wt(i)&&!Array.isArray(i)&&fp(i)&&!mn(i),Nw=i=>Ke(i)&&i.target?ui(i.target)?i.target.checked:i.target.value:i,Pw=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,Tw=(i,n)=>i.has(Pw(n)),Rw=i=>{const n=i.constructor&&i.constructor.prototype;return Ke(n)&&n.hasOwnProperty("isPrototypeOf")},Ou=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mt(i){let n;const r=Array.isArray(i),a=typeof FileList<"u"?i instanceof FileList:!1;if(i instanceof Date)n=new Date(i);else if(i instanceof Set)n=new Set(i);else if(!(Ou&&(i instanceof Blob||a))&&(r||Ke(i)))if(n=r?[]:{},!r&&!Rw(i))n=i;else for(const l in i)i.hasOwnProperty(l)&&(n[l]=Mt(i[l]));else return i;return n}var Ha=i=>Array.isArray(i)?i.filter(Boolean):[],Ye=i=>i===void 0,ee=(i,n,r)=>{if(!n||!Ke(i))return r;const a=Ha(n.split(/[,[\].]+?/)).reduce((l,u)=>wt(l)?l:l[u],i);return Ye(a)||a===i?Ye(i[n])?r:i[n]:a},or=i=>typeof i=="boolean",Lu=i=>/^\w*$/.test(i),hp=i=>Ha(i.replace(/["|']|\]/g,"").split(/\.|\[/)),Ue=(i,n,r)=>{let a=-1;const l=Lu(n)?[n]:hp(n),u=l.length,d=u-1;for(;++a<u;){const h=l[a];let p=r;if(a!==d){const g=i[h];p=Ke(g)||Array.isArray(g)?g:isNaN(+l[a+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;i[h]=p,i=i[h]}return i};const hh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Zt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};tt.createContext(null);var Ow=(i,n,r,a=!0)=>{const l={defaultValues:n._defaultValues};for(const u in i)Object.defineProperty(l,u,{get:()=>{const d=u;return n._proxyFormState[d]!==Zt.all&&(n._proxyFormState[d]=!a||Zt.all),i[d]}});return l},Ct=i=>Ke(i)&&!Object.keys(i).length,Lw=(i,n,r,a)=>{r(i);const{name:l,...u}=i;return Ct(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(d=>n[d]===Zt.all)},Ra=i=>Array.isArray(i)?i:[i];function Aw(i){const n=tt.useRef(i);n.current=i,tt.useEffect(()=>{const r=!i.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return()=>{r&&r.unsubscribe()}},[i.disabled])}var ur=i=>typeof i=="string",Iw=(i,n,r,a,l)=>ur(i)?(a&&n.watch.add(i),ee(r,i,l)):Array.isArray(i)?i.map(u=>(a&&n.watch.add(u),ee(r,u))):(a&&(n.watchAll=!0),r),Dw=(i,n,r,a,l)=>n?{...r[i],types:{...r[i]&&r[i].types?r[i].types:{},[a]:l||!0}}:{},ph=i=>({isOnSubmit:!i||i===Zt.onSubmit,isOnBlur:i===Zt.onBlur,isOnChange:i===Zt.onChange,isOnAll:i===Zt.all,isOnTouch:i===Zt.onTouched}),mh=(i,n,r)=>!r&&(n.watchAll||n.watch.has(i)||[...n.watch].some(a=>i.startsWith(a)&&/^\.\w+/.test(i.slice(a.length))));const ni=(i,n,r,a)=>{for(const l of r||Object.keys(i)){const u=ee(i,l);if(u){const{_f:d,...h}=u;if(d){if(d.refs&&d.refs[0]&&n(d.refs[0],l)&&!a)return!0;if(d.ref&&n(d.ref,d.name)&&!a)return!0;if(ni(h,n))break}else if(Ke(h)&&ni(h,n))break}}};var $w=(i,n,r)=>{const a=Ra(ee(i,r));return Ue(a,"root",n[r]),Ue(i,r,a),i},Au=i=>i.type==="file",lr=i=>typeof i=="function",$a=i=>{if(!Ou)return!1;const n=i?i.ownerDocument:0;return i instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},Oa=i=>ur(i),Iu=i=>i.type==="radio",Fa=i=>i instanceof RegExp;const gh={value:!1,isValid:!1},yh={value:!0,isValid:!0};var pp=i=>{if(Array.isArray(i)){if(i.length>1){const n=i.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!Ye(i[0].attributes.value)?Ye(i[0].value)||i[0].value===""?yh:{value:i[0].value,isValid:!0}:yh:gh}return gh};const vh={isValid:!1,value:null};var mp=i=>Array.isArray(i)?i.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,vh):vh;function wh(i,n,r="validate"){if(Oa(i)||Array.isArray(i)&&i.every(Oa)||or(i)&&!i)return{type:r,message:Oa(i)?i:"",ref:n}}var Jn=i=>Ke(i)&&!Fa(i)?i:{value:i,message:""},xh=async(i,n,r,a,l,u)=>{const{ref:d,refs:h,required:p,maxLength:g,minLength:y,min:w,max:x,pattern:b,validate:k,name:N,valueAsNumber:P,mount:D}=i._f,$=ee(r,N);if(!D||n.has(N))return{};const A=h?h[0]:d,U=ue=>{l&&A.reportValidity&&(A.setCustomValidity(or(ue)?"":ue||""),A.reportValidity())},V={},oe=Iu(d),ye=ui(d),ve=oe||ye,fe=(P||Au(d))&&Ye(d.value)&&Ye($)||$a(d)&&d.value===""||$===""||Array.isArray($)&&!$.length,xe=Dw.bind(null,N,a,V),rt=(ue,de,Pe,Oe=xr.maxLength,Ae=xr.minLength)=>{const ke=ue?de:Pe;V[N]={type:ue?Oe:Ae,message:ke,ref:d,...xe(ue?Oe:Ae,ke)}};if(u?!Array.isArray($)||!$.length:p&&(!ve&&(fe||wt($))||or($)&&!$||ye&&!pp(h).isValid||oe&&!mp(h).isValid)){const{value:ue,message:de}=Oa(p)?{value:!!p,message:p}:Jn(p);if(ue&&(V[N]={type:xr.required,message:de,ref:A,...xe(xr.required,de)},!a))return U(de),V}if(!fe&&(!wt(w)||!wt(x))){let ue,de;const Pe=Jn(x),Oe=Jn(w);if(!wt($)&&!isNaN($)){const Ae=d.valueAsNumber||$&&+$;wt(Pe.value)||(ue=Ae>Pe.value),wt(Oe.value)||(de=Ae<Oe.value)}else{const Ae=d.valueAsDate||new Date($),ke=G=>new Date(new Date().toDateString()+" "+G),J=d.type=="time",ne=d.type=="week";ur(Pe.value)&&$&&(ue=J?ke($)>ke(Pe.value):ne?$>Pe.value:Ae>new Date(Pe.value)),ur(Oe.value)&&$&&(de=J?ke($)<ke(Oe.value):ne?$<Oe.value:Ae<new Date(Oe.value))}if((ue||de)&&(rt(!!ue,Pe.message,Oe.message,xr.max,xr.min),!a))return U(V[N].message),V}if((g||y)&&!fe&&(ur($)||u&&Array.isArray($))){const ue=Jn(g),de=Jn(y),Pe=!wt(ue.value)&&$.length>+ue.value,Oe=!wt(de.value)&&$.length<+de.value;if((Pe||Oe)&&(rt(Pe,ue.message,de.message),!a))return U(V[N].message),V}if(b&&!fe&&ur($)){const{value:ue,message:de}=Jn(b);if(Fa(ue)&&!$.match(ue)&&(V[N]={type:xr.pattern,message:de,ref:d,...xe(xr.pattern,de)},!a))return U(de),V}if(k){if(lr(k)){const ue=await k($,r),de=wh(ue,A);if(de&&(V[N]={...de,...xe(xr.validate,de.message)},!a))return U(de.message),V}else if(Ke(k)){let ue={};for(const de in k){if(!Ct(ue)&&!a)break;const Pe=wh(await k[de]($,r),A,de);Pe&&(ue={...Pe,...xe(de,Pe.message)},U(Pe.message),a&&(V[N]=ue))}if(!Ct(ue)&&(V[N]={ref:A,...ue},!a))return V}}return U(!0),V};function Fw(i,n){const r=n.slice(0,-1).length;let a=0;for(;a<r;)i=Ye(i)?a++:i[n[a++]];return i}function Uw(i){for(const n in i)if(i.hasOwnProperty(n)&&!Ye(i[n]))return!1;return!0}function et(i,n){const r=Array.isArray(n)?n:Lu(n)?[n]:hp(n),a=r.length===1?i:Fw(i,r),l=r.length-1,u=r[l];return a&&delete a[u],l!==0&&(Ke(a)&&Ct(a)||Array.isArray(a)&&Uw(a))&&et(i,r.slice(0,-1)),i}var Xl=()=>{let i=[];return{get observers(){return i},next:l=>{for(const u of i)u.next&&u.next(l)},subscribe:l=>(i.push(l),{unsubscribe:()=>{i=i.filter(u=>u!==l)}}),unsubscribe:()=>{i=[]}}},cu=i=>wt(i)||!fp(i);function Jr(i,n){if(cu(i)||cu(n))return i===n;if(mn(i)&&mn(n))return i.getTime()===n.getTime();const r=Object.keys(i),a=Object.keys(n);if(r.length!==a.length)return!1;for(const l of r){const u=i[l];if(!a.includes(l))return!1;if(l!=="ref"){const d=n[l];if(mn(u)&&mn(d)||Ke(u)&&Ke(d)||Array.isArray(u)&&Array.isArray(d)?!Jr(u,d):u!==d)return!1}}return!0}var gp=i=>i.type==="select-multiple",zw=i=>Iu(i)||ui(i),Zl=i=>$a(i)&&i.isConnected,yp=i=>{for(const n in i)if(lr(i[n]))return!0;return!1};function Ua(i,n={}){const r=Array.isArray(i);if(Ke(i)||r)for(const a in i)Array.isArray(i[a])||Ke(i[a])&&!yp(i[a])?(n[a]=Array.isArray(i[a])?[]:{},Ua(i[a],n[a])):wt(i[a])||(n[a]=!0);return n}function vp(i,n,r){const a=Array.isArray(i);if(Ke(i)||a)for(const l in i)Array.isArray(i[l])||Ke(i[l])&&!yp(i[l])?Ye(n)||cu(r[l])?r[l]=Array.isArray(i[l])?Ua(i[l],[]):{...Ua(i[l])}:vp(i[l],wt(n)?{}:n[l],r[l]):r[l]=!Jr(i[l],n[l]);return r}var Ys=(i,n)=>vp(i,n,Ua(n)),wp=(i,{valueAsNumber:n,valueAsDate:r,setValueAs:a})=>Ye(i)?i:n?i===""?NaN:i&&+i:r&&ur(i)?new Date(i):a?a(i):i;function eu(i){const n=i.ref;return Au(n)?n.files:Iu(n)?mp(i.refs).value:gp(n)?[...n.selectedOptions].map(({value:r})=>r):ui(n)?pp(i.refs).value:wp(Ye(n.value)?i.ref.value:n.value,i)}var Mw=(i,n,r,a)=>{const l={};for(const u of i){const d=ee(n,u);d&&Ue(l,u,d._f)}return{criteriaMode:r,names:[...i],fields:l,shouldUseNativeValidation:a}},Xs=i=>Ye(i)?i:Fa(i)?i.source:Ke(i)?Fa(i.value)?i.value.source:i.value:i;const _h="AsyncFunction";var Bw=i=>!!i&&!!i.validate&&!!(lr(i.validate)&&i.validate.constructor.name===_h||Ke(i.validate)&&Object.values(i.validate).find(n=>n.constructor.name===_h)),Vw=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate);function kh(i,n,r){const a=ee(i,r);if(a||Lu(r))return{error:a,name:r};const l=r.split(".");for(;l.length;){const u=l.join("."),d=ee(n,u),h=ee(i,u);if(d&&!Array.isArray(d)&&r!==u)return{name:r};if(h&&h.type)return{name:u,error:h};l.pop()}return{name:r}}var Hw=(i,n,r,a,l)=>l.isOnAll?!1:!r&&l.isOnTouch?!(n||i):(r?a.isOnBlur:l.isOnBlur)?!i:(r?a.isOnChange:l.isOnChange)?i:!0,qw=(i,n)=>!Ha(ee(i,n)).length&&et(i,n);const Ww={mode:Zt.onSubmit,reValidateMode:Zt.onChange,shouldFocusError:!0};function Qw(i={}){let n={...Ww,...i},r={submitCount:0,isDirty:!1,isLoading:lr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},a={},l=Ke(n.defaultValues)||Ke(n.values)?Mt(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:Mt(l),d={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={values:Xl(),array:Xl(),state:Xl()},x=ph(n.mode),b=ph(n.reValidateMode),k=n.criteriaMode===Zt.all,N=j=>L=>{clearTimeout(g),g=setTimeout(j,L)},P=async j=>{if(!n.disabled&&(y.isValid||j)){const L=n.resolver?Ct((await ve()).errors):await xe(a,!0);L!==r.isValid&&w.state.next({isValid:L})}},D=(j,L)=>{!n.disabled&&(y.isValidating||y.validatingFields)&&((j||Array.from(h.mount)).forEach(F=>{F&&(L?Ue(r.validatingFields,F,L):et(r.validatingFields,F))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Ct(r.validatingFields)}))},$=(j,L=[],F,K,Q=!0,W=!0)=>{if(K&&F&&!n.disabled){if(d.action=!0,W&&Array.isArray(ee(a,j))){const se=F(ee(a,j),K.argA,K.argB);Q&&Ue(a,j,se)}if(W&&Array.isArray(ee(r.errors,j))){const se=F(ee(r.errors,j),K.argA,K.argB);Q&&Ue(r.errors,j,se),qw(r.errors,j)}if(y.touchedFields&&W&&Array.isArray(ee(r.touchedFields,j))){const se=F(ee(r.touchedFields,j),K.argA,K.argB);Q&&Ue(r.touchedFields,j,se)}y.dirtyFields&&(r.dirtyFields=Ys(l,u)),w.state.next({name:j,isDirty:ue(j,L),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ue(u,j,L)},A=(j,L)=>{Ue(r.errors,j,L),w.state.next({errors:r.errors})},U=j=>{r.errors=j,w.state.next({errors:r.errors,isValid:!1})},V=(j,L,F,K)=>{const Q=ee(a,j);if(Q){const W=ee(u,j,Ye(F)?ee(l,j):F);Ye(W)||K&&K.defaultChecked||L?Ue(u,j,L?W:eu(Q._f)):Oe(j,W),d.mount&&P()}},oe=(j,L,F,K,Q)=>{let W=!1,se=!1;const pe={name:j};if(!n.disabled){const We=!!(ee(a,j)&&ee(a,j)._f&&ee(a,j)._f.disabled);if(!F||K){y.isDirty&&(se=r.isDirty,r.isDirty=pe.isDirty=ue(),W=se!==pe.isDirty);const He=We||Jr(ee(l,j),L);se=!!(!We&&ee(r.dirtyFields,j)),He||We?et(r.dirtyFields,j):Ue(r.dirtyFields,j,!0),pe.dirtyFields=r.dirtyFields,W=W||y.dirtyFields&&se!==!He}if(F){const He=ee(r.touchedFields,j);He||(Ue(r.touchedFields,j,F),pe.touchedFields=r.touchedFields,W=W||y.touchedFields&&He!==F)}W&&Q&&w.state.next(pe)}return W?pe:{}},ye=(j,L,F,K)=>{const Q=ee(r.errors,j),W=y.isValid&&or(L)&&r.isValid!==L;if(n.delayError&&F?(p=N(()=>A(j,F)),p(n.delayError)):(clearTimeout(g),p=null,F?Ue(r.errors,j,F):et(r.errors,j)),(F?!Jr(Q,F):Q)||!Ct(K)||W){const se={...K,...W&&or(L)?{isValid:L}:{},errors:r.errors,name:j};r={...r,...se},w.state.next(se)}},ve=async j=>{D(j,!0);const L=await n.resolver(u,n.context,Mw(j||h.mount,a,n.criteriaMode,n.shouldUseNativeValidation));return D(j),L},fe=async j=>{const{errors:L}=await ve(j);if(j)for(const F of j){const K=ee(L,F);K?Ue(r.errors,F,K):et(r.errors,F)}else r.errors=L;return L},xe=async(j,L,F={valid:!0})=>{for(const K in j){const Q=j[K];if(Q){const{_f:W,...se}=Q;if(W){const pe=h.array.has(W.name),We=Q._f&&Bw(Q._f);We&&y.validatingFields&&D([K],!0);const He=await xh(Q,h.disabled,u,k,n.shouldUseNativeValidation&&!L,pe);if(We&&y.validatingFields&&D([K]),He[W.name]&&(F.valid=!1,L))break;!L&&(ee(He,W.name)?pe?$w(r.errors,He,W.name):Ue(r.errors,W.name,He[W.name]):et(r.errors,W.name))}!Ct(se)&&await xe(se,L,F)}}return F.valid},rt=()=>{for(const j of h.unMount){const L=ee(a,j);L&&(L._f.refs?L._f.refs.every(F=>!Zl(F)):!Zl(L._f.ref))&&_e(j)}h.unMount=new Set},ue=(j,L)=>!n.disabled&&(j&&L&&Ue(u,j,L),!Jr(T(),l)),de=(j,L,F)=>Iw(j,h,{...d.mount?u:Ye(L)?l:ur(j)?{[j]:L}:L},F,L),Pe=j=>Ha(ee(d.mount?u:l,j,n.shouldUnregister?ee(l,j,[]):[])),Oe=(j,L,F={})=>{const K=ee(a,j);let Q=L;if(K){const W=K._f;W&&(!W.disabled&&Ue(u,j,wp(L,W)),Q=$a(W.ref)&&wt(L)?"":L,gp(W.ref)?[...W.ref.options].forEach(se=>se.selected=Q.includes(se.value)):W.refs?ui(W.ref)?W.refs.length>1?W.refs.forEach(se=>(!se.defaultChecked||!se.disabled)&&(se.checked=Array.isArray(Q)?!!Q.find(pe=>pe===se.value):Q===se.value)):W.refs[0]&&(W.refs[0].checked=!!Q):W.refs.forEach(se=>se.checked=se.value===Q):Au(W.ref)?W.ref.value="":(W.ref.value=Q,W.ref.type||w.values.next({name:j,values:{...u}})))}(F.shouldDirty||F.shouldTouch)&&oe(j,Q,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&G(j)},Ae=(j,L,F)=>{for(const K in L){const Q=L[K],W=`${j}.${K}`,se=ee(a,W);(h.array.has(j)||Ke(Q)||se&&!se._f)&&!mn(Q)?Ae(W,Q,F):Oe(W,Q,F)}},ke=(j,L,F={})=>{const K=ee(a,j),Q=h.array.has(j),W=Mt(L);Ue(u,j,W),Q?(w.array.next({name:j,values:{...u}}),(y.isDirty||y.dirtyFields)&&F.shouldDirty&&w.state.next({name:j,dirtyFields:Ys(l,u),isDirty:ue(j,W)})):K&&!K._f&&!wt(W)?Ae(j,W,F):Oe(j,W,F),mh(j,h)&&w.state.next({...r}),w.values.next({name:d.mount?j:void 0,values:{...u}})},J=async j=>{d.mount=!0;const L=j.target;let F=L.name,K=!0;const Q=ee(a,F),W=()=>L.type?eu(Q._f):Nw(j),se=pe=>{K=Number.isNaN(pe)||mn(pe)&&isNaN(pe.getTime())||Jr(pe,ee(u,F,pe))};if(Q){let pe,We;const He=W(),Nt=j.type===hh.BLUR||j.type===hh.FOCUS_OUT,fi=!Vw(Q._f)&&!n.resolver&&!ee(r.errors,F)&&!Q._f.deps||Hw(Nt,ee(r.touchedFields,F),r.isSubmitted,b,x),cr=mh(F,h,Nt);Ue(u,F,He),Nt?(Q._f.onBlur&&Q._f.onBlur(j),p&&p(0)):Q._f.onChange&&Q._f.onChange(j);const dr=oe(F,He,Nt,!1),Qa=!Ct(dr)||cr;if(!Nt&&w.values.next({name:F,type:j.type,values:{...u}}),fi)return y.isValid&&(n.mode==="onBlur"&&Nt?P():Nt||P()),Qa&&w.state.next({name:F,...cr?{}:dr});if(!Nt&&cr&&w.state.next({...r}),n.resolver){const{errors:ns}=await ve([F]);if(se(He),K){const hi=kh(r.errors,a,F),pi=kh(ns,a,hi.name||F);pe=pi.error,F=pi.name,We=Ct(ns)}}else D([F],!0),pe=(await xh(Q,h.disabled,u,k,n.shouldUseNativeValidation))[F],D([F]),se(He),K&&(pe?We=!1:y.isValid&&(We=await xe(a,!0)));K&&(Q._f.deps&&G(Q._f.deps),ye(F,We,pe,dr))}},ne=(j,L)=>{if(ee(r.errors,L)&&j.focus)return j.focus(),1},G=async(j,L={})=>{let F,K;const Q=Ra(j);if(n.resolver){const W=await fe(Ye(j)?j:Q);F=Ct(W),K=j?!Q.some(se=>ee(W,se)):F}else j?(K=(await Promise.all(Q.map(async W=>{const se=ee(a,W);return await xe(se&&se._f?{[W]:se}:se)}))).every(Boolean),!(!K&&!r.isValid)&&P()):K=F=await xe(a);return w.state.next({...!ur(j)||y.isValid&&F!==r.isValid?{}:{name:j},...n.resolver||!j?{isValid:F}:{},errors:r.errors}),L.shouldFocus&&!K&&ni(a,ne,j?Q:h.mount),K},T=j=>{const L={...d.mount?u:l};return Ye(j)?L:ur(j)?ee(L,j):j.map(F=>ee(L,F))},z=(j,L)=>({invalid:!!ee((L||r).errors,j),isDirty:!!ee((L||r).dirtyFields,j),error:ee((L||r).errors,j),isValidating:!!ee(r.validatingFields,j),isTouched:!!ee((L||r).touchedFields,j)}),he=j=>{j&&Ra(j).forEach(L=>et(r.errors,L)),w.state.next({errors:j?r.errors:{}})},me=(j,L,F)=>{const K=(ee(a,j,{_f:{}})._f||{}).ref,Q=ee(r.errors,j)||{},{ref:W,message:se,type:pe,...We}=Q;Ue(r.errors,j,{...We,...L,ref:K}),w.state.next({name:j,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&K&&K.focus&&K.focus()},be=(j,L)=>lr(j)?w.values.subscribe({next:F=>j(de(void 0,L),F)}):de(j,L,!0),_e=(j,L={})=>{for(const F of j?Ra(j):h.mount)h.mount.delete(F),h.array.delete(F),L.keepValue||(et(a,F),et(u,F)),!L.keepError&&et(r.errors,F),!L.keepDirty&&et(r.dirtyFields,F),!L.keepTouched&&et(r.touchedFields,F),!L.keepIsValidating&&et(r.validatingFields,F),!n.shouldUnregister&&!L.keepDefaultValue&&et(l,F);w.values.next({values:{...u}}),w.state.next({...r,...L.keepDirty?{isDirty:ue()}:{}}),!L.keepIsValid&&P()},Te=({disabled:j,name:L,field:F,fields:K})=>{(or(j)&&d.mount||j||h.disabled.has(L))&&(j?h.disabled.add(L):h.disabled.delete(L),oe(L,eu(F?F._f:ee(K,L)._f),!1,!1,!0))},je=(j,L={})=>{let F=ee(a,j);const K=or(L.disabled)||or(n.disabled);return Ue(a,j,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:j}},name:j,mount:!0,...L}}),h.mount.add(j),F?Te({field:F,disabled:or(L.disabled)?L.disabled:n.disabled,name:j}):V(j,!0,L.value),{...K?{disabled:L.disabled||n.disabled}:{},...n.progressive?{required:!!L.required,min:Xs(L.min),max:Xs(L.max),minLength:Xs(L.minLength),maxLength:Xs(L.maxLength),pattern:Xs(L.pattern)}:{},name:j,onChange:J,onBlur:J,ref:Q=>{if(Q){je(j,L),F=ee(a,j);const W=Ye(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,se=zw(W),pe=F._f.refs||[];if(se?pe.find(We=>We===W):W===F._f.ref)return;Ue(a,j,{_f:{...F._f,...se?{refs:[...pe.filter(Zl),W,...Array.isArray(ee(l,j))?[{}]:[]],ref:{type:W.type,name:j}}:{ref:W}}}),V(j,!1,void 0,W)}else F=ee(a,j,{}),F._f&&(F._f.mount=!1),(n.shouldUnregister||L.shouldUnregister)&&!(Tw(h.array,j)&&d.action)&&h.unMount.add(j)}}},Le=()=>n.shouldFocusError&&ni(a,ne,h.mount),gt=j=>{or(j)&&(w.state.next({disabled:j}),ni(a,(L,F)=>{const K=ee(a,F);K&&(L.disabled=K._f.disabled||j,Array.isArray(K._f.refs)&&K._f.refs.forEach(Q=>{Q.disabled=K._f.disabled||j}))},0,!1))},Gr=(j,L)=>async F=>{let K;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let Q=Mt(u);if(h.disabled.size)for(const W of h.disabled)Ue(Q,W,void 0);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:W,values:se}=await ve();r.errors=W,Q=se}else await xe(a);if(et(r.errors,"root"),Ct(r.errors)){w.state.next({errors:{}});try{await j(Q,F)}catch(W){K=W}}else L&&await L({...r.errors},F),Le(),setTimeout(Le);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ct(r.errors)&&!K,submitCount:r.submitCount+1,errors:r.errors}),K)throw K},ci=(j,L={})=>{ee(a,j)&&(Ye(L.defaultValue)?ke(j,Mt(ee(l,j))):(ke(j,L.defaultValue),Ue(l,j,Mt(L.defaultValue))),L.keepTouched||et(r.touchedFields,j),L.keepDirty||(et(r.dirtyFields,j),r.isDirty=L.defaultValue?ue(j,Mt(ee(l,j))):ue()),L.keepError||(et(r.errors,j),y.isValid&&P()),w.state.next({...r}))},Yr=(j,L={})=>{const F=j?Mt(j):l,K=Mt(F),Q=Ct(j),W=Q?l:K;if(L.keepDefaultValues||(l=F),!L.keepValues){if(L.keepDirtyValues){const se=new Set([...h.mount,...Object.keys(Ys(l,u))]);for(const pe of Array.from(se))ee(r.dirtyFields,pe)?Ue(W,pe,ee(u,pe)):ke(pe,ee(W,pe))}else{if(Ou&&Ye(j))for(const se of h.mount){const pe=ee(a,se);if(pe&&pe._f){const We=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if($a(We)){const He=We.closest("form");if(He){He.reset();break}}}}a={}}u=n.shouldUnregister?L.keepDefaultValues?Mt(l):{}:Mt(W),w.array.next({values:{...W}}),w.values.next({values:{...W}})}h={mount:L.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!y.isValid||!!L.keepIsValid||!!L.keepDirtyValues,d.watch=!!n.shouldUnregister,w.state.next({submitCount:L.keepSubmitCount?r.submitCount:0,isDirty:Q?!1:L.keepDirty?r.isDirty:!!(L.keepDefaultValues&&!Jr(j,l)),isSubmitted:L.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Q?{}:L.keepDirtyValues?L.keepDefaultValues&&u?Ys(l,u):r.dirtyFields:L.keepDefaultValues&&j?Ys(l,j):L.keepDirty?r.dirtyFields:{},touchedFields:L.keepTouched?r.touchedFields:{},errors:L.keepErrors?r.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xn=(j,L)=>Yr(lr(j)?j(u):j,L);return{control:{register:je,unregister:_e,getFieldState:z,handleSubmit:Gr,setError:me,_executeSchema:ve,_getWatch:de,_getDirty:ue,_updateValid:P,_removeUnmounted:rt,_updateFieldArray:$,_updateDisabledField:Te,_getFieldArray:Pe,_reset:Yr,_resetDefaultValues:()=>lr(n.defaultValues)&&n.defaultValues().then(j=>{xn(j,n.resetOptions),w.state.next({isLoading:!1})}),_updateFormState:j=>{r={...r,...j}},_disableForm:gt,_subjects:w,_proxyFormState:y,_setErrors:U,get _fields(){return a},get _formValues(){return u},get _state(){return d},set _state(j){d=j},get _defaultValues(){return l},get _names(){return h},set _names(j){h=j},get _formState(){return r},set _formState(j){r=j},get _options(){return n},set _options(j){n={...n,...j}}},trigger:G,register:je,handleSubmit:Gr,watch:be,setValue:ke,getValues:T,reset:xn,resetField:ci,clearErrors:he,unregister:_e,setError:me,setFocus:(j,L={})=>{const F=ee(a,j),K=F&&F._f;if(K){const Q=K.refs?K.refs[0]:K.ref;Q.focus&&(Q.focus(),L.shouldSelect&&lr(Q.select)&&Q.select())}},getFieldState:z}}function Jw(i={}){const n=tt.useRef(void 0),r=tt.useRef(void 0),[a,l]=tt.useState({isDirty:!1,isValidating:!1,isLoading:lr(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,defaultValues:lr(i.defaultValues)?void 0:i.defaultValues});n.current||(n.current={...Qw(i),formState:a});const u=n.current.control;return u._options=i,Aw({subject:u._subjects.state,next:d=>{Lw(d,u._proxyFormState,u._updateFormState)&&l({...u._formState})}}),tt.useEffect(()=>u._disableForm(i.disabled),[u,i.disabled]),tt.useEffect(()=>{if(u._proxyFormState.isDirty){const d=u._getDirty();d!==a.isDirty&&u._subjects.state.next({isDirty:d})}},[u,a.isDirty]),tt.useEffect(()=>{i.values&&!Jr(i.values,r.current)?(u._reset(i.values,u._options.resetOptions),r.current=i.values,l(d=>({...d}))):u._resetDefaultValues()},[i.values,u]),tt.useEffect(()=>{i.errors&&u._setErrors(i.errors)},[i.errors,u]),tt.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),tt.useEffect(()=>{i.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[i.shouldUnregister,u]),n.current.formState=Ow(a,u),n.current}const xp=({isOpen:i,onClose:n,onSave:r,editingAddress:a})=>{const{register:l,handleSubmit:u,setValue:d,reset:h,formState:{errors:p}}=Jw();return S.useEffect(()=>{a?(d("name",a.name),d("phone_number",a.phone_number),d("county",a.county),d("city",a.city),d("address",a.address)):h()},[a,d,h]),i?m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-gray-50 p-6 rounded shadow-lg w-full max-w-md relative",children:[m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700 text-3xl font-bold transform transition duration-250 active:scale-105",onClick:n,children:"× "})}),m.jsxs("h3",{className:"text-xl font-bold mb-4",children:[a?"Modifică Adresa":"Adaugă Adresă Nouă"," "]}),m.jsxs("form",{onSubmit:u(r),children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"name",className:"text-gray-500",children:"Nume:"}),m.jsx("input",{id:"name",...l("name",{required:"Numele este obligatoriu."}),className:"w-full border p-2 rounded-md shadow-sm hover:shadow-md focus:shadow-lg transition-shadow duration-300"}),p.name&&m.jsx("p",{className:"text-red-500 text-sm",children:p.name.message})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"phone_number",className:"text-gray-500",children:"Telefon:"}),m.jsx("input",{id:"phone_number",...l("phone_number",{required:"Numărul de telefon este obligatoriu."}),className:"w-full border p-2 rounded-md shadow-sm hover:shadow-md focus:shadow-lg transition-shadow duration-300"}),p.phone_number&&m.jsx("p",{className:"text-red-500 text-sm",children:p.phone_number.message})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"county",className:"text-gray-500",children:"Județ:"}),m.jsx("input",{id:"county",...l("county",{required:"Județul este obligatoriu."}),className:"w-full border p-2 rounded-md shadow-sm hover:shadow-md focus:shadow-lg transition-shadow duration-300"}),p.county&&m.jsx("p",{className:"text-red-500 text-sm",children:p.county.message})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"city",className:"text-gray-500",children:"Oraș:"}),m.jsx("input",{id:"city",...l("city",{required:"Orașul este obligatoriu."}),className:"w-full border p-2 rounded-md shadow-sm hover:shadow-md focus:shadow-lg transition-shadow duration-300"}),p.city&&m.jsx("p",{className:"text-red-500 text-sm",children:p.city.message})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"address",className:"text-gray-500",children:"Adresă:"}),m.jsx("input",{id:"address",...l("address",{required:"Adresa este obligatorie."}),className:"w-full border p-2 rounded-md shadow-sm hover:shadow-md focus:shadow-lg transition-shadow duration-300"}),p.address&&m.jsx("p",{className:"text-red-500 text-sm",children:p.address.message})]}),m.jsx("div",{className:"flex justify-end mt-6",children:m.jsx("button",{type:"submit",className:"bg-sky-900 hover:bg-sky-800 active:bg-sky-700 text-white px-3 py-2 rounded-md transform transition duration-250 active:scale-105",style:{width:"25%"},children:"Salvează"})})]})]})}):null};xp.propTypes={isOpen:Ee.bool.isRequired,onClose:Ee.func.isRequired,onSave:Ee.func.isRequired,editingAddress:Ee.shape({name:Ee.string,phone_number:Ee.string,county:Ee.string,city:Ee.string,address:Ee.string})};const Kw=()=>{const{addresses:i,fetchAddresses:n}=S.useContext(Ru),[r,a]=S.useState(!1),[l,u]=S.useState(null),[d,h]=S.useState(!1),[p,g]=S.useState(null),[y,w]=S.useState(null),x=At(),b=(U=null)=>{u(U),a(!0)},k=()=>{a(!1)},N=async U=>{const V={...U,is_default:(l==null?void 0:l.is_default)||!1,id:l==null?void 0:l.id},{error:oe}=await le.from("user_addresses").upsert(V);oe?console.error("Eroare la salvarea adresei."):(a(!1),n())},P=U=>{g(U),h(!0)},D=()=>{h(!1),g(null)},$=async()=>{if(!p)return;const{error:U}=await le.from("user_addresses").delete().eq("id",p.id);U?console.error("Eroare la ștergerea adresei."):(h(!1),n(),g(null))},A=async U=>{try{const{error:V}=await le.from("user_addresses").update({is_default:!1}).eq("user_id",U.user_id);if(V){console.error("Eroare la resetarea adreselor:",V),w("Eroare la resetarea adreselor.");return}const{error:oe}=await le.from("user_addresses").update({is_default:!0}).eq("id",U.id);if(oe){console.error("Eroare la setarea adresei implicite:",oe),w("Eroare la setarea adresei implicite.");return}n()}catch(V){console.error("Eroare neașteptată:",V),w("A apărut o eroare neașteptată.")}};return m.jsxs("div",{className:"p-4",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Adresele Mele"}),y&&m.jsx("p",{className:"text-red-500",children:y})," ",m.jsx("div",{className:"mb-4 ",children:i.map(U=>m.jsxs("div",{className:`border rounded-lg p-4 mb-4 bg-gray-100 shadow-md hover:shadow-lg transition-shadow duration-300 ${U.is_default?"bg-green-50":""}`,children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Nume:"})," ",U.name]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Telefon:"})," ",U.phone_number]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Adresă:"})," ",U.address,", ",U.city,","," ",U.county]}),m.jsxs("div",{className:"flex mt-4",children:[m.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-4",onClick:()=>b(U),children:"Editează"}),m.jsx("button",{className:"text-red-500 hover:text-red-700 ml-4",onClick:()=>P(U),children:"Șterge"}),m.jsx("button",{className:"ml-8 text-gray-500 font-semibold hover:text-gray-700",onClick:()=>A(U),disabled:U.is_default,children:U.is_default?"Favorită":"Setează ca Favorită"})]})]},U.id))}),m.jsxs("div",{className:"flex justify-start space-x-4 mt-4",children:[m.jsxs("button",{className:"bg-sky-900 hover:bg-sky-800 active:bg-sky-700 text-white px-2 py-2 rounded-md transform transition duration-250 active:scale-105 w-28 flex items-center justify-center",onClick:()=>x("/MyAccount"),children:[m.jsx("span",{className:"mr-2",children:"←"})," Înapoi"]}),m.jsx("button",{className:"bg-sky-900 hover:bg-sky-800 active:bg-sky-700 text-white px-3 py-2 rounded-md transform transition duration-250 active:scale-105 w-40 min-w-40",onClick:()=>b(),children:"Adaugă Adresă"})]}),m.jsx(xp,{isOpen:r,onClose:k,onSave:N,editingAddress:l}),d&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-md",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Ești sigur că vrei să ștergi această adresă?"}),m.jsxs("div",{className:"flex justify-end",children:[m.jsx("button",{className:"bg-gray-500 text-white px-3 py-2 rounded-md mr-4",onClick:D,children:"Anulează"}),m.jsx("button",{className:"bg-red-500 hover:bg-red-700 text-white px-3 py-2 rounded-md",onClick:$,children:"Șterge"})]})]})})]})},Gw=()=>{const[i,n]=S.useState(""),[r,a]=S.useState(""),[l,u]=S.useState(""),[d,h]=S.useState(!1),p=At(),{login:g}=S.useContext(rs);S.useEffect(()=>{const b=localStorage.getItem("email"),k=localStorage.getItem("password");b&&k&&(n(b),a(k),localStorage.removeItem("email"),localStorage.removeItem("password"))},[]);const y=async b=>{b.preventDefault(),u("");const{data:k,error:N}=await le.auth.signInWithPassword({email:i,password:r});if(N){u("Email sau parolă incorectă");return}if(!k.user.email_confirmed_at){u("Email-ul tău nu este confirmat. Te rugăm să verifici inbox-ul și să confirmi contul."),await le.auth.signOut();return}g(k.user),p("/")},w=()=>{p("/register")},x=()=>{h(!0)};return m.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:[m.jsxs("form",{onSubmit:y,className:"relative bg-white p-6 rounded shadow-md w-80",children:[m.jsx("button",{type:"button",className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:()=>p("/"),children:"✕"}),m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Log In"}),l&&m.jsx("p",{className:"text-red-500 mb-4",children:l})," ",m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"email",className:"block text-gray-700",children:"Email"}),m.jsx("input",{type:"email",id:"email",name:"email",value:i,onChange:b=>n(b.target.value),className:"w-full px-3 py-2 border rounded",required:!0,autoComplete:"new-email"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"password",className:"block text-gray-700",children:"Password"}),m.jsx("input",{type:"password",id:"password",name:"password",value:r,onChange:b=>a(b.target.value),className:"w-full px-3 py-2 border rounded",required:!0,autoComplete:"new-password"})]}),m.jsx("button",{type:"submit",className:"w-full bg-sky-900 text-white py-2 duration-100 active:scale-105 hover:bg-sky-800 active:bg-sky-700 rounded mb-4",children:"Log In"}),m.jsx("button",{type:"button",onClick:w,className:"w-full bg-sky-600 text-white py-2 duration-100 active:scale-105 hover:bg-sky-500 active:bg-sky-400 rounded",children:"Cont Nou"}),m.jsx("button",{type:"button",onClick:x,className:"w-full text-sky-800 py-2 mt-2 rounded",children:"Reset Password"})]}),d&&m.jsx(Pu,{onClose:()=>h(!1)})]})},ei=({element:i})=>{const{isAuthenticated:n}=S.useContext(rs);return n?i:m.jsx(gy,{to:"/login"})};ei.propTypes={element:Ee.element.isRequired};const Yw=()=>{const[i,n]=S.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",subscribe:!1}),[r,a]=S.useState(!1),[l,u]=S.useState(null),[d,h]=S.useState(""),p=At();S.useEffect(()=>{localStorage.removeItem("email"),localStorage.removeItem("password"),n({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",subscribe:!1})},[]);const g=x=>{const{name:b,value:k,type:N,checked:P}=x.target;n({...i,[b]:N==="checkbox"?P:k})},y=async x=>{var U;x.preventDefault(),u(null),a(!0),h("");const{email:b,password:k,confirmPassword:N,firstName:P,lastName:D,phone:$,subscribe:A}=i;if(!b||!k||!P||!D){u("Toate câmpurile sunt obligatorii!"),a(!1);return}if(k!==N){u("Parolele nu coincid!"),a(!1);return}try{const{data:V,error:oe}=await le.auth.signUp({email:b,password:k});if(oe)throw oe;const ye=(U=V.user)==null?void 0:U.id;if(!ye)throw new Error("Nu s-a putut obține ID-ul utilizatorului!");const{error:ve}=await le.from("user_details").insert([{user_id:ye,first_name:P,last_name:D,phone_number:$||null,subscribe:A}]);if(ve)throw ve;h("Contul a fost creat cu succes! Verificați emailul pentru confirmare."),setTimeout(()=>{p("/login")},4e3)}catch(V){console.error("Eroare la înregistrare:",V.message),u(V.message)}finally{a(!1)}},w=()=>{localStorage.removeItem("email"),localStorage.removeItem("password"),n({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",subscribe:!1}),p("/login")};return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:m.jsxs("form",{onSubmit:y,autoComplete:"off",className:"relative bg-gray-100 p-8 rounded-lg shadow-xl w-full max-w-md",children:[m.jsx("input",{type:"text",name:"dummy-username",autoComplete:"username",style:{display:"none"}}),m.jsx("input",{type:"password",name:"dummy-password",autoComplete:"new-password",style:{display:"none"}}),m.jsx("button",{onClick:w,className:"absolute top-3 right-4 text-gray-600 text-3xl hover:text-gray-800",children:"×"}),m.jsx("h2",{className:"text-2xl font-bold text-center mb-1",children:"Înregistrare"}),l&&m.jsx("p",{className:"text-red-600 text-center mb-4",children:l}),d&&m.jsx("p",{className:"text-green-600 text-center mb-4",children:d}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"firstName",className:"block text-gray-600 text-s",children:"Prenume"}),m.jsx("input",{type:"text",name:"firstName",id:"firstName",value:i.firstName,onChange:g,autoComplete:"off",className:"w-full border px-3 py-1 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"lastName",className:"block text-gray-600 text-s",children:"Nume de familie"}),m.jsx("input",{type:"text",name:"lastName",id:"lastName",value:i.lastName,onChange:g,autoComplete:"off",className:"w-full border px-3 py-1 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-gray-600 text-s",children:"Email"}),m.jsx("input",{type:"email",name:"email",id:"email",value:i.email,onChange:g,autoComplete:"off",className:"w-full border px-3 py-1 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-gray-600 text-s",children:"Parolă"}),m.jsx("input",{type:"password",name:"password",id:"password",value:i.password,onChange:g,autoComplete:"off",className:"w-full border px-3 py-1 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirmPassword",className:"block text-gray-600 text-s",children:"Confirmă parola"}),m.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:i.confirmPassword,onChange:g,autoComplete:"off",className:"w-full border px-3 py-1 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"phone",className:"block text-gray-600 text-s",children:"Telefon"}),m.jsx("input",{type:"text",name:"phone",id:"phone",value:i.phone,onChange:g,autoComplete:"off",className:"w-full border px-3 py-1 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"subscribe",id:"subscribe",checked:i.subscribe,onChange:g,className:"form-checkbox h-5 w-5 text-blue-600"}),m.jsx("label",{htmlFor:"subscribe",className:"text-sm mt-4 ml-3 text-gray-700",children:"Doresc să primesc informații despre noutăți, promoții și vouchere de reducere"})]})]}),m.jsx("div",{className:"flex flex-col items-center mt-4",children:m.jsx("button",{type:"submit",disabled:r,className:"w-full bg-sky-900 text-white  duration-100 active:scale-105 hover:bg-sky-800 active:bg-sky-700 py-2 rounded-md",children:r?"Se înregistrează...":"Înregistrare"})}),m.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Declar că am luat la cunoștință de principiile prelucrării datelor și de termenii și condițiile."})]})})},Xw=S.createContext(),_p=({children:i})=>{const[n,r]=S.useState({}),a=(l,u)=>{r(d=>({...d,[l]:u}))};return m.jsx(Xw.Provider,{value:{quantities:n,updateQuantity:a},children:i})};_p.propTypes={children:Ee.node.isRequired};const Zw=()=>{const{addresses:i,favoriteAddress:n}=S.useContext(Ru),[r,a]=S.useState("courier"),[l,u]=S.useState(!1),[d,h]=S.useState(null);S.useEffect(()=>{const y=localStorage.getItem("selectedAddress");y?h(JSON.parse(y)):n&&h(n)},[n]),S.useEffect(()=>{const y=w=>{w.key==="Escape"&&u(!1)};return window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",y)}},[]);const p=y=>{h(y),localStorage.setItem("selectedAddress",JSON.stringify(y)),u(!1)},g=()=>{u(!1)};return m.jsxs("div",{className:"container mx-auto p-10",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4 text-sky-800",children:"Detalii Comandă"}),m.jsxs("div",{className:"mb-6 border rounded-md p-4 bg-gray-50 shadow-md",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"1. Modalitate livrare"}),m.jsxs("div",{className:"flex items-center space-x-6",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",name:"deliveryMethod",value:"courier",checked:r==="courier",onChange:()=>a("courier"),className:"mr-2"}),"Livrare prin curier"]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",name:"deliveryMethod",value:"pickup",checked:r==="pickup",onChange:()=>a("pickup"),className:"mr-2"}),"Ridicare personală"]})]}),r==="courier"&&m.jsxs("div",{className:"mt-4",children:[m.jsx("h3",{className:"font-semibold",children:"Livrare prin curier la:"}),d?m.jsxs("div",{className:"pl-4 mt-2 mb-3 bg-gray-50  p-2",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Nume:"})," ",d.name]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Telefon:"})," ",d.phone_number]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Adresă:"})," ",d.address,","," ",d.city,", ",d.county]})]}):m.jsx("p",{children:"Nu există o adresă selectată."}),m.jsx("div",{className:"mt-2 flex space-x-4",children:m.jsx("button",{className:"bg-white border border-gray-300 text-gray-800 px-4 py-2 rounded-full shadow hover:shadow-md hover:bg-gray-100 active:scale-95 transition duration-200",onClick:()=>u(!0),children:"Alege altă adresă"})})]}),r==="pickup"&&m.jsxs("div",{className:"mt-4",children:[m.jsx("h3",{className:"font-semibold",children:"Ridicare personală din:"}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{className:"bg-white border border-gray-300 text-gray-800 px-4 py-2 rounded-full shadow hover:shadow-md hover:bg-gray-100 active:scale-95 transition duration-200",children:"Alege punct ridicare"})})]})]}),l&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-md shadow-md w-[30rem]",children:[" ",m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-bold text-sky-700",children:"Alege adresa de livrare"}),m.jsx("button",{className:"text-gray-600 hover:text-gray-800 font-bold text-sm",onClick:g,children:"✕"})]}),i.map(y=>m.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[m.jsxs("div",{className:"flex items-center space-x-6",children:[" ",m.jsxs("div",{className:"flex items-center h-full",children:[" ",m.jsx("input",{type:"radio",name:"address",value:y.id,checked:(d==null?void 0:d.id)===y.id,onChange:()=>p(y),className:`w-4 h-4 text-blue-600 bg-white border-2 border-gray-300\r
                     focus:ring-blue-500 rounded-full checked:bg-blue-600\r
                     checked:border-blue-600 checked:ring-4 checked:ring-offset-2 \r
                     appearance-none cursor-pointer`})]}),m.jsxs("div",{children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Nume:"})," ",y.name]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Telefon:"})," ",y.phone_number]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Adresă:"})," ",y.address,", ",y.city,", ",y.county]})]})]}),m.jsx("button",{className:"bg-white border border-blue-500 text-blue-500 px-4 py-2 rounded-full shadow hover:shadow-md hover:bg-blue-500 hover:text-white active:scale-95 transition duration-200 flex items-center justify-center",children:"Editează"})]},y.id))]})})]})};function ex(){const[i,n]=S.useState("");return m.jsx("div",{className:"app-container",children:m.jsx(ap,{children:m.jsx(ip,{children:m.jsx(op,{children:m.jsx(_p,{children:m.jsx(dp,{children:m.jsxs(By,{children:[" ",m.jsx(wy,{children:m.jsxs(ct,{path:"/",element:m.jsx(yw,{searchTerm:i,setSearchTerm:n}),children:[m.jsx(ct,{index:!0,element:m.jsx(ww,{}),onEnter:()=>console.log("ResetPassword route triggered")}),m.jsx(ct,{path:"product-list",element:m.jsx(Cu,{searchTerm:i})}),m.jsx(ct,{path:"newproducts",element:m.jsx(xw,{})}),m.jsx(ct,{path:"cart",element:m.jsx(_w,{})}),m.jsx(ct,{path:"promotions",element:m.jsx(kw,{})}),m.jsx(ct,{path:"product/:id",element:m.jsx(bw,{})}),m.jsx(ct,{path:"*",element:m.jsx(Sw,{})}),m.jsx(ct,{path:"favorite",element:m.jsx(Ew,{})}),m.jsx(ct,{path:"/addresses",element:m.jsx(ei,{element:m.jsx(Kw,{})})}),m.jsx(ct,{path:"register",element:m.jsx(Yw,{})}),m.jsx(ct,{path:"myaccount",element:m.jsx(ei,{element:m.jsx(jw,{})})}),m.jsx(ct,{path:"user/:id",element:m.jsx(ei,{element:m.jsx(Cw,{})})}),m.jsx(ct,{path:"login",element:m.jsx(Gw,{})}),m.jsx(ct,{path:"reset-password",element:m.jsx(Tu,{})}),m.jsx(ct,{path:"order-details",element:m.jsx(ei,{element:m.jsx(Zw,{})})})]})})]})})})})})})})}bg.createRoot(document.getElementById("root")).render(m.jsx(S.StrictMode,{children:m.jsx(ex,{})}));export{du as g};
